<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>7b180b24-4d5d-47ee-bef3-57cee2143e59    </Ид>
	<Наименование>РТ 2.3.10 --&gt; БК 3.0.62</Наименование>
	<ДатаВремяСоздания>2025-04-09T10:17:19</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.3.10.1" СинонимКонфигурации="Розница для Казахстана, редакция 2.3">РозницаДляКазахстана</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.62.1" СинонимКонфигурации="Бухгалтерия для Казахстана, редакция 3.0">БухгалтерияДляКазахстана</Приемник>
	<ПослеПолученияИнформацииОбУзлахОбмена>Параметры.Вставить("УзелОбменаЗагрузкаДанныхСсылка", УзелОбменаЗагрузкаДанных.Ссылка);
Параметры.Вставить("РазрешитьПроведениеДокументовПриЗагрузке", УзелОбменаЗагрузкаДанных.РазрешитьПроведениеДокументовПриЗагрузке);
Параметры.Вставить("КодУзлаДляЗагрузкиДанных", УзелОбменаЗагрузкаДанных.Код);
Параметры.Вставить("КассыВРознице");

ЗаполнитьЗначенияСвойств(Параметры, УзелОбменаЗагрузкаДанных);

Параметры.Вставить("УзелОбменаЗагрузкаДанных", УзелОбменаЗагрузкаДанных.Ссылка);</ПослеПолученияИнформацииОбУзлахОбмена>
	<ПередВыгрузкойДанных>Запросы.ПараметрыВыгрузкиДанных.УстановитьПараметр("Ссылка", УзелДляОбмена);
РезультатыЗапроса = Запросы.ПараметрыВыгрузкиДанных.ВыполнитьПакет();

ВыборкаРеквизитовУзла = РезультатыЗапроса[0].Выбрать();
ВыборкаРеквизитовУзла.Следующий();
РеквизитыУзла = ОбщегоНазначенияРТ.СтруктураПоСтрокеВыборки(РезультатыЗапроса[0], ВыборкаРеквизитовУзла);
ОрганизацииУзла = РезультатыЗапроса[1].Выгрузить().ВыгрузитьКолонку("Организация");

Параметры.Вставить("РеквизитыУзла", РеквизитыУзла);
Параметры.Вставить("ОрганизацииУзла", ОрганизацииУзла);
Параметры.Вставить("ИспользоватьПрименениеЦен", Константы.ИспользоватьПрименениеЦен.Получить());
Параметры.Вставить("СписокОбъектовСозданныхВТекущемСеансеОбмена", Новый Массив);
Параметры.Вставить("СпособПередачиСписания", ВыборкаРеквизитовУзла.СпособПередачиСписания);
Параметры.Вставить("ВыгружатьОтчетОРозничныхПродажахКакРеализацию", ВыборкаРеквизитовУзла.ВыгружатьОтчетОРозничныхПродажахКакРеализацию);
Параметры.Вставить("ИспользоватьОтветственногоКакАвтора", ВыборкаРеквизитовУзла.ИспользоватьОтветственногоКакАвтора);</ПередВыгрузкойДанных>
	<ПослеВыгрузкиДанных>// Регистрируем объекты, созданные в этом сеансе обмена так, чтобы они относились к текущему сообщению обмена
Если Параметры.СписокОбъектовСозданныхВТекущемСеансеОбмена.Количество() &lt;&gt; 0 Тогда
	Для каждого СозданныйОбъект Из Параметры.СписокОбъектовСозданныхВТекущемСеансеОбмена Цикл
		ЗарегистрироватьОбъектСозданныйПриВыгрузке(СозданныйОбъект.Ссылка);
	КонецЦикла;
КонецЕсли;</ПослеВыгрузкиДанных>
	<ПередЗагрузкойДанных>СоответствиеПодразделений = Новый Соответствие;
Для Каждого СтрокаСоответствия Из УзелОбменаЗагрузкаДанных.СоответствиеПодразделенийМагазинам Цикл 
	СоответствиеПодразделений.Вставить(СтрокаСоответствия.Магазин, СтрокаСоответствия.ПодразделениеОрганизации); 
КонецЦикла; 
Параметры.Вставить("СоответствиеПодразделений", СоответствиеПодразделений);

Параметры.Вставить("ВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоУчета.Получить());
Параметры.Вставить("ИдентификаторыУЦН", Новый Массив);
Параметры.Вставить("ИдентификаторыДЦН", Новый Массив);
Параметры.Вставить("ДокументыДляПроведения", Новый Массив);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>Если Параметры.ИдентификаторыУЦН.Количество() &gt; 0 Тогда
	ТаблицаСвойств = Новый ТаблицаЗначений;
	ТаблицаСвойств.Колонки.Добавить("СвойствоУЦН", Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"));
	ТаблицаСвойств.Колонки.Добавить("ЗначениеУЦН", Новый ОписаниеТипов("Строка",,Новый КвалификаторыСтроки(150)));	
	ТаблицаСвойств.Колонки.Добавить("СвойствоПЦ", Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"));
	ТаблицаСвойств.Колонки.Добавить("ЗначениеПЦ", Новый ОписаниеТипов("Строка",,Новый КвалификаторыСтроки(150)));	
	ТаблицаСвойств.Колонки.Добавить("СсылкаНаДокумент", Новый ОписаниеТипов("ДокументСсылка.УстановкаЦенНоменклатуры"));
	СвойствоУЦН  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторУстановкиЦенНоменклатуры", Истина);
	СвойствоПЦ   = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторПравилаЦенообразования", Истина);
	Если НЕ (СвойствоУЦН.Пустая()
		ИЛИ СвойствоПЦ.Пустая()) Тогда
		Для каждого ИдентификацияДокумента Из Параметры.ИдентификаторыУЦН Цикл
			СтрокаСвойств = ТаблицаСвойств.Добавить();
			СтрокаСвойств.СвойствоУЦН = СвойствоУЦН;
			СтрокаСвойств.ЗначениеУЦН = ИдентификацияДокумента["ИдентификаторУЦН"];
			СтрокаСвойств.СвойствоПЦ = СвойствоПЦ;
			СтрокаСвойств.ЗначениеПЦ = ИдентификацияДокумента["ИдентификаторПЦ"];
			СтрокаСвойств.СсылкаНаДокумент = ИдентификацияДокумента["СсылкаНаДокумент"];
		КонецЦикла;	
		
		Запрос = Новый Запрос("ВЫБРАТЬ
		|	ТаблицаСвойств.СвойствоУЦН,
		|	ТаблицаСвойств.ЗначениеУЦН,
		|	ТаблицаСвойств.СвойствоПЦ,
		|	ТаблицаСвойств.ЗначениеПЦ,
		|	ТаблицаСвойств.СсылкаНаДокумент
		|ПОМЕСТИТЬ ТаблицаСвойств
		|ИЗ
		|	&amp;ТаблицаСвойств КАК ТаблицаСвойств
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ТаблицаТолькоСвойства.СвойствоУЦН,
		|	ТаблицаТолькоСвойства.ЗначениеУЦН,
		|	ТаблицаТолькоСвойства.СвойствоПЦ,
		|	ТаблицаТолькоСвойства.ЗначениеПЦ
		|ИЗ
		|	ТаблицаСвойств КАК ТаблицаТолькоСвойства
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ТаблицаТолькоСвойстваУЦН.СвойствоУЦН,
		|	ТаблицаТолькоСвойстваУЦН.ЗначениеУЦН
		|ПОМЕСТИТЬ ТаблицаТолькоСвойстваУЦН
		|ИЗ
		|	ТаблицаСвойств КАК ТаблицаТолькоСвойстваУЦН
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ТаблицаТолькоСвойстваПЦ.СвойствоПЦ,
		|	ТаблицаТолькоСвойстваПЦ.ЗначениеПЦ
		|ПОМЕСТИТЬ ТаблицаТолькоСвойстваПЦ
		|ИЗ
		|	ТаблицаСвойств КАК ТаблицаТолькоСвойстваПЦ
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ТаблицаТолькоСвойстваУЦН.СвойствоУЦН,
		|	ТаблицаТолькоСвойстваУЦН.ЗначениеУЦН,
		|	ВЫРАЗИТЬ(ДополнительныеСведения.Объект КАК Документ.УстановкаЦенНоменклатуры) КАК СсылкаНаДокумент
		|ПОМЕСТИТЬ ВсеУстановкиЦенНоменклатурыВИБ
		|ИЗ
		|	ТаблицаТолькоСвойстваУЦН КАК ТаблицаТолькоСвойстваУЦН
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
		|		ПО (ДополнительныеСведения.Свойство = ТаблицаТолькоСвойстваУЦН.СвойствоУЦН)
		|			И (ДополнительныеСведения.Значение = ТаблицаТолькоСвойстваУЦН.ЗначениеУЦН)
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ТаблицаТолькоСвойстваПЦ.СвойствоПЦ,
		|	ТаблицаТолькоСвойстваПЦ.ЗначениеПЦ,
		|	ВЫРАЗИТЬ(ДополнительныеСведения.Объект КАК Документ.УстановкаЦенНоменклатуры) КАК СсылкаНаДокумент
		|ПОМЕСТИТЬ ВсеУстановкиЦенНоменклатурыВИБПоПравиламЦенообразования
		|ИЗ
		|	ТаблицаТолькоСвойстваПЦ КАК ТаблицаТолькоСвойстваПЦ
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
		|		ПО (ДополнительныеСведения.Свойство = ТаблицаТолькоСвойстваПЦ.СвойствоПЦ)
		|			И (ДополнительныеСведения.Значение = ТаблицаТолькоСвойстваПЦ.ЗначениеПЦ)
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВсеУстановкиЦенНоменклатурыВИБ.СвойствоУЦН,
		|	ВсеУстановкиЦенНоменклатурыВИБ.ЗначениеУЦН,
		|	ВсеУстановкиЦенНоменклатурыВИБ.СсылкаНаДокумент,
		|	ПоПравиламЦенообразования.СвойствоПЦ,
		|	ПоПравиламЦенообразования.ЗначениеПЦ
		|ПОМЕСТИТЬ ДанныеИБ
		|ИЗ
		|	ВсеУстановкиЦенНоменклатурыВИБ КАК ВсеУстановкиЦенНоменклатурыВИБ
		|		ЛЕВОЕ СОЕДИНЕНИЕ ВсеУстановкиЦенНоменклатурыВИБПоПравиламЦенообразования КАК ПоПравиламЦенообразования
		|		ПО ВсеУстановкиЦенНоменклатурыВИБ.СсылкаНаДокумент = ПоПравиламЦенообразования.СсылкаНаДокумент
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ДанныеИБ.СвойствоУЦН,
		|	ДанныеИБ.ЗначениеУЦН,
		|	ДанныеИБ.СсылкаНаДокумент КАК ДокументУстановкиЦен,
		|	ДанныеИБ.СвойствоПЦ,
		|	ДанныеИБ.ЗначениеПЦ
		|ИЗ
		|	ДанныеИБ КАК ДанныеИБ
		|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаСвойств КАК ТаблицаСвойств
		|		ПО (ТаблицаСвойств.СсылкаНаДокумент = ДанныеИБ.СсылкаНаДокумент)
		|			И (ТаблицаСвойств.СвойствоУЦН = ДанныеИБ.СвойствоУЦН)
		|			И (ТаблицаСвойств.ЗначениеУЦН = ДанныеИБ.ЗначениеУЦН)
		|			И (ТаблицаСвойств.ЗначениеПЦ = ДанныеИБ.ЗначениеПЦ)
		|			И (ТаблицаСвойств.СвойствоПЦ = ДанныеИБ.СвойствоПЦ)
		|ГДЕ
		|	ТаблицаСвойств.СсылкаНаДокумент ЕСТЬ NULL");
		Запрос.УстановитьПараметр("ТаблицаСвойств", ТаблицаСвойств);
		Запрос.УстановитьПараметр("СвойствоПЦ",СвойствоПЦ);
		Запрос.УстановитьПараметр("СвойствоУЦН",СвойствоУЦН);
		Результат = Запрос.Выполнить();
		Если НЕ Результат.Пустой() Тогда
			Выборка = Результат.Выбрать();
			Пока Выборка.Следующий() Цикл
				ОбъектУстановкиЦен = Выборка.ДокументУстановкиЦен.ПолучитьОбъект();
				Если ОбъектУстановкиЦен.Проведен Тогда		
					ОтменитьПроведениеОбъектаВИБ(ОбъектУстановкиЦен, ТипЗнч(ОбъектУстановкиЦен));		
				КонецЕсли;	
				УстановитьПометкуУдаленияУОбъекта(ОбъектУстановкиЦен, Истина, "Документ");				
			КонецЦикла;	
		КонецЕсли;
	КонецЕсли;
КонецЕсли;	 

Если Параметры.ИдентификаторыДЦН.Количество() &gt; 0 Тогда
	ТаблицаСвойств = Новый ТаблицаЗначений;
	ТаблицаСвойств.Колонки.Добавить("СвойствоДЦН", Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"));
	ТаблицаСвойств.Колонки.Добавить("ЗначениеДЦН", Новый ОписаниеТипов("Строка",,Новый КвалификаторыСтроки(150)));	
	ТаблицаСвойств.Колонки.Добавить("СсылкаНаДокумент", Новый ОписаниеТипов("ДокументСсылка.ПереоценкаТоваровВРознице"));
	СвойствоДЦН  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторДокументаЦенНоменклатуры", Истина);
	Если НЕ СвойствоДЦН.Пустая() Тогда
		Для каждого ИдентификацияДокумента Из Параметры.ИдентификаторыДЦН Цикл
			СтрокаСвойств = ТаблицаСвойств.Добавить();
			СтрокаСвойств.СвойствоДЦН = СвойствоДЦН;
			СтрокаСвойств.ЗначениеДЦН = ИдентификацияДокумента["ИдентификаторДЦН"];
			СтрокаСвойств.СсылкаНаДокумент = ИдентификацияДокумента["СсылкаНаДокумент"];			
		КонецЦикла;	
	КонецЕсли;
	Запрос = Новый Запрос("ВЫБРАТЬ
	|	ТаблицаСвойств.СвойствоДЦН,
	|	ТаблицаСвойств.ЗначениеДЦН,
	|	ТаблицаСвойств.СсылкаНаДокумент
	|ПОМЕСТИТЬ ТаблицаСвойств
	|ИЗ
	|	&amp;ТаблицаСвойств КАК ТаблицаСвойств
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВЫРАЗИТЬ(ДополнительныеСведения.Объект КАК Документ.ПереоценкаТоваровВРознице) КАК ДокументПереоценкиТоваров
	|ИЗ
	|	(ВЫБРАТЬ РАЗЛИЧНЫЕ
	|		Т.СвойствоДЦН КАК СвойствоДЦН,
	|		Т.ЗначениеДЦН КАК ЗначениеДЦН
	|	ИЗ
	|		ТаблицаСвойств КАК Т) КАК ТаблицаТолькоСвойства
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
	|		ПО (ДополнительныеСведения.Свойство = ТаблицаТолькоСвойства.СвойствоДЦН)
	|			И (ДополнительныеСведения.Значение = ТаблицаТолькоСвойства.ЗначениеДЦН)
	|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаСвойств КАК ТаблицаСвойств
	|		ПО (ТаблицаСвойств.СсылкаНаДокумент = ДополнительныеСведения.Объект)
	|			И (ТаблицаСвойств.СвойствоДЦН = ТаблицаТолькоСвойства.СвойствоДЦН)
	|			И (ТаблицаСвойств.ЗначениеДЦН = ТаблицаТолькоСвойства.ЗначениеДЦН)
	|ГДЕ
	|	ТаблицаСвойств.СсылкаНаДокумент ЕСТЬ NULL ");
	Запрос.УстановитьПараметр("ТаблицаСвойств", ТаблицаСвойств);
	Результат = Запрос.Выполнить();
	Если НЕ Результат.Пустой() Тогда
		Выборка = Результат.Выбрать();
		Пока Выборка.Следующий() Цикл
			ОбъектПереоценкиТоваров = Выборка.ДокументПереоценкиТоваров.ПолучитьОбъект();
			Если ОбъектПереоценкиТоваров.Проведен Тогда		
				ОтменитьПроведениеОбъектаВИБ(ОбъектПереоценкиТоваров, ТипЗнч(ОбъектПереоценкиТоваров));		
			КонецЕсли;	
			УстановитьПометкуУдаленияУОбъекта(ОбъектПереоценкиТоваров, Истина, "Документ");				
		КонецЦикла;	
	КонецЕсли;
	
КонецЕсли;

Выполнить(Алгоритмы.ВыполнитьПроведениеДокументов);</ПослеЗагрузкиДанных>
	<ПередКонвертациейОбъекта>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;</ПередКонвертациейОбъекта>
	<ПередОтправкойИнформацииОбУдалении>Если ТипЗнч(Ссылка) = Тип("ДокументСсылка.УстановкаЦенНоменклатуры") Тогда
	
	Товары = Новый ТаблицаЗначений;
	Товары.Колонки.Добавить("Номенклатура");
	Товары.Колонки.Добавить("Характеристика");
	Товары.Колонки.Добавить("ПередатьИсходящиеДанные");
	Товары.Колонки.Добавить("Цена");

	ВходящиеДанные = Новый Структура;
	ВходящиеДанные.Вставить("ТипЦен", Неопределено);
	ВходящиеДанные.Вставить("Ответственный", Неопределено);
	ВходящиеДанные.Вставить("ИдентификаторУЦН", Строка(Ссылка.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("ИдентификаторПЦ", "");
	ВходящиеДанные.Вставить("Номер", Неопределено);
	ВходящиеДанные.Вставить("Дата", ТекущаяДатаСеанса());
	ВходящиеДанные.Вставить("ПометкаУдаления", Истина);
	ВходящиеДанные.Вставить("Комментарий", Неопределено);
	ВходящиеДанные.Вставить("Проведен", Ложь);
	ВходящиеДанные.Вставить("Товары", Товары);
	ВходящиеДанные.Вставить("НеСоздаватьНовыйОбъект", Истина);
	ВыгрузитьПоПравилу(,,ВходящиеДанные,, "УстановкаЦенНоменклатуры");

	Отказ = Истина;
	
ИначеЕсли ТипЗнч(Ссылка) = Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями") Тогда
	
	СсылкаНаУдаляемыйОбъект = Ссылка;
	ТипИсточника = "ДокументСсылка.ПередачаТоваровМеждуОрганизациями";
	ТипПриемника = "ДокументСсылка.ПоступлениеТоваровУслуг";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	ТипПриемника = "ДокументСсылка.РеализацияТоваровУслуг";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	Отказ = Истина;
	
ИначеЕсли ТипЗнч(Ссылка) = Тип("ДокументСсылка.СписаниеТоваров") Тогда
	
	СсылкаНаУдаляемыйОбъект = Ссылка;
	ТипИсточника = "ДокументСсылка.СписаниеТоваров";
	ТипПриемника = "ДокументСсылка.ТребованиеНакладная";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	ТипПриемника = "ДокументСсылка.СписаниеТоваров";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	Отказ = Истина;
	
ИначеЕсли ТипЗнч(Ссылка) = Тип("ДокументСсылка.ОтчетОРозничныхПродажах") Тогда
	
	СсылкаНаУдаляемыйОбъект = Ссылка;
	ТипИсточника = "ДокументСсылка.ОтчетОРозничныхПродажах";
	ТипПриемника = "ДокументСсылка.РеализацияТоваровУслуг";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	ТипПриемника = "ДокументСсылка.ПриходныйКассовыйОрдер";
	ЗаписатьВФайлУдалениеОбъекта(Ссылка, ТипПриемника, ТипИсточника);
	Отказ = Истина;
	
ИначеЕсли ТипЗнч(Ссылка) = Тип("СправочникСсылка.ЛицензииПоставщиковАлкогольнойПродукции") Тогда
	
	Если ОбщегоНазначения.СсылкаСуществует(Ссылка) Тогда
		ИсточникДанных = Ссылка;
		ЭтоУдаление = Истина;
		Выполнить(Алгоритмы.ВыгрузитьЛицензиюПоставщикаАлкогольнойПродукции);
	КонецЕсли;
	Отказ = Истина;
	
КонецЕсли;</ПередОтправкойИнформацииОбУдалении>
	<ПриПолученииИнформацииОбУдалении>МетаданныеОбъекта = Объект.Метаданные();
Если Метаданные.Справочники.Содержит(МетаданныеОбъекта) Тогда	
	Отказ  = Истина;	
	УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Справочник");	
ИначеЕсли Метаданные.Документы.Содержит(МетаданныеОбъекта) Тогда	
	Отказ  = Истина;	
	Если Объект.Проведен Тогда		
		ОтменитьПроведениеОбъектаВИБ(Объект, ТипЗнч(Объект));		
	КонецЕсли;	
	УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Документ");	
КонецЕсли;</ПриПолученииИнформацииОбУдалении>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ИндивидуальныйПредприниматель --&gt; ФизЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ИндивидуальныйПредприниматель</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ЮрЛицоНеРезидент --&gt; ЮрЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ЮрЛицоНеРезидент</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt; Телефон</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПолФизическихЛиц</Код>
				<Наименование>Перечисление: Пол физического лица</Наименование>
				<Порядок>300</Порядок>
				<Источник>ПеречислениеСсылка.ПолФизическогоЛица</Источник>
				<Приемник>ПеречислениеСсылка.ПолФизическихЛиц</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Женский --&gt; Женский</Наименование>
						<Порядок>50</Порядок>
						<Источник>Женский</Источник>
						<Приемник>Женский</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Мужской --&gt; Мужской</Наименование>
						<Порядок>100</Порядок>
						<Источник>Мужской</Источник>
						<Приемник>Мужской</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ОтветственныеЛица</Код>
				<Наименование>Перечисление: Ответственные лица организаций</Наименование>
				<Порядок>350</Порядок>
				<Источник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Источник>
				<Приемник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ГлавныйБухгалтер --&gt; ГлавныйБухгалтер</Наименование>
						<Порядок>50</Порядок>
						<Источник>ГлавныйБухгалтер</Источник>
						<Приемник>ГлавныйБухгалтер</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Кассир --&gt; Кассир</Наименование>
						<Порядок>100</Порядок>
						<Источник>Кассир</Источник>
						<Приемник>Кассир</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Руководитель --&gt; Руководитель</Наименование>
						<Порядок>150</Порядок>
						<Источник>Руководитель</Источник>
						<Приемник>Руководитель</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>УполномоченныйПодписыватьСчетаФактурыЗаГлавногоБух</Наименование>
						<Порядок>200</Порядок>
						<Источник>УполномоченныйПодписыватьСчетаФактурыЗаГлавногоБухгалтера</Источник>
						<Приемник>УполномоченныйПодписыватьСчетаФактурыЗаГлавногоБухгалтера</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>УполномоченныйПодписыватьСчетаФактурыЗаРуководител</Наименование>
						<Порядок>250</Порядок>
						<Источник>УполномоченныйПодписыватьСчетаФактурыЗаРуководителя</Источник>
						<Приемник>УполномоченныйПодписыватьСчетаФактурыЗаРуководителя</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийКомплектацияНоменклатуры</Код>
				<Наименование>Перечисление: Виды операций документа "Комплектация нменклатуры"</Наименование>
				<Порядок>400</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Комплектация --&gt; Комплектация</Наименование>
						<Порядок>50</Порядок>
						<Источник>Комплектация</Источник>
						<Приемник>Комплектация</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Разукомплектация --&gt; Разукомплектация</Наименование>
						<Порядок>100</Порядок>
						<Источник>Разукомплектация</Источник>
						<Приемник>Разукомплектация</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВыплаченностьЗарплаты</Код>
				<Наименование>Перечисление: Выплаченность зарплаты</Наименование>
				<Порядок>450</Порядок>
				<Источник>ПеречислениеСсылка.ВариантыОтметокОВыплатеЗарплаты</Источник>
				<Приемник>ПеречислениеСсылка.ВыплаченностьЗарплаты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Выплачено --&gt; Выплачено</Наименование>
						<Порядок>50</Порядок>
						<Источник>Выплачено</Источник>
						<Приемник>Выплачено</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Задепонировано --&gt; Задепонировано</Наименование>
						<Порядок>100</Порядок>
						<Источник>Депонировано</Источник>
						<Приемник>Задепонировано</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НеВыплачено --&gt; НеВыплачено</Наименование>
						<Порядок>150</Порядок>
						<Источник>НеВыплачено</Источник>
						<Приемник>НеВыплачено</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыСчетовФактур</Код>
				<Наименование>Перечисление: Виды счетов-фактур</Наименование>
				<Порядок>500</Порядок>
				<Источник>ПеречислениеСсылка.ВидыСчетовФактур</Источник>
				<Приемник>ПеречислениеСсылка.ВидыСчетовФактур</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Дополнительный --&gt; Дополнительный</Наименование>
						<Порядок>50</Порядок>
						<Источник>Дополнительный</Источник>
						<Приемник>Дополнительный</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Исправленный --&gt; Исправленный</Наименование>
						<Порядок>100</Порядок>
						<Источник>Исправленный</Источник>
						<Приемник>Исправленный</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Обычный --&gt; Обычный</Наименование>
						<Порядок>150</Порядок>
						<Источник>Обычный</Источник>
						<Приемник>Обычный</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Группа>
				<Код>Классификаторы</Код>
				<Наименование>Классификаторы</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>Банки</Код>
					<Наименование>Справочник: Банки</Наименование>
					<Порядок>100</Порядок>
					<Источник>СправочникСсылка.КлассификаторБанков</Источник>
					<Приемник>СправочникСсылка.Банки</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПриводитьКДлине>11</ПриводитьКДлине>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>9</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Код --&gt; БИК</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="БИК" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СтраныМира</Код>
					<Наименование>Справочник: Страны мира</Наименование>
					<Порядок>150</Порядок>
					<Источник>СправочникСсылка.СтраныМира</Источник>
					<Приемник>СправочникСсылка.КлассификаторСтранМира</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>КодАльфа3 --&gt; КодАльфа3</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>Казахстан --&gt; Казахстан</Наименование>
							<Порядок>50</Порядок>
							<Источник>Казахстан</Источник>
							<Приемник>Казахстан</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>БазовыеЕдиницыИзмерения</Код>
					<Наименование>Справочник: Единицы измерения</Наименование>
					<Порядок>200</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.БазовыеЕдиницыИзмерения</Источник>
					<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Номенклатура и характеристики</Код>
				<Наименование>Номенклатура и характеристики</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>Номенклатура</Код>
					<Наименование>Справочник: Номенклатура</Наименование>
					<Порядок>500</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Номенклатура</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>10</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ТоварнаяГруппа --&gt; НоменклатурнаяГруппа</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ТоварнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ТоварныеГруппы"/>
							<Приемник Имя="НоменклатурнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
							<КодПравилаКонвертации>НоменклатурныеГруппы                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; Услуга</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Описание --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЕдиницаИзмерения --&gt; БазоваяЕдиницаИзмерения</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницыИзмерения"/>
							<Приемник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Артикул --&gt; Артикул</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>КодТНВЭД --&gt; КодТНВЭД</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="КодТНВЭД" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторТНВЭД"/>
							<Приемник Имя="КодТНВЭД" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Вес --&gt; ВесНетто</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ВесНетто" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ХарактеристикиНоменклатуры</Код>
					<Наименование>Справочник: Характеристики номенклатуры</Наименование>
					<Порядок>550</Порядок>
					<ПередВыгрузкой>Если НЕ Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда	
	Отказ = Истина;
ИначеЕсли ТипЗнч(Источник.Владелец) = Тип("СправочникСсылка.Номенклатура") Тогда        	
	ВходящиеДанные = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Источник.Владелец,"ЕдиницаИзмерения, НаименованиеПолное, ТоварнаяГруппа, СтавкаНДС, СтранаПроисхождения, Родитель, Наименование, ТипНоменклатуры");
	ВходящиеДанные.Вставить("ИдентификаторНоменклатуры",Строка(Источник.Владелец.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("ИдентификаторХарактеристики",Строка(Источник.Ссылка.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("БазоваяЕдиницаИзмерения", ВходящиеДанные.ЕдиницаИзмерения);	
	ВходящиеДанные.Вставить("Услуга", ВходящиеДанные.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга);	
	
ИначеЕсли ВходящиеДанные &lt;&gt; Неопределено И ТипЗнч(ВходящиеДанные) = Тип("Структура")	
	И ВходящиеДанные.Свойство("Номенклатура") 
	И Источник.Владелец = ВходящиеДанные.Номенклатура Тогда                             	
	ВходящиеДанные = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Источник.Владелец,"ЕдиницаИзмерения, НаименованиеПолное, ТоварнаяГруппа, СтавкаНДС, СтранаПроисхождения, Родитель, Наименование, ТипНоменклатуры");
	ВходящиеДанные.Вставить("ИдентификаторНоменклатуры",Строка(Источник.Владелец.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("ИдентификаторХарактеристики",Строка(Источник.Ссылка.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("БазоваяЕдиницаИзмерения", ВходящиеДанные.ЕдиницаИзмерения);	
	ВходящиеДанные.Вставить("Услуга", ВходящиеДанные.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга);	
Иначе		
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Если Объект.ЭтоНовый() Тогда

	ЗаписатьОбъектВИБ(Объект, Тип("СправочникСсылка.Номенклатура"));
	//Объект.УстановитьСсылкуНового(Справочники.Номенклатура.ПолучитьСсылку(Новый УникальныйИдентификатор()));

	НаборЗаписей = РегистрыСведений.ДополнительныеСведения.СоздатьНаборЗаписей();
	НаборЗаписей.Отбор.Объект.Установить(Объект.Ссылка);
		
	СвойствоОбъекта = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
	СвойствоПоиска  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторНоменклатуры", Истина);
	Если СвойствоПоиска.Пустая() Тогда
		НовоеСвойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
		НовоеСвойство.Наименование = "ИдентификаторНоменклатуры";
		НовоеСвойство.ТипЗначения = Новый ОписаниеТипов("Строка");
		НовоеСвойство.ЭтоДополнительноеСведение = Истина;
		НовоеСвойство.УстановитьНовыйКод();
		НовоеСвойство.Записать();
		СвойствоОбъекта = НовоеСвойство.Ссылка;		
	Иначе
		СвойствоОбъекта = СвойствоПоиска;
	КонецЕсли;	
		
	НаборДопРеквизитовНоменклатураСсылка = Справочники.НаборыДополнительныхРеквизитовИСведений.Справочник_Номенклатура;
	НаборДопРеквизитовНоменклатураОбъект = НаборДопРеквизитовНоменклатураСсылка.ПолучитьОбъект();
	ТаблЧастьНаборДопРеквизитов = НаборДопРеквизитовНоменклатураОбъект.ДополнительныеСведения;
	Если ТаблЧастьНаборДопРеквизитов.Найти(СвойствоОбъекта, "Свойство") = Неопределено Тогда
		НоваяСтрока = ТаблЧастьНаборДопРеквизитов.Добавить();
		НоваяСтрока.Свойство = СвойствоОбъекта;
		НаборДопРеквизитовНоменклатураОбъект.Записать();
	КонецЕсли;
	
	НоваяЗапись = НаборЗаписей.Добавить();
	НоваяЗапись.Объект	 = Объект.Ссылка;
	НоваяЗапись.Свойство = СвойствоОбъекта;
	НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторНоменклатуры"];
				
	СвойствоОбъектаХарактеристика = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
	СвойствоПоискаХарактеристика  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторХарактеристики", Истина);
	Если СвойствоПоискаХарактеристика.Пустая() Тогда
		НовоеСвойствоХарактеристика = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
		НовоеСвойствоХарактеристика.Наименование = "ИдентификаторХарактеристики";
		НовоеСвойствоХарактеристика.ТипЗначения = Новый ОписаниеТипов("Строка");
		НовоеСвойствоХарактеристика.ЭтоДополнительноеСведение = Истина;
		НовоеСвойствоХарактеристика.УстановитьНовыйКод();
		НовоеСвойствоХарактеристика.Записать();
		СвойствоОбъектаХарактеристика = НовоеСвойствоХарактеристика.Ссылка;		
	Иначе
		СвойствоОбъектаХарактеристика = СвойствоПоискаХарактеристика;
	КонецЕсли;	
		
	Если ТаблЧастьНаборДопРеквизитов.Найти(СвойствоОбъектаХарактеристика, "Свойство") = Неопределено Тогда
		НоваяСтрока = ТаблЧастьНаборДопРеквизитов.Добавить();
		НоваяСтрока.Свойство = СвойствоОбъектаХарактеристика;
		НаборДопРеквизитовНоменклатураОбъект.Записать();
	КонецЕсли;
	
	НоваяЗапись = НаборЗаписей.Добавить();
	НоваяЗапись.Объект	 = Объект.Ссылка;
	НоваяЗапись.Свойство = СвойствоОбъектаХарактеристика;
	НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторХарактеристики"];
			
	Если НаборЗаписей.Количество() &gt; 0 Тогда
		УстановитьОбменДаннымиЗагрузка(НаборЗаписей);
		НаборЗаписей.Записать();		
		УстановитьОбменДаннымиЗагрузка(НаборЗаписей, Ложь);
	КонецЕсли;  
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(ВходящиеДанные.Наименование) + " (" + Источник.Наименование + ")";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>--&gt; Родитель</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>10</Код>
							<Наименование> --&gt; ЭтоГруппа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ИдентификаторНоменклатуры</Наименование>
							<Порядок>200</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторНоменклатуры</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ИдентификаторХарактеристики</Наименование>
							<Порядок>250</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторХарактеристики</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; БазоваяЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; НаименованиеПолное</Наименование>
							<Порядок>400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(ВходящиеДанные.НаименованиеПолное) + " (" + Источник.Наименование + ")";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; НоменклатурнаяГруппа</Наименование>
							<Порядок>450</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НоменклатурнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
							<КодПравилаКонвертации>НоменклатурныеГруппы                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ТоварнаяГруппа;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Услуга</Наименование>
							<Порядок>600</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИмяПравила2</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИмяПравила2</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = "ХарактеристикиНоменклатуры";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ХарактеристикиНоменклатурыОбщиеДляВида</Код>
					<Наименование>Справочник: Характеристики номенклатуры</Наименование>
					<Порядок>600</Порядок>
					<ПередВыгрузкой>Если НЕ Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда	
	Отказ = Истина;
ИначеЕсли ВходящиеДанные &lt;&gt; Неопределено И ТипЗнч(ВходящиеДанные) = Тип("Структура")	
	И ВходящиеДанные.Свойство("Номенклатура") 
	И ТипЗнч(Источник.Владелец) = Тип("СправочникСсылка.ВидыНоменклатуры") Тогда	 
	Номенклатура = ВходящиеДанные.Номенклатура;
	ВходящиеДанные = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ВходящиеДанные.Номенклатура,"ЕдиницаИзмерения, НаименованиеПолное, ТоварнаяГруппа, СтавкаНДС, СтранаПроисхождения, Родитель, Наименование, ТипНоменклатуры");
	ВходящиеДанные.Вставить("ИдентификаторНоменклатуры",Строка(Номенклатура.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("ИдентификаторХарактеристики",Строка(Источник.Ссылка.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("БазоваяЕдиницаИзмерения", ВходящиеДанные.ЕдиницаИзмерения);	
	ВходящиеДанные.Вставить("Услуга", ВходящиеДанные.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга);	
	КлючВыгружаемыхДанных = Строка(ВходящиеДанные.ИдентификаторНоменклатуры)+Строка(ВходящиеДанные.ИдентификаторХарактеристики); 
	ТолькоПолучитьУзелСсылки = Ложь;
Иначе	
	Отказ = Истина;		
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Если Объект.ЭтоНовый() Тогда

	//Объект.УстановитьСсылкуНового(Справочники.Номенклатура.ПолучитьСсылку(Новый УникальныйИдентификатор()));
    ЗаписатьОбъектВИБ(Объект, Тип("СправочникСсылка.Номенклатура"));

	НаборЗаписей = РегистрыСведений.ДополнительныеСведения.СоздатьНаборЗаписей();
	НаборЗаписей.Отбор.Объект.Установить(Объект.Ссылка);
		
	СвойствоОбъекта = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
	СвойствоПоиска  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторНоменклатуры", Истина);
	Если СвойствоПоиска.Пустая() Тогда
		НовоеСвойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
		НовоеСвойство.Наименование = "ИдентификаторНоменклатуры";
		НовоеСвойство.ТипЗначения = Новый ОписаниеТипов("Строка");
		НовоеСвойство.ЭтоДополнительноеСведение = Истина;
		НовоеСвойство.УстановитьНовыйКод();
		НовоеСвойство.Записать();
		СвойствоОбъекта = НовоеСвойство.Ссылка;		
	Иначе
		СвойствоОбъекта = СвойствоПоиска;
	КонецЕсли;	
		
	НаборДопРеквизитовНоменклатураСсылка = Справочники.НаборыДополнительныхРеквизитовИСведений.Справочник_Номенклатура;
	НаборДопРеквизитовНоменклатураОбъект = НаборДопРеквизитовНоменклатураСсылка.ПолучитьОбъект();
	ТаблЧастьНаборДопРеквизитов = НаборДопРеквизитовНоменклатураОбъект.ДополнительныеСведения;
	Если ТаблЧастьНаборДопРеквизитов.Найти(СвойствоОбъекта, "Свойство") = Неопределено Тогда
		НоваяСтрока = ТаблЧастьНаборДопРеквизитов.Добавить();
		НоваяСтрока.Свойство = СвойствоОбъекта;
		НаборДопРеквизитовНоменклатураОбъект.Записать();
	КонецЕсли;
	
	НоваяЗапись = НаборЗаписей.Добавить();
	НоваяЗапись.Объект	 = Объект.Ссылка;
	НоваяЗапись.Свойство = СвойствоОбъекта;
	НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторНоменклатуры"];
				
	СвойствоОбъектаХарактеристика = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
	СвойствоПоискаХарактеристика  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторХарактеристики", Истина);
	Если СвойствоПоискаХарактеристика.Пустая() Тогда
		НовоеСвойствоХарактеристика = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
		НовоеСвойствоХарактеристика.Наименование = "ИдентификаторХарактеристики";
		НовоеСвойствоХарактеристика.ТипЗначения = Новый ОписаниеТипов("Строка");
		НовоеСвойствоХарактеристика.ЭтоДополнительноеСведение = Истина;
		НовоеСвойствоХарактеристика.УстановитьНовыйКод();
		НовоеСвойствоХарактеристика.Записать();
		СвойствоОбъектаХарактеристика = НовоеСвойствоХарактеристика.Ссылка;		
	Иначе
		СвойствоОбъектаХарактеристика = СвойствоПоискаХарактеристика;
	КонецЕсли;	
		
	Если ТаблЧастьНаборДопРеквизитов.Найти(СвойствоОбъектаХарактеристика, "Свойство") = Неопределено Тогда
		НоваяСтрока = ТаблЧастьНаборДопРеквизитов.Добавить();
		НоваяСтрока.Свойство = СвойствоОбъектаХарактеристика;
		НаборДопРеквизитовНоменклатураОбъект.Записать();
	КонецЕсли;
	
	НоваяЗапись = НаборЗаписей.Добавить();
	НоваяЗапись.Объект	 = Объект.Ссылка;
	НоваяЗапись.Свойство = СвойствоОбъектаХарактеристика;
	НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторХарактеристики"];
			
	Если НаборЗаписей.Количество() &gt; 0 Тогда
		УстановитьОбменДаннымиЗагрузка(НаборЗаписей);
		НаборЗаписей.Записать();		
		УстановитьОбменДаннымиЗагрузка(НаборЗаписей, Ложь);
	КонецЕсли;  
	
КонецЕсли; 
	
СтруктураЗаписи = Новый Структура;
СтруктураЗаписи.Вставить("УзелИнформационнойБазы", Параметры.УзелОбменаЗагрузкаДанныхСсылка); 
СтруктураЗаписи.Вставить("УникальныйИдентификаторИсточника", Объект.Ссылка); 
СтруктураЗаписи.Вставить("УникальныйИдентификаторПриемника", ПараметрыОбъекта["ИдентификаторХарактеристики"]);
СтруктураЗаписи.Вставить("ТипПриемника","СправочникСсылка.ХарактеристикиНоменклатуры");
СтруктураЗаписи.Вставить("ТипИсточника","СправочникСсылка.Номенклатура");
СтруктураЗаписи.Вставить("УникальныйИдентификаторИсточникаСтрокой", ПараметрыОбъекта["ИдентификаторХарактеристики"]);
РегистрыСведений.СоответствияОбъектовИнформационныхБаз.ДобавитьЗапись(СтруктураЗаписи);</ПослеЗагрузки>
					<ПоследовательностьПолейПоиска>ПрекратитьПоиск = Истина;

Запрос = Новый Запрос("ВЫБРАТЬ
|	ДополнительныеСведения.Объект КАК Номенклатура
|ИЗ
|	РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
|		ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ДополнительныеРеквизитыИСведения
|		ПО ДополнительныеСведения.Свойство = ДополнительныеРеквизитыИСведения.Ссылка
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
|			ДополнительныеСведения.Объект КАК ОбъектСХарактеристикой
|		ИЗ
|			РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ДополнительныеРеквизитыИСведения
|				ПО ДополнительныеСведения.Свойство = ДополнительныеРеквизитыИСведения.Ссылка
|		ГДЕ
|			ДополнительныеРеквизитыИСведения.Наименование = &amp;НаименованиеХарактеристики
|			И ДополнительныеСведения.Значение = &amp;ЗначениеХарактеристики) КАК ДополнительныеСведенияХарактеристика
|		ПО ДополнительныеСведения.Объект = ДополнительныеСведенияХарактеристика.ОбъектСХарактеристикой
|ГДЕ
|	ДополнительныеРеквизитыИСведения.Наименование = &amp;Наименование
|	И ДополнительныеСведения.Значение = &amp;Значение");

Запрос.УстановитьПараметр("Наименование", "ИдентификаторНоменклатуры");
Запрос.УстановитьПараметр("Значение", ПараметрыОбъекта["ИдентификаторНоменклатуры"]);
Запрос.УстановитьПараметр("НаименованиеХарактеристики", "ИдентификаторХарактеристики");
Запрос.УстановитьПараметр("ЗначениеХарактеристики", ПараметрыОбъекта["ИдентификаторХарактеристики"]);

Результат = Запрос.Выполнить();
Если НЕ Результат.Пустой() Тогда
	Выборка = Результат.Выбрать();
	Выборка.Следующий();
	СсылкаНаОбъект = Выборка.Номенклатура;		
КонецЕсли;</ПоследовательностьПолейПоиска>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(ВходящиеДанные.Наименование) + " (" + Источник.Наименование + ")";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>--&gt; Родитель</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>10</Код>
							<Наименование> --&gt; ЭтоГруппа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>11</Код>
							<Наименование>--&gt; ИдентификаторНоменклатуры</Наименование>
							<Порядок>200</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторНоменклатуры</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>--&gt; ИдентификаторХарактеристики</Наименование>
							<Порядок>250</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторХарактеристики</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; БазоваяЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; НаименованиеПолное</Наименование>
							<Порядок>400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(ВходящиеДанные.НаименованиеПолное) + " (" + Источник.Наименование + ")";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; НоменклатурнаяГруппа</Наименование>
							<Порядок>450</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НоменклатурнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
							<КодПравилаКонвертации>НоменклатурныеГруппы                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ТоварнаяГруппа;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Услуга</Наименование>
							<Порядок>600</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИмяПравила</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИмяПравила</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = "ОбщиеДляВида";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Номенклатура_ПодарочныйСертификат</Код>
					<Наименование>:</Наименование>
					<Порядок>650</Порядок>
					<ПослеЗагрузки>Если Не ОбъектНайден Тогда
	Объект.СтавкаНДС = Справочники.ставкиНДС.ПолучитьСтавкуБезНДС(Ложь);
КонецЕсли;</ПослеЗагрузки>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "Подарочный сертификат";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Артикул</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "Подарочный сертификат";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>3</Код>
							<Наименование>--&gt; ЭтоГруппа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Банковские счета</Код>
				<Наименование>Банковские счета</Наименование>
				<Порядок>150</Порядок>
				<Правило>
					<Код>БанковскиеСчета</Код>
					<Наименование>Справочник: Банковские счета</Наименование>
					<Порядок>600</Порядок>
					<ПослеЗагрузки>Если НЕ ЗначениеЗаполнено(Объект.ВалютаДенежныхСредств) Тогда
	Объект.ВалютаДенежныхСредств = Параметры.ВалютаРегламентированногоУчета;
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.БанковскиеСчета</Источник>
					<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Владелец" Вид="Свойство"/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Банк --&gt; Банк</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ВидСчета</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "Расчетный";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Правило>
				<Код>ПравилаЦенообразования</Код>
				<Наименование>Справочник: Правила ценообразования</Наименование>
				<Порядок>200</Порядок>
				<ПослеЗагрузки>Объект.ВалютаЦены = Параметры.ВалютаРегламентированногоУчета;
Объект.ПорядокОкругления = Перечисления.ПорядкиОкругления.Окр0_01;
Объект.ОкруглятьВБольшуюСторону = Ложь;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ПравилаЦенообразования</Источник>
				<Приемник>СправочникСсылка.ТипыЦенНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>250</Порядок>
				<ПередВыгрузкой>Если Параметры.РеквизитыУзла.ИспользоватьОтборПоОрганизациям Тогда
	Если Параметры.ОрганизацииУзла.Найти(Источник.Ссылка) = Неопределено Тогда
		Отказ = Истина;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>ИНН --&gt; ИдентификационныйНомер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИдентификационныйНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>13</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>СвидетельствоДатаВыдачи --&gt; ДатаСвидетельстваПоНДС</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаСвидетельстваПоНДС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>СвидетельствоСерияНомер --&gt; СерияСвидетельстваПоНДС</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СерияСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>КБЕ --&gt; КБЕ</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="КБЕ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КБЕ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>НомерСвидетельстваПоНДС --&gt; НомерСвидетельстваПоНДС</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="НомерСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Магазины</Код>
				<Наименование>Справочник: Магазины</Наименование>
				<Порядок>300</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Магазины</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>ИНН --&gt; ИдентификационныйКодЛичности</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИдентификационныйКодЛичности" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>ДокументУдостоверяющийЛичность --&gt; ДокументУдостоверяющийЛичность</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДокументУдостоверяющийЛичность" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДокументУдостоверяющийЛичность" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>12</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование> --&gt; ГоловнойКонтрагент</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ДатаСвидетельстваПоНДС --&gt; ДатаСвидетельстваПоНДС</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ДатаСвидетельстваПоНДС" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаСвидетельстваПоНДС" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>КБЕ --&gt; КБЕ</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="КБЕ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КБЕ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>НомерСвидетельстваПоНДС --&gt; НомерСвидетельстваПоНДС</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="НомерСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>СерияСвидетельстваПоНДС --&gt; СерияСвидетельстваПоНДС</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="СерияСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СерияСвидетельстваПоНДС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование> --&gt; ВидОбъектаКонтактнойИнформации</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидОбъектаКонтактнойИнформации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОбъектовКонтактнойИнформации"/>
						<ПередВыгрузкой>Если Источник.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникКонтрагенты Тогда
	Значение = "Контрагенты";
ИначеЕсли Источник.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникОрганизации Тогда
	Значение = "Организации";
ИначеЕсли Источник.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникФизическиеЛица Тогда
	Значение = "ФизическиеЛица";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
						<Порядок>50</Порядок>
						<Источник>EmailОрганизации</Источник>
						<Приемник>EmailОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ДругаяИнформацияКонтрагента --&gt; ДругаяИнформацияКо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ДругаяИнформацияКонтрагента</Источник>
						<Приемник>ДругаяИнформацияКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
						<Порядок>150</Порядок>
						<Источник>ДругаяИнформацияОрганизации</Источник>
						<Приемник>ДругаяИнформацияОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ТелефонКонтрагента --&gt; ТелефонКонтрагента</Наименование>
						<Порядок>200</Порядок>
						<Источник>ТелефонКонтрагента</Источник>
						<Приемник>ТелефонКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>250</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>300</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
						<Порядок>350</Порядок>
						<Источник>ФактАдресКонтрагента</Источник>
						<Приемник>ФактАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>400</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ЮрАдресКонтрагента --&gt; ЮрАдресКонтрагента</Наименование>
						<Порядок>450</Порядок>
						<Источник>ЮрАдресКонтрагента</Источник>
						<Приемник>ЮрАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>500</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>EmailФизическогоЛица --&gt; EmailФизЛица</Наименование>
						<Порядок>550</Порядок>
						<Источник>EmailФизическогоЛица</Источник>
						<Приемник>EmailФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>12</Код>
						<Наименование>ДругаяИнформацияФизическогоЛица --&gt; ДругаяИнформац</Наименование>
						<Порядок>600</Порядок>
						<Источник>ДругаяИнформацияФизическогоЛица</Источник>
						<Приемник>ДругаяИнформацияФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>13</Код>
						<Наименование>ПочтовыйАдресФизическогоЛица --&gt; ЮрАдресФизЛица</Наименование>
						<Порядок>650</Порядок>
						<Источник>ПочтовыйАдресФизическогоЛица</Источник>
						<Приемник>ЮрАдресФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>14</Код>
						<Наименование>ТелефонФизическогоЛица --&gt; ТелефонФизЛица</Наименование>
						<Порядок>700</Порядок>
						<Источник>ТелефонФизическогоЛица</Источник>
						<Приемник>ТелефонФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>15</Код>
						<Наименование>ФактАдресФизическогоЛица --&gt; ФактАдресФизЛица</Наименование>
						<Порядок>750</Порядок>
						<Источник>ФактАдресФизическогоЛица</Источник>
						<Приемник>ФактАдресФизЛица</Приемник>
					</Значение>
					<Значение>
						<Код>16</Код>
						<Наименование>ПочтовыйАдресОрганизации --&gt; АдресОрганизацииПочто</Наименование>
						<Порядок>800</Порядок>
						<Источник>ПочтовыйАдресОрганизации</Источник>
						<Приемник>АдресОрганизацииПочтовый</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>НоменклатурныеГруппы</Код>
				<Наименование>Справочник: Номенклатурные группы</Наименование>
				<Порядок>450</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ТоварныеГруппы</Источник>
				<Приемник>СправочникСсылка.НоменклатурныеГруппы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ТоварныеГруппы"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
						<КодПравилаКонвертации>НоменклатурныеГруппы                              </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДолжностиОрганизаций</Код>
				<Наименование>Справочник: Должности организаций</Наименование>
				<Порядок>500</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ДолжностиОрганизаций</Источник>
				<Приемник>СправочникСсылка.ДолжностиОрганизаций</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Справочник: Статьи движения денежных средств</Наименование>
				<Порядок>600</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>650</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Недействителен --&gt; Недействителен</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Недействителен" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="Недействителен" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = СокрЛП(Источник.Наименование);</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>700</Порядок>
				<ПослеЗагрузки>Если НЕ ЗначениеЗаполнено(Объект.Ссылка) Тогда
	Объект.УстановитьНовыйКод();
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Пол --&gt; Пол</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
						<Приемник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическихЛиц"/>
						<КодПравилаКонвертации>ПолФизическихЛиц                                  </КодПравилаКонвертации>
					</Свойство>
					<Группа Отключить="true">
						<Код>8</Код>
						<Наименование>КонтактнаяИнформация --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="" Вид=""/>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>АдресЭП --&gt;</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Вид --&gt;</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>11</Код>
							<Наименование>Город --&gt;</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>12</Код>
							<Наименование>ДоменноеИмяСервера --&gt;</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>13</Код>
							<Наименование>ЗначенияПолей --&gt;</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>14</Код>
							<Наименование>НомерТелефона --&gt;</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>НомерТелефонаБезКодов --&gt;</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>16</Код>
							<Наименование>Представление --&gt;</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>17</Код>
							<Наименование>Регион --&gt;</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>18</Код>
							<Наименование>Страна --&gt;</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>19</Код>
							<Наименование>Тип --&gt;</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
					</Группа>
					<Свойство Поиск="true">
						<Код>20</Код>
						<Наименование>ИНН --&gt; ИдентификационныйКодЛичности</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИдентификационныйКодЛичности" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыДокументовФизическихЛиц</Код>
				<Наименование>Справочник: Виды документов физических лиц</Наименование>
				<Порядок>750</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВидыДокументовФизическихЛиц</Источник>
				<Приемник>СправочникСсылка.ДокументыУдостоверяющиеЛичность</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>:</Наименование>
				<Порядок>800</Порядок>
				<ПередВыгрузкой>ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<ПослеЗагрузки>Если (НЕ ОбъектНайден)
	ИЛИ НЕ ЗначениеЗаполнено(Объект.ВалютаВзаиморасчетов) Тогда
	Объект.ВалютаВзаиморасчетов = Параметры.ВалютаРегламентированногоУчета;
	Объект.Наименование = Строка(Объект.ВидДоговора) + ", " + НРег(Объект.ВалютаВзаиморасчетов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Запрос = Новый Запрос("ВЫБРАТЬ
|	ДоговорыКонтрагентов.Ссылка
|ИЗ
|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
|ГДЕ
|	ДоговорыКонтрагентов.ВидДоговора = &amp;ВидДоговора
|	И ДоговорыКонтрагентов.Организация = &amp;Организация
|	И ДоговорыКонтрагентов.Владелец = &amp;Владелец
|	И ДоговорыКонтрагентов.ВалютаВзаиморасчетов = &amp;ВалютаВзаиморасчетов
|	И НЕ ДоговорыКонтрагентов.ПометкаУдаления
|	И ДоговорыКонтрагентов.ЭтоГруппа = &amp;ЭтоГруппа");
Для Каждого СвойствоПоиска Из СвойстваПоиска Цикл 
	Запрос.УстановитьПараметр(СвойствоПоиска.Ключ, СвойствоПоиска.Значение);
КонецЦикла;
Запрос.УстановитьПараметр("ВалютаВзаиморасчетов", Параметры.ВалютаРегламентированногоУчета);
ВыборкаДоговоров = Запрос.Выполнить().Выбрать();
Если ВыборкаДоговоров.Следующий() Тогда
	СсылкаНаОбъект = ВыборкаДоговоров.Ссылка;
КонецЕсли;
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; ВидДоговора</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Склады</Наименование>
				<Порядок>850</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Склады</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Кассы</Код>
				<Наименование>Справочник: Кассы</Наименование>
				<Порядок>950</Порядок>
				<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;

ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.ВалютаДенежныхСредств = Параметры.ВалютаРегламентированногоУчета;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Кассы</Источник>
				<Приемник>СправочникСсылка.Кассы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Справочник: Ставки НДС</Наименование>
				<Порядок>1000</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтавкиНДС</Источник>
				<Приемник>СправочникСсылка.СтавкиНДС</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>ДляОсвобожденногоОборота --&gt; ДляОсвобожденногоОборота</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДляОсвобожденногоОборота" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ДляОсвобожденногоОборота" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Ставка --&gt; Ставка</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Ставка" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Ставка" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>МагазиныКассы</Код>
				<Наименование>Справочник: Магазины</Наименование>
				<Порядок>1050</Порядок>
				<ПередВыгрузкой>КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник);
НеЗапоминатьВыгруженные = Истина;
ВыгрузитьОбъект = Истина;
ВыгрузитьТолькоСсылку = Ложь;
ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.ВалютаДенежныхСредств = Параметры.ВалютаРегламентированногоУчета;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Магазины</Источник>
				<Приемник>СправочникСсылка.Кассы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Наименование + " касса розничной торговли"</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыОплатЭквайринга</Код>
				<Наименование>Справочник: Виды оплат чека ККМ</Наименование>
				<Порядок>1100</Порядок>
				<ПередВыгрузкой>ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВидыОплатЧекаККМ</Источник>
				<Приемник>СправочникСсылка.ВидыОплатЭквайринга</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>ТипОплаты --&gt; МобильныйПлатеж</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ТипОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыОплатЧекаККМ"/>
						<Приемник Имя="МобильныйПлатеж" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.ТипОплаты = Перечисления.ТипыОплатЧекаККМ.МобильныйПлатеж Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыЭквайринга</Код>
				<Наименование>Справочник: Договоры эквайринга</Наименование>
				<Порядок>1150</Порядок>
				<ПередВыгрузкой>ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ЭквайринговыеТерминалы</Источник>
				<Приемник>СправочникСсылка.ДоговорыЭквайринга</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Эквайрер --&gt; Эквайрер</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>5</Код>
						<Наименование>ТарифыЗаРасчетноеОбслуживание --&gt; ТарифыЗаРасчетноеОбслуживание</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ТарифыЗаРасчетноеОбслуживание" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ТарифыЗаРасчетноеОбслуживание" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>6</Код>
							<Наименование>ВидОплаты --&gt; ВидОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЧекаККМ"/>
							<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЭквайринга"/>
							<КодПравилаКонвертации>ВидыОплатЭквайринга                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПроцентКомиссииПриПродаже --&gt; ПроцентТорговойУступки</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПроцентКомиссииПриПродаже" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ПроцентТорговойУступки" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыНоменклатуры</Код>
				<Наименование>Справочник: Виды номенклатуры</Наименование>
				<Порядок>1200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
				<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>РегистрыСведений</Код>
			<Наименование>РегистрыСведений</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ФИОФизЛиц</Код>
				<Наименование>Регистр сведений: Фамилия, имя, отчество физических лиц</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>Если Параметры.РеквизитыУзла.ИспользоватьОтборПоОрганизациям
	И ТипЗнч(Источник.ФизЛицо) = Тип("СправочникСсылка.Организации") Тогда 	
	Если Параметры.ОрганизацииУзла.Найти(Источник.ФизЛицо) = Неопределено Тогда			
		Отказ = Истина;                                                      			
	КонецЕсли;    	
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ФИОФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ФИОФизЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="ФизЛицо" Вид="Измерение"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>НеСклонятьФамилию --&gt; НеСклонятьФамилию</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НеСклонятьФамилию" Вид="Ресурс" Тип="Булево"/>
						<Приемник Имя="НеСклонятьФамилию" Вид="Ресурс" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ОтветственныеЛицаОрганизаций</Код>
				<Наименование>Регистр сведений: Ответственные лица организаций</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Если Параметры.РеквизитыУзла.ИспользоватьОтборПоОрганизациям
	И ТипЗнч(Источник.СтруктурнаяЕдиница) = Тип("СправочникСсылка.Организации") Тогда
	Если Параметры.ОрганизацииУзла.Найти(Источник.СтруктурнаяЕдиница) = Неопределено Тогда			
		Отказ = Истина;			
	КонецЕсли;             	
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</Источник>
				<Приемник>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ОтветственноеЛицо --&gt; ОтветственноеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ОтветственноеЛицо" Вид="Измерение" Тип="ПеречислениеСсылка.ОтветственныеЛицаОрганизаций"/>
						<Приемник Имя="ОтветственноеЛицо" Вид="Измерение" Тип="ПеречислениеСсылка.ОтветственныеЛицаОрганизаций"/>
						<КодПравилаКонвертации>ОтветственныеЛица                                 </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>СтруктурнаяЕдиница --&gt; СтруктурнаяЕдиница</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="СтруктурнаяЕдиница" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="СтруктурнаяЕдиница" Вид="Измерение"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Должность --&gt; Должность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Должность" Вид="Ресурс" Тип="СправочникСсылка.ДолжностиОрганизаций"/>
						<Приемник Имя="Должность" Вид="Ресурс" Тип="СправочникСсылка.ДолжностиОрганизаций"/>
						<КодПравилаКонвертации>ДолжностиОрганизаций                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ФизическоеЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ФизическоеЛицо" Вид="Ресурс" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Ресурс" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДокументыФизическихЛиц</Код>
				<Наименование>Регистр сведений: Документы физических лиц</Наименование>
				<Порядок>450</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ДокументыФизическихЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВидДокумента --&gt; ДокументВид</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ВидДокумента" Вид="Измерение" Тип="СправочникСсылка.ВидыДокументовФизическихЛиц"/>
						<Приемник Имя="ДокументВид" Вид="Ресурс" Тип="СправочникСсылка.ДокументыУдостоверяющиеЛичность"/>
						<КодПравилаКонвертации>ВидыДокументовФизическихЛиц                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Физлицо --&gt; ФизЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Физлицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаВыдачи --&gt; ДокументДатаВыдачи</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
						<Приемник Имя="ДокументДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>КемВыдан --&gt; ДокументКемВыдан</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КемВыдан" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="ДокументКемВыдан" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Номер --&gt; ДокументНомер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Номер" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="ДокументНомер" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Серия --&gt; ДокументСерия</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Серия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="ДокументСерия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КонтактнаяИнформация</Код>
				<Наименование>:</Наименование>
				<Порядок>500</Порядок>
				<ПослеЗагрузки>Для НомерЗаписи = 1 По Объект.Количество() Цикл
	ЗаписьРегистра = Объект[НомерЗаписи - 1];
	Если ЗаписьРегистра.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
		ПредставлениеАдреса = КонтактнаяИнформацияКлиентСервер.ПолучитьПредставлениеАдреса(ЗаписьРегистра);
		Если ЗначениеЗаполнено(ПредставлениеАдреса) Тогда
			ЗаписьРегистра.Представление = ПредставлениеАдреса;
		КонецЕсли;
	КонецЕсли;
КонецЦикла;</ПослеЗагрузки>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.КонтактнаяИнформация</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; Объект</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Объект" Вид="Измерение"/>
						<ПередВыгрузкой>ТипОбъекта = ТипЗнч(Источник.Объект);
Если ТипОбъекта = Тип("СправочникСсылка.Организации") Тогда
	ИмяПКО = "Организации";
ИначеЕсли ТипОбъекта = Тип("СправочникСсылка.Контрагенты") Тогда
	ИмяПКО = "Контрагенты";
ИначеЕсли ТипОбъекта = Тип("СправочникСсылка.ФизическиеЛица") Тогда
	ИмяПКО = "ФизическиеЛица";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Вид</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Вид" Вид="Измерение"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование> --&gt; Тип</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Тип" Вид="Измерение" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование> --&gt; Поле1</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле1" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование> --&gt; Поле2</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле2" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование> --&gt; Поле3</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле3" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование> --&gt; Поле4</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле4" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование> --&gt; Поле5</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле5" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование> --&gt; Поле6</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле6" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование> --&gt; Поле7</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле7" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование> --&gt; Поле8</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле8" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование> --&gt; Поле9</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле9" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование> --&gt; Поле10</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Поле10" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование> --&gt; Представление</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Представление" Вид="Ресурс" Тип="Строка"/>
						<ПередВыгрузкой> // Для адреса представление формируется при загрузке
Если Источник.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес И НЕ Источник.ЭтоПроизвольнаяСтрока Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование> --&gt; Комментарий</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>200</Порядок>
			<Группа>
				<Код>Цены номенклатуры</Код>
				<Наименование>Цены номенклатуры</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>УстановкаЦенНоменклатуры</Код>
					<Наименование>:</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ВходящиеДанные.ИдентификаторУЦН + ВходящиеДанные.ИдентификаторПЦ;</ПередВыгрузкой>
					<ПослеЗагрузки>Если НЕ ОбъектНайден
	И ПараметрыОбъекта["НеСоздаватьНовыйОбъект"] = Истина Тогда
	
	ИдентификацияДокумента = Новый Соответствие;
	ИдентификацияДокумента.Вставить("ИдентификаторУЦН", ПараметрыОбъекта["ИдентификаторУЦН"]);
	ИдентификацияДокумента.Вставить("ИдентификаторПЦ", ПараметрыОбъекта["ИдентификаторПЦ"]);
	Параметры.ИдентификаторыУЦН.Добавить(ИдентификацияДокумента);
	Отказ = Истина; //объект не содержит никаких ссылочных данных	
	
Иначе 
	
	Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
	ИдентификацияДокумента = Новый Соответствие;
	ИдентификацияДокумента.Вставить("ИдентификаторУЦН", ПараметрыОбъекта["ИдентификаторУЦН"]);
	ИдентификацияДокумента.Вставить("ИдентификаторПЦ", ПараметрыОбъекта["ИдентификаторПЦ"]);
	Параметры.ИдентификаторыУЦН.Добавить(ИдентификацияДокумента);
	Для Каждого СтрокаТЧ Из Объект.Товары Цикл
		СтрокаТЧ.Валюта = Параметры.ВалютаРегламентированногоУчета;
	КонецЦикла;	
	
	Если Объект.ЭтоНовый() Тогда
		
		Объект.УстановитьСсылкуНового(Документы.УстановкаЦенНоменклатуры.ПолучитьСсылку(Новый УникальныйИдентификатор()));
		ИдентификацияДокумента = Новый Соответствие;
		ИдентификацияДокумента.Вставить("ИдентификаторУЦН", ПараметрыОбъекта["ИдентификаторУЦН"]);
		ИдентификацияДокумента.Вставить("ИдентификаторПЦ", ПараметрыОбъекта["ИдентификаторПЦ"]);
		ИдентификацияДокумента.Вставить("СсылкаНаДокумент", Объект.ПолучитьСсылкуНового());
		Параметры.ИдентификаторыУЦН.Добавить(ИдентификацияДокумента);

		НаборЗаписей = РегистрыСведений.ДополнительныеСведения.СоздатьНаборЗаписей();
		НаборЗаписей.Отбор.Объект.Установить(Объект.ПолучитьСсылкуНового());
		
		СвойствоОбъекта = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
		СвойствоПоиска  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторУстановкиЦенНоменклатуры", Истина);
		Если СвойствоПоиска.Пустая() Тогда
			НовоеСвойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
			НовоеСвойство.Наименование = "ИдентификаторУстановкиЦенНоменклатуры";
			//НовоеСвойство.Подсказка = "Идентификатор документа ""Установка цен номенклатуры""";
			НовоеСвойство.ТипЗначения = Новый ОписаниеТипов("Строка");
			НовоеСвойство.ЭтоДополнительноеСведение = Истина;
			НовоеСвойство.УстановитьНовыйКод();
			НовоеСвойство.Записать();
			СвойствоОбъекта = НовоеСвойство.Ссылка;		
		Иначе
			СвойствоОбъекта = СвойствоПоиска;
		КонецЕсли;	
		
		НоваяЗапись = НаборЗаписей.Добавить();
		НоваяЗапись.Объект	 = Объект.ПолучитьСсылкуНового();
		НоваяЗапись.Свойство = СвойствоОбъекта;
		НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторУЦН"];
		
		СвойствоОбъектаПЦ = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
		СвойствоПоискаПЦ  = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("ИдентификаторПравилаЦенообразования", Истина);
		Если СвойствоПоискаПЦ.Пустая() Тогда
			НовоеСвойствоПЦ = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.СоздатьЭлемент();
			НовоеСвойствоПЦ.Наименование = "ИдентификаторПравилаЦенообразования";
			НовоеСвойствоПЦ.ТипЗначения = Новый ОписаниеТипов("Строка");
			НовоеСвойствоПЦ.ЭтоДополнительноеСведение = Истина;
			НовоеСвойствоПЦ.УстановитьНовыйКод();
			НовоеСвойствоПЦ.Записать();
			СвойствоОбъектаПЦ = НовоеСвойствоПЦ.Ссылка;		
		Иначе
			СвойствоОбъектаПЦ = СвойствоПоискаПЦ;
		КонецЕсли;	
		
		НоваяЗапись = НаборЗаписей.Добавить();
		НоваяЗапись.Объект	 = Объект.ПолучитьСсылкуНового();
		НоваяЗапись.Свойство = СвойствоОбъектаПЦ;
		НоваяЗапись.Значение = ПараметрыОбъекта["ИдентификаторПЦ"];
		
		Если НаборЗаписей.Количество() &gt; 0 Тогда
			УстановитьОбменДаннымиЗагрузка(НаборЗаписей);
			НаборЗаписей.Записать();		
			УстановитьОбменДаннымиЗагрузка(НаборЗаписей, Ложь);
		КонецЕсли;  
		
	Иначе
		
		ИдентификацияДокумента = Новый Соответствие;
		ИдентификацияДокумента.Вставить("ИдентификаторУЦН", ПараметрыОбъекта["ИдентификаторУЦН"]);
		ИдентификацияДокумента.Вставить("ИдентификаторПЦ", ПараметрыОбъекта["ИдентификаторПЦ"]);
		ИдентификацияДокумента.Вставить("СсылкаНаДокумент", Объект.Ссылка);
		Параметры.ИдентификаторыУЦН.Добавить(ИдентификацияДокумента);

	КонецЕсли;
		
КонецЕсли;


Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
    
    ТекущийПользователь = ПользователиКлиентСервер.ТекущийПользователь();

    Если НЕ ЗначениеЗаполнено(Объект.Организация) Тогда
        Объект.Организация = ПользователиБКВызовСервераПовтИсп.ПолучитьЗначениеПоУмолчанию(ТекущийПользователь, "ОсновнаяОрганизация");
    КонецЕсли;
    
КонецЕсли;</ПослеЗагрузки>
					<ПоследовательностьПолейПоиска>ПрекратитьПоиск = Истина;

Если ПараметрыОбъекта["НеСоздаватьНовыйОбъект"] &lt;&gt; Истина Тогда	
	
	Запрос = Новый Запрос("ВЫБРАТЬ
	|	ДополнительныеСведения.Объект КАК УстановкаЦен
	|ИЗ
	|	РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ДополнительныеРеквизитыИСведения
	|		ПО ДополнительныеСведения.Свойство = ДополнительныеРеквизитыИСведения.Ссылка
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
	|			ДополнительныеСведения.Объект КАК ОбъектСХарактеристикой
	|		ИЗ
	|			РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
	|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ДополнительныеРеквизитыИСведения
	|				ПО ДополнительныеСведения.Свойство = ДополнительныеРеквизитыИСведения.Ссылка
	|		ГДЕ
	|			ДополнительныеРеквизитыИСведения.Наименование = &amp;НаименованиеПЦ
	|			И ДополнительныеСведения.Значение = &amp;ЗначениеПЦ) КАК ДополнительныеСведенияХарактеристика
	|		ПО ДополнительныеСведения.Объект = ДополнительныеСведенияХарактеристика.ОбъектСХарактеристикой
	|ГДЕ
	|	ДополнительныеРеквизитыИСведения.Наименование = &amp;Наименование
	|	И ДополнительныеСведения.Значение = &amp;Значение");
	
	Запрос.УстановитьПараметр("Наименование", "ИдентификаторУстановкиЦенНоменклатуры");
	Запрос.УстановитьПараметр("Значение", ПараметрыОбъекта["ИдентификаторУЦН"]);
	Запрос.УстановитьПараметр("НаименованиеПЦ", "ИдентификаторПравилаЦенообразования");
	Запрос.УстановитьПараметр("ЗначениеПЦ", ПараметрыОбъекта["ИдентификаторПЦ"]);
	
	Результат = Запрос.Выполнить();
	Если НЕ Результат.Пустой() Тогда
		Выборка = Результат.Выбрать();
		Выборка.Следующий();
		СсылкаНаОбъект = Выборка.УстановкаЦен;
	КонецЕсли;	
	
КонецЕсли;</ПоследовательностьПолейПоиска>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>ДокументСсылка.УстановкаЦенНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>--&gt; ИдентификаторУЦН</Наименование>
							<Порядок>50</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторУЦН</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство Поиск="true">
							<Код>13</Код>
							<Наименование>--&gt; ИдентификаторПЦ</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ИдентификаторПЦ</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство Поиск="true">
							<Код>14</Код>
							<Наименование>--&gt; НеСоздаватьНовыйОбъект</Наименование>
							<Порядок>150</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>НеСоздаватьНовыйОбъект</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>200</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>--&gt; Дата</Наименование>
							<Порядок>250</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПрименениеЦенНоменклатуры</Код>
					<Наименование>Документ: Применение цен номенклатуры</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда
	Запросы.ПрименениеЦенНоменклатуры.УстановитьПараметр("Ссылка", Источник.Ссылка);	
	РезультатЗапроса = Запросы.ПрименениеЦенНоменклатуры.ВыполнитьПакет()[0];	
Иначе
	Запросы.ПрименениеЦенНоменклатурыБезХарактеристик.УстановитьПараметр("Ссылка", Источник.Ссылка);	
	РезультатЗапроса = Запросы.ПрименениеЦенНоменклатурыБезХарактеристик.ВыполнитьПакет()[0];
КонецЕсли;	

ВходящиеДанные.Вставить("Товары", РезультатЗапроса.Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Для Каждого СтрокаТЧ Из Объект.Товары Цикл
	СтрокаТЧ.Валюта = Параметры.ВалютаРегламентированногоУчета;
КонецЦикла;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПрименениеЦенНоменклатуры</Источник>
					<Приемник>ДокументСсылка.УстановкаЦенНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ТипЦен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ОбъектЦенообразования,"ПравилоЦенообразования");</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>2</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>11</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Закупки</Код>
				<Наименование>Закупки</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>ПоступлениеТоваров</Код>
					<Наименование>Документ: Поступление товаров</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Запросы.ПоступлениеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПоступлениеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ПоступлениеТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[1].Выгрузить());

Отказ = ВходящиеДанные.Товары.Количество() = 0 И ВходящиеДанные.Услуги.Количество() = 0;</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента);

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
		
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПоступлениеТоваров</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>16</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>17</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец",    Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомисия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>36</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>2</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>34</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>23</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1050</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование> --&gt; Содержание</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>39</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровПоставщику</Код>
					<Наименование>Документ: Возврат товаров поставщику</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Запросы.ВозвратТоваровПоставщику.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ВозвратТоваровПоставщику.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ВозвратТоваровПоставщику.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента); 

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ВозвратТоваровПоставщику</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>15</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>16</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец",    Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику"/>
							<ПередВыгрузкой>Значение = "Покупка";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой> Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>2</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>31</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Продажи</Код>
				<Наименование>Продажи</Наименование>
				<Порядок>150</Порядок>
				<Правило>
					<Код>РеализацияТоваров</Код>
					<Наименование>Документ: Реализация товаров</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Запросы.РеализацияТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.РеализацияТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.РеализацияТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[1].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента);                    
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
		
	Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	
	////////////////////////////
	СтруктураПоиска = Новый Структура("Номенклатура", Справочники.Номенклатура.УслугаПодарочныйСертификат);	 	
	
	НайденныеСертификаты = Объект.Услуги.НайтиСтроки(СтруктураПоиска);
	
	Для Каждого СтрокаСертификата Из НайденныеСертификаты Цикл
		СтрокаСертификата.СчетДоходовБУ = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;
		СтрокаСертификата.СубконтоДоходовБУ1 = Объект.Контрагент;
		СтрокаСертификата.СубконтоДоходовБУ2 = Объект.ДоговорКонтрагента;
		СтрокаСертификата.СубконтоДоходовБУ3 = Объект.Ссылка;	
	КонецЦикла;
	///////////////////////
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	СоответствующееПодразделение = Параметры.СоответствиеПодразделений[Объект.Склад];	
	Для Каждого СтрокаТовары Из Объект.Товары Цикл
		Для НомерСубконто = 1 По СтрокаТовары.СчетДоходовБУ.ВидыСубконто.Количество() Цикл
			Если НЕ ЗначениеЗаполнено(СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто]) ТОгда 
				Если СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Доходы ТОгда 
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = Справочники.Доходы.ДоходыОтРеализации;
				ИначеЕсли СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Подразделения Тогда
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = СоответствующееПодразделение;
				КонецЕсли;
			КонецЕсли;
		КонецЦикла; 
	КонецЦикла;
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.РеализацияТоваров</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>БанковскийСчетОрганизации --&gt; БанковскийСчетОрганизации</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="БанковскийСчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<Приемник Имя="БанковскийСчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец",    Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>ДоверенностьНомер --&gt; ДоверенностьНомер</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>ДоверенностьЧерезКого --&gt; ДоверенностьЛицо</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ДоверенностьЧерезКого" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>41</Код>
							<Наименование>ДоверенностьВыдана --&gt; ДоверенностьВыдана</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>42</Код>
							<Наименование>ДоверенностьДата --&gt; ДоверенностьДата</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Группа>
							<Код>22</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1150</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>25</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);
Если ОбъектКоллекции.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПодарочныйСертификат Тогда
	//ИмяПКО = "Номенклатура_ПодарочныйСертификат";
	ИмяПКО = "";
	Значение = "УслугаПодарочныйСертификат"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; Содержание</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>43</Код>
							<Наименование>Дата --&gt; ДатаДокументаГЗ</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДокументаГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>Дата --&gt; ДатаПодписанияГЗ</Наименование>
							<Порядок>1250</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаПодписанияГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровОтПокупателя</Код>
					<Наименование>Документ: Возврат товаров от покупателя</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Запросы.ВозвратТоваровОтПокупателя.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ВозвратТоваровОтПокупателя.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ВозвратТоваровОтПокупателя.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ДокументыПродажи = РезультатыЗапроса[1].Выгрузить();
ВходящиеДанные.Вставить("Сделка", ?(ДокументыПродажи.Количество() &gt; 1.00 ИЛИ ДокументыПродажи.Количество() = 0.00, Неопределено, ДокументыПродажи[0].ДокументПродажи));</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента);

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ВозвратТоваровОтПокупателя</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>15</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>16</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сделка</Наименование>
							<Порядок>550</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<ПередВыгрузкой>Если ТипЗнч(Значение) = Тип("ДокументСсылка.РеализацияТоваров") Тогда
	ИмяПКО = "РеализацияТоваров";
Иначе
	ИмяПКО = "ОтчетОРозничныхПродажах";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец",    Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>2</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Упаковка) Тогда
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>27</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит" Тип="ДокументСсылка.РеализацияТоваров"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Значение) Тогда
	Если Не ВходящиеДанные.Сделка = Неопределено Тогда
		Значение = ВходящиеДанные.Сделка;
	КонецЕсли;
КонецЕсли;

Если ТипЗнч(Значение) = Тип("ДокументСсылка.ОтчетОРозничныхПродажах") Тогда
	
	Если Не Параметры.ВыгружатьОтчетОРозничныхПродажахКакРеализацию Тогда
		
		ИмяПКО = "ОтчетОРозничныхПродажах";
		
	Иначе
		
		ИмяПКО = "ОтчетОРозничныхПродажах_Реализация";
		
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ВозвратТоваров";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Сертификат_РеализацияТоваровУслуг</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах_Сертификаты.ВыполнитьПакет();
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[0].Выгрузить());

КлючВыгружаемыхДанных  = Строка(Источник) + "Сертификат";</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	

	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
	
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	
	////////////////////////////
	СтруктураПоиска = Новый Структура("Номенклатура", Справочники.Номенклатура.УслугаПодарочныйСертификат);	 	
	
	НайденныеСертификаты = Объект.Услуги.НайтиСтроки(СтруктураПоиска);
	
	Для Каждого СтрокаСертификата Из НайденныеСертификаты Цикл
		СтрокаСертификата.СчетДоходовБУ = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;
		СтрокаСертификата.СубконтоДоходовБУ1 = Объект.Контрагент;
		СтрокаСертификата.СубконтоДоходовБУ2 = Объект.ДоговорКонтрагента;
		СтрокаСертификата.СубконтоДоходовБУ3 = Объект.Ссылка;	
	КонецЦикла;
	///////////////////////
	
	Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
	
КонецЕсли;</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>--&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>--&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.Услуги.Итог("Сумма");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; УчитыватьНДС</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>13</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Услуги;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Если ОбъектКоллекции.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПодарочныйСертификат Тогда
	//ИмяПКО = "Номенклатура_ПодарочныйСертификат";
	ИмяПКО = "";
	Значение = "УслугаПодарочныйСертификат"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; Содержание</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Номенклатура.НаименованиеПолное;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; УчитыватьАкциз</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьАкциз" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>--&gt; УчитыватьКПН</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьКПН" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; УчитыватьНДС</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец",    Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; ДатаДокументаГЗ</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаДокументаГЗ" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.Дата;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ДатаПодписанияГЗ</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаПодписанияГЗ" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.Дата;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Прибыль_ОтчетОРозничныхПродажах</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>ОплатаПодарочнымиСертификатами = Число(Источник.ОплатаПодарочнымиСертификатами);

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат КАК ПодарочныйСертификат,
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат.Номинал * ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Количество КАК Сумма
|ИЗ
|	Документ.ОтчетОРозничныхПродажах.ПогашениеПодарочныхСертификатов КАК ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов
|ГДЕ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Ссылка = &amp;Ссылка
|ИТОГИ
|	СУММА(Сумма)
|ПО
|	ОБЩИЕ";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

РезультатЗапроса = Запрос.Выполнить();

Если Не РезультатЗапроса.Пустой() Тогда
	
	ВыборкаОбщийИтог = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	ВыборкаОбщийИтог.Следующий();
	
	СуммаНоминалаПодарочныхСертификатов = ВыборкаОбщийИтог.Сумма;
	
Иначе 
	
	СуммаНоминалаПодарочныхСертификатов = 0;
	
КонецЕсли;

Отказ = ОплатаПодарочнымиСертификатами &gt;= СуммаНоминалаПодарочныхСертификатов;


КлючВыгружаемыхДанных  = Строка(Источник) + "Прибыль";</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	ОплатаПодарочнымиСертификатами 		= ПараметрыОбъекта.Получить("ОплатаПодарочнымиСертификатами");
	СуммаНоминалаПодарочныхСертификатов = ПараметрыОбъекта.Получить("СуммаНоминалаПодарочныхСертификатов");

	
	СуммаПрибыли = СуммаНоминалаПодарочныхСертификатов - ОплатаПодарочнымиСертификатами;
	Объект.СуммаДокумента = СуммаПрибыли;
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	//Создадим или выберим контрагента "Розничная выручка"
	Выполнить(Алгоритмы.ДобавитьКонтрагентаРозничнаяПродажа);
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	
	// Заполнение поля "Договор". Функция:
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	
	НоваяСтрока = Объект.Услуги.Добавить();
	НоваяСтрока.Количество 		= 1;
	НоваяСтрока.Номенклатура 	= Справочники.Номенклатура.УслугаПодарочныйСертификат;
	НоваяСтрока.СтавкаНДС 		= Справочники.Номенклатура.УслугаПодарочныйСертификат.СтавкаНДС;
	НоваяСтрока.Сумма 			= СуммаПрибыли;
	НоваяСтрока.СуммаНДС 		= УчетНДСиАкцизаКлиентСервер.РассчитатьСуммуНДС(СуммаПрибыли, Объект.УчитыватьНДС, Объект.СуммаВключаетНДС, УчетНДСиАкцизаВызовСервераПовтИсп.ПолучитьСтавкуНДС(НоваяСтрока.СтавкаНДС));
	НоваяСтрока.Цена 			= СуммаПрибыли;
	НоваяСтрока.Содержание 		= Справочники.Номенклатура.УслугаПодарочныйСертификат.Наименование;
	НоваяСтрока.СчетДоходовБУ	= ПланыСчетов.Типовой.ДоходОтРеализацииПродукцииИОказанияУслуг;
	
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Отключить="true" Поиск="true">
							<Код>6</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Отключить="true" Поиск="true">
							<Код>7</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа Отключить="true">
							<Код>13</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
						</Группа>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ОплатаПодарочнымиСертификатами</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ОплатаПодарочнымиСертификатами</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.ОплатаПодарочнымиСертификатами);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СуммаНоминалаПодарочныхСертификатов</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНоминалаПодарочныхСертификатов</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат КАК ПодарочныйСертификат,
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат.Номинал * ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Количество КАК Сумма
|ИЗ
|	Документ.ОтчетОРозничныхПродажах.ПогашениеПодарочныхСертификатов КАК ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов
|ГДЕ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Ссылка = &amp;Ссылка
|ИТОГИ
|	СУММА(Сумма)
|ПО
|	ОБЩИЕ";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

РезультатЗапроса = Запрос.Выполнить();

Если Не РезультатЗапроса.Пустой() Тогда
	
	ВыборкаОбщийИтог = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	ВыборкаОбщийИтог.Следующий();
	
	Значение = ВыборкаОбщийИтог.Сумма;
	
Иначе 
	
	Значение = 0;
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Дата --&gt; ДатаДокументаГЗ</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДокументаГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Дата --&gt; ДатаПодписанияГЗ</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаПодписанияГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ОтчетОРозничныхПродажах</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[1].Выгрузить());
ВходящиеДанные.Вставить("Оплата", РезультатыЗапроса[2].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);

Организация = Объект.Организация;
Выполнить(Алгоритмы.ЗаполнитьКассуРозничнойПродажи);
Выполнить(Алгоритмы.ЗаполнитьСчетУчетаДенежныхСредствКасса);

ТекущийПользователь = Пользователи.ТекущийПользователь();

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);
		
		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	//Создадим или выберим контрагента "Розничная выручка"
	Выполнить(Алгоритмы.ДобавитьКонтрагентаРозничнаяПродажа);
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	
	// Заполнение поля "Договор". Функция:
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
	Объект.КратностьВзаиморасчетов 	= 1;
	Объект.КурсВзаиморасчетов		= 1;
	Объект.КратностьДокумента		= 1;
	Объект.КурсДокумента			= 1;	
		
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	СоответствующееПодразделение = Параметры.СоответствиеПодразделений[Объект.Склад];	
	Для Каждого СтрокаТовары Из Объект.Товары Цикл
		Для НомерСубконто = 1 По СтрокаТовары.СчетДоходовБУ.ВидыСубконто.Количество() Цикл
			Если НЕ ЗначениеЗаполнено(СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто]) ТОгда 
				Если СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Доходы ТОгда 
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = Справочники.Доходы.ДоходыОтРеализации;
				ИначеЕсли СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Подразделения Тогда
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = СоответствующееПодразделение;
				КонецЕсли;
			КонецЕсли;
		КонецЦикла; 
	КонецЦикла;
	
КонецЕсли; 

//Объект.ОбменДанными.Отправитель = Метаданные.ПланыОбмена.ОбменРозницаБухгалтерияПредприятия30;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Эквайрер --&gt; Контрагент</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>Контрагент</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>--&gt; ОплатаПодарочнымиСертификатами</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ОплатаПодарочнымиСертификатами</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.ОплатаПодарочнымиСертификатами);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>--&gt; СуммаНоминалаПодарочныхСертификатов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНоминалаПодарочныхСертификатов</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат КАК ПодарочныйСертификат,
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат.Номинал * ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Количество КАК Сумма
|ИЗ
|	Документ.ОтчетОРозничныхПродажах.ПогашениеПодарочныхСертификатов КАК ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов
|ГДЕ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Ссылка = &amp;Ссылка
|ИТОГИ
|	СУММА(Сумма)
|ПО
|	ОБЩИЕ";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

РезультатЗапроса = Запрос.Выполнить();

Если Не РезультатЗапроса.Пустой() Тогда
	
	ВыборкаОбщийИтог = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	ВыборкаОбщийИтог.Следующий();
	
	Значение = ВыборкаОбщийИтог.Сумма;
	
Иначе 
	
	Значение = 0;
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>--&gt; СуммаНаличными</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНаличными</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.Товары.Итог("Сумма"))+?(Источник.ЦенаВключаетНДС, 0, Источник.Товары.Итог("СуммаНДС")) - Источник.ОплатаПлатежнымиКартами.Итог("Сумма") - Источник.ОплатаБанковскимиКредитами.Итог("Сумма") - Источник.ОплатаПодарочнымиСертификатами;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>31</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>37</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Группа>
							<Код>38</Код>
							<Наименование>Товары --&gt; Услуги</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Услуги;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>39</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);
Если ОбъектКоллекции.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПодарочныйСертификат Тогда
	//ИмяПКО = "Номенклатура_ПодарочныйСертификат";
	ИмяПКО = "";
	Значение = "УслугаПодарочныйСертификат"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>40</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>41</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>43</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>44</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>45</Код>
								<Наименование>--&gt; Содержание</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Номенклатура.НаименованиеПолное;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>50</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Оплата;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>51</Код>
								<Наименование>--&gt; ВидОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыЭквайринга"/>
								<КодПравилаКонвертации>ДоговорыЭквайринга                                </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>52</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>47</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>53</Код>
							<Наименование>--&gt; КратностьДокумента</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>54</Код>
							<Наименование>--&gt; КурсДокумента</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>49</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>1250</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>55</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Сертификат_ОтчетОРозничныхПродажах</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах_Сертификаты.ВыполнитьПакет();
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[0].Выгрузить());

КлючВыгружаемыхДанных  = Строка(Источник) + "Сертификат";</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.Товары.Очистить();
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	//Создадим или выберим контрагента "Розничная выручка"
	Выполнить(Алгоритмы.ДобавитьКонтрагентаРозничнаяПродажа);
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	
	// Заполнение поля "Договор". Функция:
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	
	
	////////////////////////////
	СтруктураПоиска = Новый Структура("Номенклатура", Справочники.Номенклатура.УслугаПодарочныйСертификат);	 	
	
	НайденныеСертификаты = Объект.Услуги.НайтиСтроки(СтруктураПоиска);
	
	Для Каждого СтрокаСертификата Из НайденныеСертификаты Цикл
		СтрокаСертификата.СчетДоходовБУ = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;
		СтрокаСертификата.СубконтоДоходовБУ1 = Объект.Контрагент;
		СтрокаСертификата.СубконтоДоходовБУ2 = Объект.ДоговорКонтрагента;
		СтрокаСертификата.СубконтоДоходовБУ3 = Объект.Ссылка;	
	КонецЦикла;
	///////////////////////
	
	Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Отключить="true" Поиск="true">
							<Код>7</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>5</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>11</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>Контрагент</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>Товары --&gt; Услуги</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Услуги;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Если ОбъектКоллекции.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПодарочныйСертификат Тогда
	//ИмяПКО = "Номенклатура_ПодарочныйСертификат";
	ИмяПКО = "";
	Значение = "УслугаПодарочныйСертификат"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; Содержание</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Номенклатура.НаименованиеПолное;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; УчитыватьАкциз</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьАкциз" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; УчитыватьКПН</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьКПН" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; УчитыватьНДС</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.Услуги.Итог("Сумма");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>Дата --&gt; ДатаДокументаГЗ</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДокументаГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>Дата --&gt; ДатаПодписанияГЗ</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаПодписанияГЗ" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПКО_АТТ_ОтчетОРозничныхПродажах</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>НеЗапоминатьВыгруженные = Истина;
ВыгрузитьОбъект = Истина;
ВыгрузитьТолькоСсылку = Ложь;
ТолькоПолучитьУзелСсылки = Ложь;

СуммаНаличнойОплаты  = Источник.СуммаОплатыНаличных;
ВходящиеДанные = Новый Структура;
ВходящиеДанные.Вставить("СуммаДокумента", СуммаНаличнойОплаты);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда	
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	//Создадим или выберим контрагента "Розничная выручка"
	Выполнить(Алгоритмы.ДобавитьКонтрагентаРозничнаяПродажа);
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	
	// Заполнение поля "Договор". Функция:
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	
	Для Каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
		Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагентуТЧ);
	КонецЦикла;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
							<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; ДокументОснование</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							<КодПравилаКонвертации>ОтчетОРозничныхПродажах                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Магазин --&gt; Контрагент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Магазин --&gt; Касса</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
							<КодПравилаКонвертации>МагазиныКассы                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("Владелец", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки> КоллекцияОбъектов = Новый ТаблицаЗначений;
 КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
 КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
 КоллекцияОбъектов.Колонки.Добавить("СпособПогашенияЗадолженности");
 КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
 КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
 КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
 КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
								<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Справочники.СтатьиДвиженияДенежныхСредств.ПоступлениеДенежныхСредствИзКассыККМ;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой> Значение = 1;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; СуммаПлатежа</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой> Значение = ВходящиеДанные.СуммаДокумента;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой> Значение = ВходящиеДанные.СуммаДокумента;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>19</Код>
							<Наименование>КассаККМ --&gt;</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="КассаККМ" Вид="Реквизит" Тип="СправочникСсылка.КассыККМ"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа>
					<Код>Эквайринг</Код>
					<Наименование>Эквайринг</Наименование>
					<Порядок>250</Порядок>
					<Правило>
						<Код>ОплатаОтПокупателяПлатежнойКартой</Код>
						<Наименование>Документ: Операция по платежной карте</Наименование>
						<Порядок>700</Порядок>
						<ПослеЗагрузки>Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
	
	Если НЕ ЗначениеЗаполнено(Объект.ДоговорЭквайринга) Тогда
		ДоговорЭквайринга = ПользователиБКВызовСервераПовтИсп.ПолучитьЗначениеПоУмолчанию(Пользователи.ТекущийПользователь(), "ОсновнойДоговорЭквайринга");
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСЭквайрером) Тогда
		Документы.ОплатаОтПокупателяПлатежнойКартой.ЗаполнитьСчетаРасчетовСЭквайером(Объект);
	КонецЕсли;
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	                                                      	
	
	УправлениеДенежнымиСредствамиСервер.ЗаполнитьРеквизитыРасчетногоДокумента(Объект, Объект.РасшифровкаПлатежа);
	СтрокаПлатеж = Объект.РасшифровкаПлатежа[0];
	Документы.ОплатаОтПокупателяПлатежнойКартой.ЗаполнитьСчетаРасчетовСКонтрагентом(Объект, СтрокаПлатеж);
	
	ОсновнойДоговорКонтрагента = ОбщегоНазначенияБК.ДоступныйДоговорКонтрагента(Объект.Контрагент.ОсновнойДоговорКонтрагента);	
	
	Если ОсновнойДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
		ИЛИ ОсновнойДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Прочее Тогда
		
		Если НЕ (ЗначениеЗаполнено(ОсновнойДоговорКонтрагента)
			И ОсновнойДоговорКонтрагента.ВалютаВзаиморасчетов &lt;&gt; Параметры.ВалютаРегламентированногоУчета) Тогда
			
			Если Объект.Организация.Пустая() Тогда
				
				СтрокаПлатеж.ДоговорКонтрагента = ОсновнойДоговорКонтрагента;
				
				Объект.Организация = ОсновнойДоговорКонтрагента.Организация;
				
			ИначеЕсли ОсновнойДоговорКонтрагента.Организация.Пустая()
				ИЛИ ОсновнойДоговорКонтрагента.Организация = Объект.Организация Тогда
				
				СтрокаПлатеж.ДоговорКонтрагента = ОсновнойДоговорКонтрагента;
				
			КонецЕсли;
			
		КонецЕсли;	

	КонецЕсли;
	
	Если ЗначениеЗаполнено(Объект.ДоговорЭквайринга) Тогда
		Объект.ДоговорВзаиморасчетовЭквайрера = Объект.ДоговорЭквайринга.ДоговорВзаиморасчетов;
	КонецЕсли;

	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой</Источник>
						<Приемник>ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>3</Код>
									<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>24</Код>
									<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>29</Код>
									<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>30</Код>
									<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>4</Код>
								<Наименование>ЭквайринговыйТерминал --&gt; ДоговорЭквайринга</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ЭквайринговыйТерминал" Вид="Реквизит" Тип="СправочникСсылка.ЭквайринговыеТерминалы"/>
								<Приемник Имя="ДоговорЭквайринга" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыЭквайринга"/>
								<КодПравилаКонвертации>ДоговорыЭквайринга                                </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
								<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Значение) И Источник.РасшифровкаПлатежа.Количество() = 1 Тогда
	Значение = Источник.РасшифровкаПлатежа[0].ДокументРасчетовСКонтрагентом;
КонецЕсли;

Если ТипЗнч(Значение) = Тип("ДокументСсылка.РеализацияТоваров") Тогда
	ИмяПКО = "РеализацияТоваров";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Эквайрер --&gt; Эквайрер</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОплатаОтПокупателяПлатежнойКартой"/>
								<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	Значение = "ОплатаПокупателя";
Иначе
	Значение = "ВозвратДенежныхСредствПокупателю";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>ПроцентКомиссии --&gt; ПроцентТорговойУступки</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="ПроцентКомиссии" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="ПроцентТорговойУступки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>СуммаКомиссии --&gt; СуммаТорговойУступки</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="СуммаКомиссии" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаТорговойУступки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>ВидОплаты --&gt; ВидОплаты</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЧекаККМ"/>
								<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЭквайринга"/>
								<КодПравилаКонвертации>ВидыОплатЭквайринга                               </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование>НомерЧекаККМ --&gt; НомерЧекаККМ</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Правило>
					<Код>КорректировкаДолга</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>300</Порядок>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

Попытка
	
	ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);
	
	Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
		Объект.УчитыватьКПН = Ложь;
	Иначе
		Объект.УчитыватьКПН = Истина;
	КонецЕсли;	
	
	Если НЕ Объект.УчитыватьКПН Тогда
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
	Иначе
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
	КонецЕсли;
	
Исключение
КонецПопытки;


//Создадим или выберим контрагента "Розничная выручка"
Запрос = Новый Запрос;
Запрос.Текст =  "ВЫБРАТЬ
|	Контрагенты.Ссылка
|ИЗ
|	Справочник.Контрагенты КАК Контрагенты
|ГДЕ
|	Контрагенты.РНН = &amp;РНН
|	И Контрагенты.Наименование = &amp;Наименование
|	И Контрагенты.ЮрФизЛицо = &amp;ЮрФизЛицо
|	И Контрагенты.ЭтоГруппа = &amp;ЭтоГруппа";

Запрос.УстановитьПараметр("ЭтоГруппа", Ложь);
Запрос.УстановитьПараметр("РНН", "000000000000");
Запрос.УстановитьПараметр("Наименование", "Розничная выручка");
//Запрос.УстановитьПараметр("ИдентификационныйКодЛичности", "999999999YYY");
Запрос.УстановитьПараметр("ЮрФизЛицо",  Перечисления.ЮрФизЛицо.ФизЛицо);

Результат = Запрос.Выполнить();

Если Результат.Пустой() Тогда
	НовыйКонтрагент                     			= Справочники.Контрагенты.СоздатьЭлемент();
	НовыйКонтрагент.Комментарий     				= "Элемент создан при выгрузке данных их конфигурации ""Розница для Казахстана""";
	НовыйКонтрагент.НаименованиеПолное    			= "Розничная выручка";
	НовыйКонтрагент.РНН              				= "000000000000";
	НовыйКонтрагент.ЮрФизЛицо              			= Перечисления.ЮрФизЛицо.ФизЛицо;
	//НовыйКонтрагент.ИдентификационныйКодЛичности 	= "999999999YYY";
	НовыйКонтрагент.Наименование           			= "Розничная выручка";
	
	НовыйКонтрагент.Записать();
	
	Объект.КонтрагентДебитор = НовыйКонтрагент.Ссылка;
	Объект.КонтрагентКредитор = НовыйКонтрагент.Ссылка;
Иначе
	Выборка = Результат.Выбрать();
	Выборка.Следующий();
	
	Объект.КонтрагентДебитор = Выборка.Ссылка;
	Объект.КонтрагентКредитор = Выборка.Ссылка;
	
КонецЕсли;

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Ложь;
ПараметрИмяТабличнойЧасти       = "Товары";
ПараметрКонтрагент              = Объект.КонтрагентДебитор;
ПараметрОрганизация             = Объект.Организация;

// Заполнение поля "Договор". Функция:
Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);

ОплатаПодарочнымиСертификатами 		= ПараметрыОбъекта.Получить("ОплатаПодарочнымиСертификатами");
СуммаНоминалаПодарочныхСертификатов = ПараметрыОбъекта.Получить("СуммаНоминалаПодарочныхСертификатов");


Объект.СчетДт = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;

Объект.СчетДтНУ = ПроцедурыБухгалтерскогоУчетаВызовСервераПовтИсп.ПреобразоватьСчетаБУвСчетНУ(Новый Структура("СчетБУ", Объект.СчетДт));

Объект.СубконтоДт1 = Объект.КонтрагентДебитор;
Объект.СубконтоДт2 = Объект.ДоговорКонтрагента;
Объект.СубконтоДт3 = ПараметрыОбъекта.Получить("ДокументРеализации");//Объект.Ссылка;

Объект.СубконтоДтНУ1 = Объект.КонтрагентДебитор;
Объект.СубконтоДтНУ2 = Объект.ДоговорКонтрагента;

Объект.СчетКт = ПланыСчетов.Типовой.КраткосрочнаяДебиторскаяЗадолженностьПокупателейИЗаказчиков;

Объект.СчетКтНУ = ПроцедурыБухгалтерскогоУчетаВызовСервераПовтИсп.ПреобразоватьСчетаБУвСчетНУ(Новый Структура("СчетБУ", Объект.СчетКт));

Объект.СубконтоКт1 = Объект.КонтрагентДебитор;
Объект.СубконтоКт2 = Объект.ДоговорКонтрагента;
Объект.СубконтоКт3 = ПараметрыОбъекта.Получить("ДокументРеализации");//Объект.Ссылка;

Объект.СубконтоКтНУ1 = Объект.КонтрагентДебитор;
Объект.СубконтоКтНУ2 = Объект.ДоговорКонтрагента;

Объект.СуммыДолга.Очистить();

//Сктроки корректировки долга
СтрокаКорриктировки = Объект.СуммыДолга.Добавить();
СтрокаКорриктировки.ВидЗадолженности 		= Перечисления.ВидыЗадолженности.Кредиторская;
СтрокаКорриктировки.ДоговорКонтрагента 		= Объект.ДоговорКонтрагента;
СтрокаКорриктировки.Сделка 					= Объект.Ссылка;
СтрокаКорриктировки.Сумма 					= ОплатаПодарочнымиСертификатами;
СтрокаКорриктировки.СуммаВзаиморасчетов 	= ОплатаПодарочнымиСертификатами;
СтрокаКорриктировки.СуммаНУ 				= ОплатаПодарочнымиСертификатами;
СтрокаКорриктировки.КурсВзаиморасчетов 		= 1;
СтрокаКорриктировки.КратностьВзаиморасчетов = 1;
СтрокаКорриктировки.СчетУчетаРасчетов 		= ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;

//Если Не СуммаНоминалаПодарочныхСертификатов = ОплатаПодарочнымиСертификатами Тогда
//	СуммаПрибыли = СуммаНоминалаПодарочныхСертификатов - ОплатаПодарочнымиСертификатами;
//	
//	СтрокаКорриктировки = Объект.СуммыДолга.Добавить();
//	СтрокаКорриктировки.ВидЗадолженности 		= Перечисления.ВидыЗадолженности.Дебиторская;
//	СтрокаКорриктировки.ДоговорКонтрагента 		= Объект.ДоговорКонтрагента;
//	СтрокаКорриктировки.Сделка 					= ПараметрыОбъекта.Получить("ДокументРеализации");//Объект.Ссылка;
//	СтрокаКорриктировки.Сумма 					= СуммаПрибыли;
//	СтрокаКорриктировки.СуммаВзаиморасчетов 	= СуммаПрибыли;
//	СтрокаКорриктировки.СуммаНУ 				= СуммаПрибыли;
//	СтрокаКорриктировки.КурсВзаиморасчетов 		= 1;
//	СтрокаКорриктировки.КратностьВзаиморасчетов = 1;
//	СтрокаКорриктировки.СчетУчетаРасчетов 		= ПланыСчетов.Типовой.ДоходОтРеализацииПродукцииИОказанияУслуг;
//	
//КонецЕсли;

Объект.Комментарий = "Документ корректировки задолженности по подарочным сертификатам";</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.КорректировкаДолга</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийКорректировкаДолга"/>
							<ПередВыгрузкой>Значение = "СписаниеЗадолженности";</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>3</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
							<ПередВыгрузкой>Значение = "КраткосрочныеОбязательстваПоДоговорам";</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>4</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
							<ПередВыгрузкой>Значение = "КраткосрочнаяДебиторскаяЗадолженностьПокупателейИЗаказчиков";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ОплатаПодарочнымиСертификатами</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ОплатаПодарочнымиСертификатами</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.ОплатаПодарочнымиСертификатами);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; СуммаНоминалаПодарочныхСертификатов</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНоминалаПодарочныхСертификатов</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат КАК ПодарочныйСертификат,
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат.Номинал * ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Количество КАК Сумма
|ИЗ
|	Документ.ОтчетОРозничныхПродажах.ПогашениеПодарочныхСертификатов КАК ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов
|ГДЕ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Ссылка = &amp;Ссылка
|ИТОГИ
|	СУММА(Сумма)
|ПО
|	ОБЩИЕ";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

РезультатЗапроса = Запрос.Выполнить();

Если Не РезультатЗапроса.Пустой() Тогда
	
	ВыборкаОбщийИтог = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	ВыборкаОбщийИтог.Следующий();
	
	Значение = ВыборкаОбщийИтог.Сумма;
	
Иначе 
	
	Значение = 0;
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; ДокументРеализации</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ДокументРеализации</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ППВ_АТТ_ОтчетОРозничныхПродажах</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>350</Порядок>
					<ПослеЗагрузки>СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.ПлатежноеПоручениеВходящее</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; ДокументОснование</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеБезналичныхДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "ПрочееПоступлениеБезналичныхДенежныхСредств";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ОтчетОРозничныхПродажах_Реализация</Код>
					<Наименование>Документ: Отчет о розничных продажах</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ВходящиеДанные.Вставить("Услуги", РезультатыЗапроса[1].Выгрузить());
ВходящиеДанные.Вставить("Оплата", РезультатыЗапроса[2].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	//Создадим или выберим контрагента "Розничная выручка"
	Выполнить(Алгоритмы.ДобавитьКонтрагентаРозничнаяПродажа);
	
	// Заполнение поля "Договор". Параметры:
	ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Ложь;
	ПараметрИмяТабличнойЧасти       = "Товары";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;
	
	// Заполнение поля "Договор". Функция:
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	
	
	Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	
	////////////////////////////
	СтруктураПоиска = Новый Структура("Номенклатура", Справочники.Номенклатура.УслугаПодарочныйСертификат);	 	
	
	НайденныеСертификаты = Объект.Услуги.НайтиСтроки(СтруктураПоиска);
	
	Для Каждого СтрокаСертификата Из НайденныеСертификаты Цикл
		СтрокаСертификата.СчетДоходовБУ = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;
		СтрокаСертификата.СубконтоДоходовБУ1 = Объект.Контрагент;
		СтрокаСертификата.СубконтоДоходовБУ2 = Объект.ДоговорКонтрагента;
		СтрокаСертификата.СубконтоДоходовБУ3 = Объект.Ссылка;	
	КонецЦикла;
	///////////////////////
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	СоответствующееПодразделение = Параметры.СоответствиеПодразделений[Объект.Склад];	
	Для Каждого СтрокаТовары Из Объект.Товары Цикл
		Для НомерСубконто = 1 По СтрокаТовары.СчетДоходовБУ.ВидыСубконто.Количество() Цикл
			Если НЕ ЗначениеЗаполнено(СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто]) ТОгда 
				Если СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Доходы ТОгда 
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = Справочники.Доходы.ДоходыОтРеализации;
				ИначеЕсли СтрокаТовары.СчетДоходовБУ.ВидыСубконто[НомерСубконто-1].ВидСубконто = ПланыВидовХарактеристик.ВидыСубконтоТиповые.Подразделения Тогда
					СтрокаТовары["СубконтоДоходовБУ"+НомерСубконто] = СоответствующееПодразделение;
				КонецЕсли;
			КонецЕсли;
		КонецЦикла; 
	КонецЦикла;
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>35</Код>
							<Наименование>--&gt; ОплатаПодарочнымиСертификатами</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ОплатаПодарочнымиСертификатами</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.ОплатаПодарочнымиСертификатами);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>--&gt; СуммаНаличными</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНаличными</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Число(Источник.Товары.Итог("Сумма"))+?(Источник.ЦенаВключаетНДС, 0, Источник.Товары.Итог("СуммаНДС")) - Источник.ОплатаПлатежнымиКартами.Итог("Сумма") - Источник.ОплатаБанковскимиКредитами.Итог("Сумма") - Источник.ОплатаПодарочнымиСертификатами;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>--&gt; СуммаНоминалаПодарочныхСертификатов</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>СуммаНоминалаПодарочныхСертификатов</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат КАК ПодарочныйСертификат,
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.ПодарочныйСертификат.Номинал * ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Количество КАК Сумма
|ИЗ
|	Документ.ОтчетОРозничныхПродажах.ПогашениеПодарочныхСертификатов КАК ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов
|ГДЕ
|	ОтчетОРозничныхПродажахПогашениеПодарочныхСертификатов.Ссылка = &amp;Ссылка
|ИТОГИ
|	СУММА(Сумма)
|ПО
|	ОБЩИЕ";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

РезультатЗапроса = Запрос.Выполнить();

Если Не РезультатЗапроса.Пустой() Тогда
	
	ВыборкаОбщийИтог = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	ВыборкаОбщийИтог.Следующий();
	
	Значение = ВыборкаОбщийИтог.Сумма;
	
Иначе 
	
	Значение = 0;
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование>--&gt; ДатаДокументаГЗ</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаДокументаГЗ" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.Дата;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>47</Код>
							<Наименование>--&gt; ДатаПодписанияГЗ</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаПодписанияГЗ" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.Дата;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>37</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>38</Код>
							<Наименование>Товары --&gt; Услуги</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Услуги;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>45</Код>
								<Наименование>--&gt; Содержание</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Номенклатура.НаименованиеПолное;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>40</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>39</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);
Если ОбъектКоллекции.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПодарочныйСертификат Тогда
	//ИмяПКО = "Номенклатура_ПодарочныйСертификат";
	ИмяПКО = "";
	Значение = "УслугаПодарочныйСертификат"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>41</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>43</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>44</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>9</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Эквайрер --&gt; Контрагент</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>Контрагент</ИмяПараметраДляПередачи>
						</Свойство>
						<Свойство>
							<Код>49</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Передача товаров</Код>
				<Наименование>Передача товаров</Наименование>
				<Порядок>200</Порядок>
				<Правило>
					<Код>ПередачаТоваров_Покупка</Код>
					<Наименование>Документ: Передача товаров между организациями</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Запросы.ПередачаТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПередачаТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ПередачаТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ОрганизацияКонтрагента = Источник.Организация;
НовыйКонтрагент = Неопределено;
Выполнить(Алгоритмы.СоздатьИВыгрузитьКонтрагентаИзОрганизации);
ВходящиеДанные.Вставить("Контрагент", НовыйКонтрагент);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполняет счета учетов документа
	СчетаУчета = УправлениеВзаиморасчетамиСервер.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
	Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
	
	// Заполняет счета учета табличной части "Товары"
	Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");
	// Заполняет счета учета табличной части "Услуги"
	Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Услуги");
	
	Попытка
		// Заполняет реквизиты налогового учета табличной части "Товары"
		Для Каждого СтрокаТЧ Из Объект.Товары Цикл
			Документы.ПоступлениеТоваровУслуг.ЗаполнитьРеквизитыНалоговогоУчета(Объект, СтрокаТЧ, "Товары");
		КонецЦикла;
		
		// Заполняет реквизиты налогового учета табличной части "Услуги"
		Для Каждого СтрокаТЧ Из Объект.Услуги Цикл
			Документы.ПоступлениеТоваровУслуг.ЗаполнитьРеквизитыНалоговогоУчета(Объект, СтрокаТЧ, "Услуги");
		КонецЦикла;
	Исключение
	Конецпопытки  	
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПередачаТоваровМеждуОрганизациями</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>14</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>15</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Лев(Источник.Номер, 5) + "И" + Сред(Источник.Номер, 7);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ОрганизацияПолучатель --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ОрганизацияПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование> --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец",    ВходящиеДанные.Контрагент);
Значение.Вставить("Организация", Источник.ОрганизацияПолучатель);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомисия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>2</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>27</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПередачаТоваров_Продажа</Код>
					<Наименование>Документ: Передача товаров между организациями</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Запросы.ПередачаТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПередачаТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ПередачаТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ОрганизацияКонтрагента = Источник.ОрганизацияПолучатель;
НовыйКонтрагент = Неопределено;
Выполнить(Алгоритмы.СоздатьИВыгрузитьКонтрагентаИзОрганизации);
ВходящиеДанные.Вставить("Контрагент", НовыйКонтрагент);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Выполнить(Алгоритмы.ЗаполнитьВалютуДокумента);                    
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Объект.СуммаДокумента = УчетНДСИАкциза.ПолучитьСуммуДокументаСНДС(Объект);
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполняет счета учетов документа
	СчетаУчета = УправлениеВзаиморасчетамиСервер.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);
	
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
	Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансовПокупателя;
	
	// Заполняет счета учета табличной части "Товары"
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");
	// Заполняет счета учета табличной части "Услуги"
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Услуги");
	
	Попытка
		// Заполняет реквизиты налогового учета табличной части "Товары"
		Для Каждого СтрокаТЧ Из Объект.Товары Цикл
			Документы.РеализацияТоваровУслуг.ЗаполнитьРеквизитыНалоговогоУчета(Объект, СтрокаТЧ, "Товары");
		КонецЦикла;
		
		// Заполняет реквизиты налогового учета табличной части "Услуги"
		Для Каждого СтрокаТЧ Из Объект.Услуги Цикл
			Документы.РеализацияТоваровУслуг.ЗаполнитьРеквизитыНалоговогоУчета(Объект, СтрокаТЧ, "Услуги");
		КонецЦикла;
	Исключение
	Конецпопытки
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПередачаТоваровМеждуОрганизациями</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>33</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>34</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = 	Лев(Источник.Номер, 5) + "И" + Сред(Источник.Номер, 7);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование> --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец",    ВходящиеДанные.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>550</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>36</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>41</Код>
							<Наименование>ДоверенностьВыдана --&gt; ДоверенностьВыдана</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>42</Код>
							<Наименование>ДоверенностьЛицо --&gt; ДоверенностьЛицо</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>43</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>44</Код>
							<Наименование>ДоверенностьДата --&gt; ДоверенностьДата</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>ДоверенностьНомер --&gt; ДоверенностьНомер</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>ЦенаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>47</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Складские операции</Код>
				<Наименование>Складские операции</Наименование>
				<Порядок>250</Порядок>
				<Правило>
					<Код>ОприходованиеТоваров</Код>
					<Наименование>Документ: Оприходование товаров</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Запросы.ОприходованиеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ОприходованиеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОприходованиеТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	Объект.СуммаДокумента = Объект.Товары.Итог("Сумма");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполняет счета учета табличной части "Товары"
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);	
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ОприходованиеТоваров</Источник>
					<Приемник>ДокументСсылка.ОприходованиеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>11</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ТипЦен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>2</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>21</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СборкаТоваров</Код>
					<Наименование>Документ: Сборка товаров</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Запросы.СборкаТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.СборкаТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.СборкаТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Комплектующие", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);      
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СборкаТоваров</Источник>
					<Приемник>ДокументСсылка.КомплектацияНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры"/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры"/>
							<КодПравилаКонвертации>ВидыОперацийКомплектацияНоменклатуры              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; Номенклатура</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<ПередВыгрузкой>Если Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда
	Если ЗначениеЗаполнено(Источник.Характеристика) Тогда
		Значение = Источник.Характеристика;
		ИсходящиеДанные = Новый Структура("Номенклатура", Источник.Номенклатура);
		Если ТипЗнч(Источник.Характеристика.Владелец) = Тип("СправочникСсылка.ВидыНоменклатуры") Тогда
			ИмяПКО = "ХарактеристикиНоменклатурыОбщиеДляВида";
		Иначе
			ИмяПКО = "ХарактеристикиНоменклатуры";
		КонецЕсли;	
	Иначе
		Значение = Источник.Номенклатура;
		ИмяПКО   = "Номенклатура";
	КонецЕсли;                           	
Иначе
	Значение = Источник.Номенклатура;
	ИмяПКО = "Номенклатура";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Комплектующие</Наименование>
							<Порядок>650</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комплектующие" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ДоляСтоимости</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоляСтоимости" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Упаковка) Тогда
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе
	Значение = Справочники.БазовыеЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Упаковка) Тогда
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Упаковка) Тогда
	Значение = Источник.Упаковка.ЕдиницаИзмерения;
Иначе
	Значение = Справочники.БазовыеЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Упаковка) Тогда
	Значение = Источник.Упаковка.Коэффициент;
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеТоваров</Код>
					<Наименование>Документ: Перемещение товаров</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Запросы.ПеремещениеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПеремещениеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ПеремещениеТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполняет счета учета табличной части "Товары"
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПеремещениеТоваров</Источник>
					<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>МагазинОтправитель --&gt; СкладОтправитель</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="МагазинОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>МагазинПолучатель --&gt; СкладПолучатель</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="МагазинПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>17</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ИнвентаризацияТоваров</Код>
					<Наименование>Документ: Инвентаризация товаров</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Запросы.ПересчетТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПересчетТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ПересчетТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	Для Каждого СтрокаТовары ИЗ Объект.Товары Цикл
		
		СчетаУчета = ПроцедурыБухгалтерскогоУчета.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, СтрокаТовары.Номенклатура);
		СтрокаТовары.СчетУчетаБУ = СчетаУчета.СчетУчетаБУ;
		
	КонецЦикла;
	
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПересчетТоваров</Источник>
					<Приемник>ДокументСсылка.ИнвентаризацияТоваровНаСкладе</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Магазин --&gt; Склад</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийИнвентаризация"/>
							<ПередВыгрузкой>Значение = "ПоСкладу";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование>КоличествоФакт --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="КоличествоФакт" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>СуммаФакт --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаФакт" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; КоличествоУчет</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоУчет" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; СуммаУчет</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаУчет" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>15</Код>
							<Наименование>ИнвентаризационнаяКомиссия --&gt; ИнвентаризационнаяКомиссия</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>16</Код>
								<Наименование>Председатель --&gt; Председатель</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>19</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа>
					<Код>Списание товаров</Код>
					<Наименование>Списание товаров</Наименование>
					<Порядок>450</Порядок>
					<Правило>
						<Код>СписаниеТоваров</Код>
						<Наименование>Документ: Списание товаров</Наименование>
						<Порядок>150</Порядок>
						<ПередВыгрузкой>Запросы.СписаниеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.СписаниеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.СписаниеТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	//Объект.СуммаДокумента = Объект.Товары.Итог("Сумма");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.СписаниеТоваров</Источник>
						<Приемник>ДокументСсылка.СписаниеТоваров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Магазин --&gt; Склад</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Группа>
								<Код>10</Код>
								<Наименование>Товары --&gt; Товары</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>11</Код>
									<Наименование>Количество --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
									<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; Коэффициент</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
									<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
								</Свойство>
							</Группа>
							<Группа>
								<Код>21</Код>
								<Наименование>ИнвентаризационнаяКомиссия --&gt; ИнвентаризационнаяКомиссия</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>22</Код>
									<Наименование>Председатель --&gt; Председатель</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
									<Приемник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
									<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>24</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ТребованиеНакладная</Код>
						<Наименование>Документ: Списание товаров</Наименование>
						<Порядок>350</Порядок>
						<ПередВыгрузкой>Запросы.СписаниеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.СписаниеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.СписаниеТоваров.ВыполнитьПакет();
ВходящиеДанные.Вставить("Материалы", РезультатыЗапроса[0].Выгрузить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	Объект.СчетЗатратБУ = 	ПланыСчетов.Типовой.РасходыПоРеализацииПродукцииИОказаниюУслуг;
	Объект.СчетЗатратНУ =  	ПроцедурыБухгалтерскогоУчетаВызовСервераПовтИсп.ПреобразоватьСчетаБУвСчетНУ(Новый Структура("СчетБУ", Объект.СчетЗатратБУ), , , Объект.Дата);
	// Заполняет счета учета табличной части "Материалы"
	Для каждого СтрокаТабличнойЧасти Из Объект.Материалы Цикл
		Документы.ТребованиеНакладная.ЗаполнитьСчетаУчетаВСтрокеТабЧасти(Объект.Организация, СтрокаТабличнойЧасти, Объект.УчитыватьКПН) 
	КонецЦикла;
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.СписаниеТоваров</Источник>
						<Приемник>ДокументСсылка.ТребованиеНакладная</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Магазин --&gt; Склад</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>9</Код>
								<Наименование>Товары --&gt; Материалы</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="Материалы" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = ВходящиеДанные.Материалы;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>10</Код>
									<Наименование>Количество --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
									<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Коэффициент</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								</Свойство>
							</Группа>
							<Группа>
								<Код>16</Код>
								<Наименование>ИнвентаризационнаяКомиссия --&gt; ИнвентаризационнаяКомиссия</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="ИнвентаризационнаяКомиссия" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>17</Код>
									<Наименование>Председатель --&gt; Председатель</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
									<Приемник Имя="Председатель" Вид="Реквизит" Тип="Булево"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
									<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>19</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>Пересортица</Код>
					<Наименование>Пересортица</Наименование>
					<Порядок>500</Порядок>
					<Правило>
						<Код>ПТ_ПересортицаТоваровОприходование</Код>
						<Наименование>Документ: Пересортица товаров</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Запросы.ПересортицаОприходованиеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПересортицаОприходованиеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатЗапроса = Запросы.ПересортицаОприходованиеТоваров.Выполнить();
ВходящиеДанные.Вставить("Товары", РезультатЗапроса.Выгрузить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	Объект.СуммаДокумента = Объект.Товары.Итог("Сумма");
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполняет счета учета табличной части "Товары"
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);	
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПересортицаТоваров</Источник>
						<Приемник>ДокументСсылка.ОприходованиеТоваров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>6</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Магазин --&gt; Склад</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>9</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>450</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Коэффициент</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; Цена</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ТипЦен</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
								<ПередВыгрузкой>Значение = Источник.Магазин.ПравилоЦенообразования;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПТ_ПересортицаТоваровСписание</Код>
						<Наименование>Документ: Пересортица товаров</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>Запросы.ПересортицаСписаниеТоваров.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запросы.ПересортицаСписаниеТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатЗапроса = Запросы.ПересортицаСписаниеТоваров.Выполнить();
ВходящиеДанные.Вставить("Товары", РезультатЗапроса.Выгрузить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПересортицаТоваров</Источник>
						<Приемник>ДокументСсылка.СписаниеТоваров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>9</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Магазин --&gt; Склад</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Магазин" Вид="Реквизит" Тип="СправочникСсылка.Магазины"/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Основание</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = Строка(Источник);</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>550</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>3</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаНоменклатуры);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; Коэффициент</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
									<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>19</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа>
				<Код>Касса</Код>
				<Наименование>Касса</Наименование>
				<Порядок>300</Порядок>
				<Правило>
					<Код>ЗарплатаКВыплатеОрганизаций</Код>
					<Наименование>Документ: Ведомость на выплату зарплаты</Наименование>
					<Порядок>350</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ЗарплатаКВыплатеОрганизаций</Источник>
					<Приемник>ДокументСсылка.ЗарплатаКВыплатеОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриводитьКДлине>11</ПриводитьКДлине>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>ПериодРегистрации --&gt; ПериодНачисленияЗарплаты</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПериодРегистрации" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ПериодНачисленияЗарплаты" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>16</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование> --&gt; СпособВыплаты</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособВыплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыВыплатыЗарплаты"/>
							<ПередВыгрузкой>Значение = "ЧерезКассу";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>3</Код>
							<Наименование>Зарплата --&gt; Зарплата</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Зарплата" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Зарплата" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>4</Код>
								<Наименование>ОтметкаОВыплатеЗарплаты --&gt; ВыплаченностьЗарплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ОтметкаОВыплатеЗарплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОтметокОВыплатеЗарплаты"/>
								<Приемник Имя="ВыплаченностьЗарплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ВыплаченностьЗарплаты"/>
								<КодПравилаКонвертации>ВыплаченностьЗарплаты                             </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>СуммаВыплаты --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаВыплаты" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.СуммаВыплаты = 0.00 И ОбъектКоллекции.КомпенсацияЗаЗадержкуЗарплаты = 0.00 Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.СуммаВыплаты;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>ФизЛицо --&gt; Физлицо</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<Приемник Имя="Физлицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СуммаВыплаты --&gt; СуммаКВыплате</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаВыплаты" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаКВыплате" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.СуммаВыплаты = 0.00 И ОбъектКоллекции.КомпенсацияЗаЗадержкуЗарплаты = 0.00 Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.СуммаВыплаты;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; СпособРасчетаСуммКВыплате</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособРасчетаСуммКВыплате" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаСуммКВыплате"/>
							<ПередВыгрузкой>Значение = "ЗарплатаЗаМесяц";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа>
					<Код>Приход денежных средств</Код>
					<Наименование>Приход денежных средств</Наименование>
					<Порядок>400</Порядок>
					<Правило>
						<Код>ПКО_ВозвратДСОтПоставщика</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
			
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);	
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ВозвратДенежныхСредствПоставщиком";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>16</Код>
									<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>25</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_ПрочееПоступлениеНаличныхДС</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ПриходДенежныхСредствПрочее";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("СчетУчетаРасчетовСКонтрагентом");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ВходящиеДанные.СтатьяДвиженияДенежныхСредств;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой> Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
									<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой> Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>24</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>27</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_ПоступлениеДСИзБанка</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;

Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	
	Если  НЕ ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеОтправитель)Тогда
		Объект.СтруктурноеПодразделениеОтправитель = Объект.Организация;
	Иначе
		Объект.СтруктурноеПодразделениеОтправитель = ?(ЗначениеЗаполнено(Объект.труктурноеПодразделениеОтправитель), Объект.СтруктурноеПодразделениеОтправитель, Объект.Организация);
	КонецЕсли;	
	
	Если НЕ ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеПолучатель)Тогда
		Объект.СтруктурноеПодразделениеПолучатель = Объект.Организация;
	Иначе
		Объект.СтруктурноеПодразделениеПолучатель = ?(ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеПолучатель), Объект.СтруктурноеПодразделениеПолучатель, Объект.Организация);
	КонецЕсли; 	
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ПолучениеНаличныхДенежныхСредствВБанке";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>БанковскийСчет --&gt; СчетОрганизации</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
								<Приемник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
								<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = "ДенежныеСредстваНаТекущихБанковскихСчетах";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Справочники.СтатьиДвиженияДенежныхСредств.ПоступлениеДенежныхСредствИзБанка;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>27</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_РасчетыПоКредитамИЗаймам</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);	
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "РасчетыПоКредитамИЗаймамСКонтрагентами";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>13</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("СчетУчетаРасчетовСКонтрагентом");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ВходящиеДанные.СтатьяДвиженияДенежныхСредств;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
									<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "Прочее");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>  Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>24</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_ПоступлениеДСИзДругойОрганизации</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПередВыгрузкой>ОрганизацияКонтрагента = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.ДокументОснование, "Организация");
НовыйКонтрагент		   = Неопределено;
Выполнить(Алгоритмы.СоздатьИВыгрузитьКонтрагентаИзОрганизации);
ВходящиеДанные.Вставить("Контрагент", НовыйКонтрагент);</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>250</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование> --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("ДоговорКонтрагента");
КоллекцияОбъектов.Колонки.Добавить("СпособПогашенияЗадолженности");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой> Значение = Справочники.СтатьиДвиженияДенежныхСредств.ВыдачаДенежныхСредствВДругуюОрганизацию;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец", ВходящиеДанные.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>25</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_ПоступлениеРозничнойВыручки</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; Контрагент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.КассаККМ.Магазин;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("СпособПогашенияЗадолженности");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Справочники.СтатьиДвиженияДенежныхСредств.ПоступлениеДенежныхСредствИзКассыККМ;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<НеЗамещать>true</НеЗамещать>
									<Код>18</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>25</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПКО_ПоступлениеДСОтКлиента</Код>
						<Наименование>Документ: Приходный кассовый ордер</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
								<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>15</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>16</Код>
									<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>25</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>Расход денежных средств</Код>
					<Наименование>Расход денежных средств</Наименование>
					<Порядок>450</Порядок>
					<Правило>
						<Код>РКО_РасчетыПоКредитамИЗаймам</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>18</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>19</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "РасчетыПоКредитамИЗаймамСКонтрагентами";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование> --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("ДоговорКонтрагента");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СчетУчетаРасчетовСКонтрагентом");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>3</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
									<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ВходящиеДанные.СтатьяДвиженияДенежныхСредств;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "Прочее");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>26</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ВыдачаДСВДругуюОрганизацию</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПередВыгрузкой>ОрганизацияКонтрагента = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.КассаПолучатель, "Владелец");
НовыйКонтрагент		   = Неопределено;
Выполнить(Алгоритмы.СоздатьИВыгрузитьКонтрагентаИзОрганизации);
ВходящиеДанные.Вставить("Контрагент", НовыйКонтрагент);</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
		
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
		
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>15</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ОплатаПоставщику";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("ДоговорКонтрагента");
КоллекцияОбъектов.Колонки.Добавить("СпособПогашенияЗадолженности");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Справочники.СтатьиДвиженияДенежныхСредств.ВыдачаДенежныхСредствВДругуюОрганизацию;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец", ВходящиеДанные.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>  Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>26</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ОплатаПоставщику</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);
		
		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>20</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>21</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ОплатаПоставщику";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>2</Код>
									<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>3</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПоставщиком");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>26</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ПрочийРасходДС</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>20</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>21</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Справочники.Контрагенты.ПустаяСсылка();</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "РасходДенежныхСредствПрочее";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование> --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>4</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>26</Код>
									<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
									<ПередВыгрузкой>Значение = ВходящиеДанные.Счет;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>27</Код>
									<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ВходящиеДанные.СтатьяДвиженияДенежныхСредств;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>29</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ВзносНаличнымиВБанк</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
	
	Попытка
		
		Если НЕ ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеОтправитель)Тогда
			Объект.СтруктурноеПодразделениеОрганизацияОтправитель = Объект.Организация;
		Иначе
			Объект.СтруктурноеПодразделениеОрганизацияОтправитель = ?(ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеОтправитель), Объект.СтруктурноеПодразделениеОтправитель, Объект.Организация);
		КонецЕсли;	
		
		Если НЕ ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеПолучатель)Тогда
			Объект.СтруктурноеПодразделениеОрганизацияПолучатель = Объект.Организация;
		Иначе
			Объект.СтруктурноеПодразделениеОрганизацияПолучатель = ?(ЗначениеЗаполнено(Объект.СтруктурноеПодразделениеПолучатель), Объект.СтруктурноеПодразделениеПолучатель, Объект.Организация);
		КонецЕсли;
		
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>20</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>21</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Справочники.Контрагенты.ПустаяСсылка();</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>БанковскийСчет --&gt; СчетОрганизации</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
								<Приемник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
								<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ВзносНаличнымиВБанк";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентомБУ</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентомБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = "ДенежныеСредстваНаТекущихБанковскихСчетах";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа");
КоллекцияОбъектов.Колонки.Добавить("КратностьВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("КурсВзаиморасчетов");
КоллекцияОбъектов.Колонки.Добавить("СуммаВзаиморасчетов");
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Справочники.СтатьиДвиженияДенежныхСредств.СдачаДенежныхСредствВБанк;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование> --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой> Значение = Источник.СуммаДокумента;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>28</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ВозвратДСПокупателю</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	
	// Определение переменных, используемых в алгоритмах
	МетаданныеДокумента = Объект.Метаданные();
			
	Попытка
		
		ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

		Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
			Объект.УчитыватьКПН = Ложь;
		Иначе
			Объект.УчитыватьКПН = Истина;
		КонецЕсли;	
		
		Если НЕ Объект.УчитыватьКПН Тогда
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
		Иначе
			Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
		КонецЕсли;
		
	Исключение
	КонецПопытки;
	
	// Заполнение дополнительных реквизитов шапки
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
	 		
	СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);
	
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>20</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>21</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; ВидОперации</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ВозвратДенежныхСредствПокупателю";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>2</Код>
									<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
									<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>3</Код>
									<Наименование> --&gt; ДоговорКонтрагента</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "СПокупателем");
Значение.Вставить("Владелец", Источник.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; КратностьВзаиморасчетов</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; КурсВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
									<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>26</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ВыплатаЗарплатыПоВедомости</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>400</Порядок>
						<ПослеЗагрузки>Объект.Контрагент = Справочники.Контрагенты.ПустаяСсылка();
Объект.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить();

// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

Попытка
	
	ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

	Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
		Объект.УчитыватьКПН = Ложь;
	Иначе
		Объект.УчитыватьКПН = Истина;
	КонецЕсли;	
	
	Если НЕ Объект.УчитыватьКПН Тогда
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
	Иначе
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
	КонецЕсли;
	
Исключение
КонецПопытки;

// Заполнение дополнительных реквизитов шапки
Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;

СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ВыплатаЗаработнойПлатыПоВедомостям";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>Ответственный --&gt; Ответственный</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = НЕ Источник.Проведен;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; СчетКасса</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = "КассаОрганизации";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>16</Код>
								<Наименование> --&gt; ВыплатаЗаработнойПлаты</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВыплатаЗаработнойПлаты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений();
КоллекцияОбъектов.Колонки.Добавить("Ведомость");
КоллекцияОбъектов.Колонки.Добавить("СуммаКВыплате");
СтрокаРасшифрокаПлатежа = КоллекцияОбъектов.Добавить();
СтрокаРасшифрокаПлатежа.Ведомость = Источник.ПлатежнаяВедомость;
СтрокаРасшифрокаПлатежа.СуммаКВыплате = Источник.СуммаДокумента;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>17</Код>
									<Наименование> --&gt; Ведомость</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Ведомость" Вид="Реквизит" Тип="ДокументСсылка.ЗарплатаКВыплатеОрганизаций"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; СуммаКВыплате</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаКВыплате" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Группа>
								<Код>23</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений();
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа", Новый ОписаниеТипов("Число"));
СтрокаПлатежа = КоллекцияОбъектов.Добавить();
СтрокаПлатежа.СуммаПлатежа = Источник.СуммаДокумента;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>24</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>26</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>РКО_ВыплатаЗарплатыРаботнику</Код>
						<Наименование>Документ: Расходный кассовый ордер</Наименование>
						<Порядок>450</Порядок>
						<ПослеЗагрузки>Объект.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить();

// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

Попытка
	
	ОрганизацияЯвляетсяПлательщикомКПН =  ПроцедурыНалоговогоУчета.ПолучитьПризнакПлательщикаНалогаНаПрибыль(Объект.Организация, Объект.Дата);

	Если Не ОрганизацияЯвляетсяПлательщикомКПН Тогда
		Объект.УчитыватьКПН = Ложь;
	Иначе
		Объект.УчитыватьКПН = Истина;
	КонецЕсли;	
	
	Если НЕ Объект.УчитыватьКПН Тогда
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НеОтражаетсяВНУ;
	Иначе
		Объект.ВидУчетаНУ = Справочники.ВидыУчетаНУ.НУ;
	КонецЕсли;
	
Исключение
КонецПопытки;

// Заполнение дополнительных реквизитов шапки
Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;

СчетаУчетаВДокументах.ЗаполнитьПередОтображениемПользователю(Объект);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
						<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование>Выдать --&gt; Выдать</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДокументОснование" Вид="Реквизит"/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Контрагент --&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит"/>
								<Приемник Имя="Контрагент" Вид="Реквизит"/>
								<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Основание --&gt; Основание</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ПлатежнаяВедомость --&gt; ПлатежнаяВедомость</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="ПлатежнаяВедомость" Вид="Реквизит" Тип="ДокументСсылка.ЗарплатаКВыплатеОрганизаций"/>
								<Приемник Имя="ПлатежнаяВедомость" Вид="Реквизит"/>
								<КодПравилаКонвертации>ЗарплатаКВыплатеОрганизаций                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Приложение --&gt; Приложение</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = НЕ Источник.Проведен;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Проведен --&gt; Проведен</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; ВидОперации</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
								<ПередВыгрузкой>Значение = "ВыплатаЗаработнойПлатыРаботнику";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; СчетКасса</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Типовой"/>
								<ПередВыгрузкой>Значение = "КассаОрганизации";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Касса --&gt; Касса</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
								<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>17</Код>
								<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений();
КоллекцияОбъектов.Колонки.Добавить("СуммаПлатежа", Новый ОписаниеТипов("Число"));
СтрокаПлатежа = КоллекцияОбъектов.Добавить();
СтрокаПлатежа.СуммаПлатежа = Источник.СуммаДокумента;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; СуммаПлатежа</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>21</Код>
								<Наименование>Ответственный --&gt; Автор</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа>
				<Код>СчетФактуры</Код>
				<Наименование>СчетФактуры</Наименование>
				<Порядок>350</Порядок>
				<Правило>
					<Код>СчетФактураВыданный</Код>
					<Наименование>Документ: Счет-фактура выданный</Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
ДокументОснование = Объект.ДокументОснование;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СчетФактураВыданный</Источник>
					<Приемник>ДокументСсылка.СчетФактураВыданный</Приемник>
					<Свойства>
						<Свойство>
							<Код>13</Код>
							<Наименование>ВидСчетаФактуры --&gt; ВидСчетаФактуры</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВидСчетаФактуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСчетовФактур"/>
							<Приемник Имя="ВидСчетаФактуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСчетовФактур"/>
							<КодПравилаКонвертации>ВидыСчетовФактур                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ТипЗнч(Источник.ДокументОснование) &lt;&gt; Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями") Тогда
	Значение = Новый Структура;
	Значение.Вставить("Ссылка");
	Значение.Вставить("ВидДоговора", "СПокупателем");
	Значение.Вставить("Владелец",    Источник.ДокументОснование.Контрагент);
	Значение.Вставить("Организация", Источник.Организация);
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ТипЗнч(Источник.ДокументОснование) &lt;&gt; Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями") Тогда
	Значение = Источник.ДокументОснование.Контрагент;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Грузоотправитель" Вид="Реквизит"/>
							<Приемник Имя="Грузоотправитель" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>Грузополучатель --&gt; Грузополучатель</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ДатаВыставления --&gt; ДатаСовершенияОборотаПоРеализации</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ДатаВыставления" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаСовершенияОборотаПоРеализации" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>ДоверенностьВыдана --&gt; ДоверенностьВыдана</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>ДоверенностьДата --&gt; ДоверенностьДата</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>ДоверенностьЛицо --&gt; ДоверенностьЛицо</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>36</Код>
							<Наименование>ДоверенностьНомер --&gt; ДоверенностьНомер</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
							<ПередВыгрузкой>Если ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.РеализацияТоваров") Тогда
	ИмяПКО = "РеализацияТоваров"
ИначеЕсли ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.ВозвратТоваровОтПокупателя") Тогда
	ИмяПКО = "ВозвратТоваровОтПокупателя"
Иначе
	ИмяПКО = "ПередачаТоваров_Покупка"
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>ОсновнойСчетФактура --&gt; ОсновнойСчетФактура</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ОсновнойСчетФактура" Вид="Реквизит" Тип="ДокументСсылка.СчетФактураВыданный"/>
							<Приемник Имя="ОсновнойСчетФактура" Вид="Реквизит" Тип="ДокументСсылка.СчетФактураВыданный"/>
							<КодПравилаКонвертации>СчетФактураВыданный                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>ПодтвержденДокументамиОтгрузки --&gt; ПодтвержденДокументамиОтгрузки</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ПодтвержденДокументамиОтгрузки" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ПодтвержденДокументамиОтгрузки" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>41</Код>
							<Наименование>ПунктНазначения --&gt; ПунктНазначения</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="ПунктНазначения" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПунктНазначения" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>42</Код>
							<Наименование>СпособОтправления --&gt; СпособОтправления</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="СпособОтправления" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СпособОтправления" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>43</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>УдалитьДоверенность --&gt; УдалитьДоверенность</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="УдалитьДоверенность" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="УдалитьДоверенность" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>УсловияОплаты --&gt; УсловияОплаты</Наименование>
							<Порядок>1250</Порядок>
							<Источник Имя="УсловияОплаты" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="УсловияОплаты" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>УчитыватьНДС --&gt; УчитыватьНДС</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>23</Код>
							<Наименование>Товары --&gt; Товары</Наименование>
							<Порядок>1350</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>24</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>Коэффициент --&gt; Коэффициент</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>20</Код>
							<Наименование>ДокументыОснования --&gt; ДокументыОснования</Наименование>
							<Порядок>1400</Порядок>
							<Источник Имя="ДокументыОснования" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ДокументыОснования" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; ДокументОснование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.РеализацияТоваров") Тогда
	ИмяПКО = "РеализацияТоваров"
ИначеЕсли ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.ВозвратТоваровОтПокупателя") Тогда
	ИмяПКО = "ВозвратТоваровОтПокупателя"
Иначе
	ИмяПКО = "ПередачаТоваров_Покупка"
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>47</Код>
							<Наименование>--&gt; СпособВыставления</Наименование>
							<Порядок>1450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособВыставления" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыОбменаДокументами"/>
							<ПередВыгрузкой>Значение = "Бумажно";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>1500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>49</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>1550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>50</Код>
							<Наименование>Ответственный --&gt; Автор</Наименование>
							<Порядок>1600</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ВыгрузкаАвтора);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СчетФактураПолученный</Код>
					<Наименование>Документ: Счет-фактура полученный</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ОбработатьЗаписьДокументаПослеЗагрузки);
Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;

Если Объект.ДокументыОснования.Количество()&gt;0 Тогда
	ДокументОснование = Объект.ДокументыОснования[0].ДокументОснование;
	Объект.ДокументОснование = ДокументОснование;
	Объект.СуммаНДСДокумента = ДокументОснование.Товары.Итог("СуммаНДС");

	Если ДокументОснование.СуммаВключаетНДС Тогда
		Объект.СуммаДокумента = ДокументОснование.Товары.Итог("Сумма");
	Иначе
		Объект.СуммаДокумента = ДокументОснование.Товары.Итог("Сумма") + Объект.СуммаНДСДокумента;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СчетФактураПолученный</Источник>
					<Приемник>ДокументСсылка.СчетФактураПолученный</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриводитьКДлине>11</ПриводитьКДлине>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>РегистрыСведений</Код>
			<Наименование>РегистрыСведений</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>ДокументыФизическихЛиц</Код>
				<Наименование>ДокументыФизическихЛиц</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ДокументыФизическихЛиц                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ДокументыФизическихЛиц</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОтветственныеЛицаОрганизаций</Код>
				<Наименование>ОтветственныеЛицаОрганизаций</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ОтветственныеЛицаОрганизаций                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФИОФизЛиц</Код>
				<Наименование>ФИОФизЛиц</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ФИОФизЛиц                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ФИОФизЛиц</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>50</Порядок>
				<Комментарий>НЕ РАБОТАЕТ</Комментарий>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
				<ПослеВыгрузкиОбъекта>Выполнить(Алгоритмы.ВыгрузкаКонтактнойИнформации);</ПослеВыгрузкиОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФизическиеЛица</Код>
				<Наименование>ФизическиеЛица</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ФизическиеЛица</ОбъектВыборки>
				<ПослеВыгрузкиОбъекта>Если Не Объект.ЭтоГруппа Тогда
	Выполнить(Алгоритмы.ВыгрузкаКонтактнойИнформации);
КонецЕсли;</ПослеВыгрузкиОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>БанковскиеСчета</Код>
				<Наименование>БанковскиеСчетаКонтрагентов</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БанковскиеСчета</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторБанков</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Магазины</Код>
				<Наименование>Магазины</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Магазины</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПравилаЦенообразования</Код>
				<Наименование>ПравилаЦенообразования</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ПравилаЦенообразования</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
				<ПослеВыгрузкиОбъекта>Если Не Объект.ЭтоГруппа Тогда
	Выполнить(Алгоритмы.ВыгрузкаКонтактнойИнформации);
КонецЕсли;</ПослеВыгрузкиОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>СтраныМира</Код>
				<Наименование>СтраныМира</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтраныМира</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ДолжностиОрганизаций</Код>
				<Наименование>ДолжностиОрганизаций</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ДолжностиОрганизаций                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ДолжностиОрганизаций</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>НоменклатурныеГруппы</Код>
				<Наименование>НоменклатурныеГруппы</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>НоменклатурныеГруппы                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ТоварныеГруппы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>БазовыеЕдиницыИзмерения</Код>
				<Наименование>БазовыеЕдиницыИзмерения</Наименование>
				<Порядок>700</Порядок>
				<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БазовыеЕдиницыИзмерения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>ВидыКонтактнойИнформации</Наименование>
				<Порядок>850</Порядок>
				<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыДокументовФизическихЛиц</Код>
				<Наименование>ВидыДокументовФизическихЛиц</Наименование>
				<Порядок>900</Порядок>
				<КодПравилаКонвертации>ВидыДокументовФизическихЛиц                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыДокументовФизическихЛиц</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ХарактеристикиНоменклатуры</Код>
				<Наименование>Характеристики номенклатуры</Наименование>
				<Порядок>950</Порядок>
				<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ХарактеристикиНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтавкиНДС</Код>
				<Наименование>Ставки НДС</Наименование>
				<Порядок>1000</Порядок>
				<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтавкиНДС</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Кассы</Код>
				<Наименование>Кассы</Наименование>
				<Порядок>1050</Порядок>
				<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Кассы</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>ПрименениеЦенНоменклатуры</Код>
				<Наименование>Применение цен номенклатуры</Наименование>
				<Порядок>50</Порядок>
				<Комментарий>НЕ РАБОТАЕТ ПЕРЕД ВЫГРУЗКОЙ</Комментарий>
				<КодПравилаКонвертации>ПрименениеЦенНоменклатуры                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПрименениеЦенНоменклатуры</ОбъектВыборки>
				<ПередОбработкойПравила>Если НЕ Параметры.ИспользоватьПрименениеЦен 
	ИЛИ НЕ Параметры.РеквизитыУзла.ПередаватьРозничныеЦены Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойПравила>
				<ПослеВыгрузкиОбъекта>Если Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда
	
	Запросы.ПереоценкаТоваровПоПрименениюЦен.УстановитьПараметр("Ссылка", Объект.Ссылка);
	Запросы.ПереоценкаТоваровПоПрименениюЦен.УстановитьПараметр("ДатаДокумента", Объект.Дата);
	Запросы.ПереоценкаТоваровПоПрименениюЦен.УстановитьПараметр("ГраницаДокумента", Новый Граница(Объект.Дата, ВидГраницы.Исключая));
	РезультатыЗапроса = Запросы.ПереоценкаТоваровПоПрименениюЦен.ВыполнитьПакет();
	РезультатЗапроса = РезультатыЗапроса[1];
	
Иначе		
	Запросы.ПереоценкаТоваровПоПрименениюЦенБезХарактеристик.УстановитьПараметр("Ссылка", Объект.Ссылка);
	Запросы.ПереоценкаТоваровПоПрименениюЦенБезХарактеристик.УстановитьПараметр("ДатаДокумента", Объект.Дата);
	Запросы.ПереоценкаТоваровПоПрименениюЦенБезХарактеристик.УстановитьПараметр("ГраницаДокумента", Новый Граница(Объект.Дата, ВидГраницы.Исключая));
	РезультатыЗапроса = Запросы.ПереоценкаТоваровПоПрименениюЦенБезХарактеристик.ВыполнитьПакет();
	РезультатЗапроса = РезультатыЗапроса[2];
	
КонецЕсли;

ВходящиеДанные = Новый Структура;
Товары = Новый ТаблицаЗначений;
Товары.Колонки.Добавить("Номенклатура");
Товары.Колонки.Добавить("Характеристика");
Товары.Колонки.Добавить("Количество");
Товары.Колонки.Добавить("СтавкаНДСВРознице");
Товары.Колонки.Добавить("ЦенаВРознице");
Товары.Колонки.Добавить("ЦенаВРозницеСтарая");
Товары.Колонки.Добавить("СуммаПереоценки");
Товары.Колонки.Добавить("ПередатьИсходящиеДанные"); 	
	
ВходящиеДанные = Неопределено;
Товары = Неопределено;</ПослеВыгрузкиОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>УстановкаЦенНоменклатуры</Код>
				<Наименование>Установка цен номенклатуры</Наименование>
				<Порядок>100</Порядок>
				<Комментарий>- НЕ РАБОТАЕТ</Комментарий>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.УстановкаЦенНоменклатуры</ОбъектВыборки>
				<ПередОбработкойПравила>Если НЕ Параметры.РеквизитыУзла.ПередаватьРозничныеЦены Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойПравила>
				<ПередВыгрузкойОбъекта>Если Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда
	Запросы.УстановкаЦенНоменклатуры.УстановитьПараметр("Ссылка", Объект.Ссылка);
	РезультатыЗапроса = Запросы.УстановкаЦенНоменклатуры.ВыполнитьПакет();	
Иначе
	Запросы.УстановкаЦенНоменклатурыБезХарактеристик.УстановитьПараметр("Ссылка", Объект.Ссылка);
	РезультатыЗапроса = Запросы.УстановкаЦенНоменклатурыБезХарактеристик.ВыполнитьПакет();	
КонецЕсли; 

РезультатЗапроса = РезультатыЗапроса[3];

ВходящиеДанные = Новый Структура;
Товары = Новый ТаблицаЗначений;
Товары.Колонки.Добавить("Номенклатура");
Товары.Колонки.Добавить("Характеристика");
Товары.Колонки.Добавить("ПередатьИсходящиеДанные");
Товары.Колонки.Добавить("Цена");

Если РезультатЗапроса.Пустой() Тогда
	
	ВходящиеДанные.Вставить("ТипЦен", Неопределено);
	ВходящиеДанные.Вставить("Ответственный", Неопределено);
	ВходящиеДанные.Вставить("ИдентификаторУЦН", Строка(Объект.Ссылка.УникальныйИдентификатор()));
	ВходящиеДанные.Вставить("ИдентификаторПЦ", "");
	ВходящиеДанные.Вставить("Номер", Неопределено);
	ВходящиеДанные.Вставить("Дата", Объект.Дата);
	ВходящиеДанные.Вставить("ПометкаУдаления", Истина);
	ВходящиеДанные.Вставить("Комментарий", Неопределено);
	ВходящиеДанные.Вставить("Проведен", Ложь);
	ВходящиеДанные.Вставить("Товары", Товары);
	ВходящиеДанные.Вставить("НеСоздаватьНовыйОбъект", Истина);
	ВыгрузитьПоПравилу(,,ВходящиеДанные,, "УстановкаЦенНоменклатуры");
	
Иначе	
	
	ВыборкаПравилЦенообразования = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	Пока ВыборкаПравилЦенообразования.Следующий() Цикл
		
		ВходящиеДанные.Очистить();
		Товары.Очистить();
		ВыборкаЦен = ВыборкаПравилЦенообразования.Выбрать();
		Пока ВыборкаЦен.Следующий() Цикл
			СтрокаТоваров = Товары.Добавить();
			ЗаполнитьЗначенияСвойств(СтрокаТоваров, ВыборкаЦен);			
		КонецЦикла;	
		
		ВходящиеДанные.Вставить("ТипЦен", ВыборкаПравилЦенообразования.ПравилоЦенообразования);
		ВходящиеДанные.Вставить("Ответственный", Объект.Ответственный);
		ВходящиеДанные.Вставить("ИдентификаторУЦН", Строка(Объект.Ссылка.УникальныйИдентификатор()));
		ВходящиеДанные.Вставить("ИдентификаторПЦ", Строка(ВыборкаПравилЦенообразования.ПравилоЦенообразования.УникальныйИдентификатор()));
		ВходящиеДанные.Вставить("Номер", Объект.Номер);
		ВходящиеДанные.Вставить("Дата", Объект.Дата);
		ВходящиеДанные.Вставить("ПометкаУдаления", Объект.ПометкаУдаления);
		ВходящиеДанные.Вставить("Комментарий", Объект.Комментарий);
		ВходящиеДанные.Вставить("Проведен", Объект.Проведен);
		ВходящиеДанные.Вставить("Товары", Товары);
		ВходящиеДанные.Вставить("НеСоздаватьНовыйОбъект", Ложь);
		ВыгрузитьПоПравилу(,,ВходящиеДанные,, "УстановкаЦенНоменклатуры");
		
	КонецЦикла;	
	
КонецЕсли;	

Товары.Очистить();

//Если Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик Тогда
//	
//	Запросы.ПереоценкаТоваровПоУстановкеЦен.УстановитьПараметр("Ссылка", Объект.Ссылка);
//	Запросы.ПереоценкаТоваровПоУстановкеЦен.УстановитьПараметр("ДатаДокумента", Объект.Дата);
//	Запросы.ПереоценкаТоваровПоУстановкеЦен.УстановитьПараметр("ГраницаДокумента", Новый Граница(Объект.Дата, ВидГраницы.Исключая));
//	РезультатыЗапроса = Запросы.ПереоценкаТоваровПоУстановкеЦен.ВыполнитьПакет();
//	
//Иначе	
//	
//	Запросы.ПереоценкаТоваровПоУстановкеЦенБезХарактеристик.УстановитьПараметр("Ссылка", Объект.Ссылка);
//	Запросы.ПереоценкаТоваровПоУстановкеЦенБезХарактеристик.УстановитьПараметр("ДатаДокумента", Объект.Дата);
//	Запросы.ПереоценкаТоваровПоУстановкеЦенБезХарактеристик.УстановитьПараметр("ГраницаДокумента", Новый Граница(Объект.Дата, ВидГраницы.Исключая));
//	РезультатыЗапроса = Запросы.ПереоценкаТоваровПоУстановкеЦенБезХарактеристик.ВыполнитьПакет();
//	
//КонецЕсли;

//РезультатЗапроса = РезультатыЗапроса[3];
//ВходящиеДанные.Очистить();
//Товары = Новый ТаблицаЗначений;
//Товары.Колонки.Добавить("Номенклатура");
//Товары.Колонки.Добавить("Характеристика");
//Товары.Колонки.Добавить("Количество");
//Товары.Колонки.Добавить("СтавкаНДСВРознице");
//Товары.Колонки.Добавить("ЦенаВРознице");
//Товары.Колонки.Добавить("ЦенаВРозницеСтарая");
//Товары.Колонки.Добавить("СуммаПереоценки");
//Товары.Колонки.Добавить("ПередатьИсходящиеДанные"); 	

//Если НЕ РезультатЗапроса.Пустой() Тогда   
//	
//	ВыборкаОрганизаций = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
//	Пока ВыборкаОрганизаций.Следующий() Цикл
//		ВыборкаСкладов = ВыборкаОрганизаций.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
//		Пока ВыборкаСкладов.Следующий() Цикл
//			ВходящиеДанные.Очистить();
//			Товары.Очистить();
//			ВходящиеДанные.Вставить("Дата", Объект.Дата);
//			ВходящиеДанные.Вставить("Организация", ВыборкаСкладов.Организация);
//			ВходящиеДанные.Вставить("Склад", ВыборкаСкладов.Склад);
//			ВходящиеДанные.Вставить("ИдентификаторДЦН", Строка(Объект.Ссылка.УникальныйИдентификатор()));
//			ВходящиеДанные.Вставить("ДокументУстановкиЦен", Неопределено);
//			ВходящиеДанные.Вставить("Ответственный", Объект.Ответственный);
//			ВходящиеДанные.Вставить("ПометкаУдаления", Объект.ПометкаУдаления);
//			ВходящиеДанные.Вставить("Проведен", Объект.Проведен);
//			ВходящиеДанные.Вставить("Комментарий", Объект.Комментарий);
//			ВходящиеДанные.Вставить("НеСоздаватьНовыйОбъект", Ложь);
//			ВыборкаТовары = ВыборкаСкладов.Выбрать();
//			Пока ВыборкаТовары.Следующий() Цикл
//				СтрокаТЧ = Товары.Добавить();
//				ЗаполнитьЗначенияСвойств(СтрокаТЧ, ВыборкаТовары);				
//			КонецЦикла;			
//			ВходящиеДанные.Вставить("Товары", Товары);
//			ВыгрузитьПоПравилу(,,ВходящиеДанные,,"ПереоценкаТоваровВРознице");			
//			
//		КонецЦикла;			
//	КонецЦикла;	
//Иначе
//	
//	ВходящиеДанные.Очистить();
//	ВходящиеДанные.Вставить("Дата", Объект.Дата);
//	ВходящиеДанные.Вставить("Организация", Неопределено);
//	ВходящиеДанные.Вставить("Склад", Неопределено);
//	ВходящиеДанные.Вставить("ИдентификаторДЦН", Строка(Объект.Ссылка.УникальныйИдентификатор()));
//	ВходящиеДанные.Вставить("ДокументУстановкиЦен", Неопределено);
//	ВходящиеДанные.Вставить("Ответственный", Неопределено);
//	ВходящиеДанные.Вставить("ПометкаУдаления", Истина);
//	ВходящиеДанные.Вставить("Проведен", Ложь);
//	ВходящиеДанные.Вставить("Комментарий", Неопределено);
//	ВходящиеДанные.Вставить("Товары", Товары);
//	ВходящиеДанные.Вставить("НеСоздаватьНовыйОбъект", Истина);
//	ВыгрузитьПоПравилу(,,ВходящиеДанные,,"ПереоценкаТоваровВРознице");

//КонецЕсли;	

Товары.Очистить(); 

ВходящиеДанные = Неопределено;
Товары = Неопределено;

Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>ПриходныйКассовыйОрдер</Наименование>
				<Порядок>150</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеДенежныхСредствИзДругойОрганизации Тогда
	ИмяПКО = "ПКО_ПоступлениеДСИзДругойОрганизации";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеДенежныхСредствИзКассыККМ Тогда
	ИмяПКО = "ПКО_ПоступлениеРозничнойВыручки";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратДенежныхСредствОтПоставщика Тогда
	ИмяПКО = "ПКО_ВозвратДСОтПоставщика";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеДенежныхСредствИзБанка Тогда
	ИмяПКО = "ПКО_ПоступлениеДСИзБанка";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	ИмяПКО = "ПКО_ПоступлениеДСОтКлиента";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВознаграждениеОтКомитента Тогда
	ВходящиеДанные = Документы.ПриходныйКассовыйОрдер.РеквизитыДокументаДляОбменаСБухгалтерией(Объект.Ссылка);
	ИмяПКО = "ПКО_ПрочееПоступлениеНаличныхДС";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПрочиеДоходы Тогда
	
	ВходящиеДанные = Документы.ПриходныйКассовыйОрдер.РеквизитыДокументаДляОбменаСБухгалтерией(Объект.Ссылка);
	Если ВходящиеДанные.ВидОперации = "РасчетыПоКредитамИЗаймам" Тогда
		ИмяПКО = "ПКО_РасчетыПоКредитамИЗаймам";
	ИначеЕсли ВходящиеДанные.ВидОперации = "ПрочееПоступление" Тогда
		ИмяПКО = "ПКО_ПрочееПоступлениеНаличныхДС";
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>РасходныйКассовыйОрдер</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>РКО_ВыдачаДСВДругуюОрганизацию                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ОплатаПоставщику Тогда
	ИмяПКО = "РКО_ОплатаПоставщику";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
	ИмяПКО = "РКО_ВозвратДСПокупателю";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.СдачаДенежныхСредствВБанк Тогда
	ИмяПКО = "РКО_ВзносНаличнымиВБанк";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыдачаДенежныхСредствВДругуюОрганизацию Тогда
	ИмяПКО = "РКО_ВыдачаДСВДругуюОрганизацию";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПрочиеРасходы Тогда 	
	ВходящиеДанные = Документы.РасходныйКассовыйОрдер.РеквизитыДокументаДляОбменаСБухгалтерией(Объект.Ссылка);
	Если ВходящиеДанные.ВидОперации = "РасчетыПоКредитамИЗаймам" Тогда
		ИмяПКО = "РКО_РасчетыПоКредитамИЗаймам";
	ИначеЕсли ВходящиеДанные.ВидОперации = "ПрочийРасход" Тогда
		ИмяПКО = "РКО_ПрочийРасходДС";
	КонецЕсли;
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыплатаЗаработнойПлатыПоВедомостям Тогда
	ИмяПКО = "РКО_ВыплатаЗарплатыПоВедомости";
ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыплатаЗаработнойПлатыРаботнику Тогда
	ИмяПКО = "РКО_ВыплатаЗарплатыРаботнику";
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ОтчетОРозничныхПродажах</Код>
				<Наименование>ОтчетОРозничныхПродажах</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ОтчетОРозничныхПродажах                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОтчетОРозничныхПродажах</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>СуммаНаличнойОплаты  = Объект.СуммаДокумента - Объект.ОплатаПлатежнымиКартами.Итог("Сумма") - Объект.ОплатаБанковскимиКредитами.Итог("Сумма") - Объект.ОплатаПодарочнымиСертификатами;		
Если СуммаНаличнойОплаты &gt; 0
	И Объект.Проведен Тогда
	ВыгружатьПКО = Истина;
Иначе
	ВыгружатьПКО = Ложь;
КонецЕсли;

Если Объект.ОплатаПодарочнымиСертификатами &gt; 0 Тогда
	ВыгружатьКорректировку = Истина;
Иначе
	ВыгружатьКорректировку = Ложь;
КонецЕсли;


Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("Ссылка", Объект.Ссылка);
Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах_Сертификаты.ВыполнитьПакет();
Сертификаты = РезультатыЗапроса[0].Выгрузить();
Если Не Сертификаты.Количество() = 0 Тогда
	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "Сертификат_ОтчетОРозничныхПродажах");
КонецЕсли;

Если Не Объект.ПогашениеПодарочныхСертификатов.Количество() = 0 Тогда
	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "Прибыль_ОтчетОРозничныхПродажах");
КонецЕсли;
	

Если ВыгружатьКорректировку Тогда
	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "КорректировкаДолга");
Иначе
	СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
	ТипИсточника = "ДокументСсылка.ОтчетОРозничныхПродажах";
	ТипПриемника = "ДокументСсылка.КорректировкаДолга";
	Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
КонецЕсли;

Если Не Параметры.ВыгружатьОтчетОРозничныхПродажахКакРеализацию Тогда

	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "ОтчетОРозничныхПродажах");
	
Иначе
	
	Если ВыгружатьПКО Тогда
		ВходящиеДанные = Новый Структура;
		ВходящиеДанные.Вставить("СуммаДокумента", СуммаНаличнойОплаты);
		ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "ПКО_АТТ_ОтчетОРозничныхПродажах");
	Иначе
		СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
		ТипИсточника = "ДокументСсылка.ОтчетОРозничныхПродажах";
		ТипПриемника = "ДокументСсылка.ПриходныйКассовыйОрдер";
		Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
	КонецЕсли;

	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "ОтчетОРозничныхПродажах_Реализация");
	
КонецЕсли;
	

Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровОтПокупателя</Код>
				<Наименование>ВозвратТоваровОтПокупателя</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровОтПокупателя                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровОтПокупателя</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОплатаОтПокупателяПлатежнойКартой</Код>
				<Наименование>ОплатаОтПокупателяПлатежнойКартой</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ОплатаОтПокупателяПлатежнойКартой                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>//Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
//	ИмяПКО = "ОперацияПоПлатежнойКартеПоступление";
//ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
//	ИмяПКО = "ОперацияПоПлатежнойКартеВозврат";
//КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваров</Код>
				<Наименование>ПоступлениеТоваров</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>ПоступлениеТоваров                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровПоставщику</Код>
				<Наименование>ВозвратТоваровПоставщику</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровПоставщику                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровПоставщику</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияТоваров</Код>
				<Наименование>РеализацияТоваров</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>РеализацияТоваров                                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваров</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("Ссылка", Объект.Ссылка);
Запросы.ОтчетОРозничныхПродажах_Сертификаты.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах_Сертификаты.ВыполнитьПакет();
Сертификаты = РезультатыЗапроса[0].Выгрузить();
Если Не Сертификаты.Количество() = 0 Тогда
	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "Сертификат_РеализацияТоваровУслуг");
КонецЕсли;


Запросы.РеализацияТоваров.УстановитьПараметр("Ссылка", Объект.Ссылка);
Запросы.РеализацияТоваров.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.РеализацияТоваров.ВыполнитьПакет();
Если Не РезультатыЗапроса[0].Выгрузить().Количество() = 0 ИЛИ Не РезультатыЗапроса[1].Выгрузить().Количество() = 0 Тогда
	ВыгрузитьПоПравилу(Объект,,ВходящиеДанные,, "РеализацияТоваров");
КонецЕсли;

Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>СписаниеТоваров</Код>
				<Наименование>СписаниеТоваров</Наименование>
				<Порядок>550</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.СписаниеТоваров</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>ВыгружатьСписание = Ложь;
ВыгружатьТребование = Ложь;


Если Параметры.СпособПередачиСписания = Перечисления.СпособыПередачиСписания.ВСписание Тогда
	ВыгружатьТребование = Ложь;
	ВыгружатьСписание = Истина;
ИначеЕсли Параметры.СпособПередачиСписания = Перечисления.СпособыПередачиСписания.ВТребованиеНакладную Тогда
	ВыгружатьТребование = Истина;
	ВыгружатьСписание = Ложь;
Иначе
	
	Если Объект.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.СписаниеНаЗатраты Тогда
		ВыгружатьТребование = Истина;
		ВыгружатьСписание = Ложь;
	Иначе	                	
		ВыгружатьТребование = Ложь;
		ВыгружатьСписание = Истина;
	КонецЕсли;
	
КонецЕсли;


Если ВыгружатьТребование Тогда
	ВыгрузитьПоПравилу(Объект,,,, "ТребованиеНакладная");
КонецЕсли;
Если ВыгружатьСписание Тогда
	ВыгрузитьПоПравилу(Объект,,,, "СписаниеТоваров");
КонецЕсли;
Если НЕ ВыгружатьТребование Тогда
	СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
	ТипИсточника = "ДокументСсылка.СписаниеТоваров";
	ТипПриемника = "ДокументСсылка.ТребованиеНакладная";
	Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
КонецЕсли;
Если НЕ ВыгружатьСписание Тогда
	СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
	ТипИсточника = "ДокументСсылка.СписаниеТоваров";
	ТипПриемника = "ДокументСсылка.СписаниеТоваров";
	Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
КонецЕсли;
Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ИнвентаризацияТоваров</Код>
				<Наименование>ИнвентаризацияТоваров</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ИнвентаризацияТоваров                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПересчетТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПеремещениеТоваров</Код>
				<Наименование>ПеремещениеТоваров</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ПеремещениеТоваров                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПеремещениеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СборкаТоваров</Код>
				<Наименование>СборкаТоваров</Наименование>
				<Порядок>700</Порядок>
				<КодПравилаКонвертации>СборкаТоваров                                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.СборкаТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОприходованиеТоваров</Код>
				<Наименование>ОприходованиеТоваров</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>ОприходованиеТоваров                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОприходованиеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПередачаТоваровМеждуОрганизациями</Код>
				<Наименование>Передача товаров между организациями</Наименование>
				<Порядок>800</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПередачаТоваровМеждуОрганизациями</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>ВыгружатьПродажу = Ложь;
ВыгружатьПокупку = Ложь;
Если НЕ Параметры.РеквизитыУзла.ИспользоватьОтборПоОрганизациям Тогда
	ВыгружатьПродажу = Истина;
	ВыгружатьПокупку = Истина;
Иначе	                	
	ВыгружатьПродажу = Параметры.ОрганизацииУзла.Найти(Объект.Организация) &lt;&gt; Неопределено;
	ВыгружатьПокупку = Параметры.ОрганизацииУзла.Найти(Объект.ОрганизацияПолучатель) &lt;&gt; Неопределено;	
КонецЕсли;
Если ВыгружатьПродажу Тогда
	ВыгрузитьПоПравилу(Объект,,,, "ПередачаТоваров_Продажа");
КонецЕсли;
Если ВыгружатьПокупку Тогда
	ВыгрузитьПоПравилу(Объект,,,, "ПередачаТоваров_Покупка");
КонецЕсли;
Если НЕ ВыгружатьПродажу Тогда
	СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
	ТипИсточника = "ДокументСсылка.ПередачаТоваровМеждуОрганизациями";
	ТипПриемника = "ДокументСсылка.РеализацияТоваровУслуг";
	Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
КонецЕсли;
Если НЕ ВыгружатьПокупку Тогда
	СсылкаНаУдаляемыйОбъект = Объект.Ссылка;
	ТипИсточника = "ДокументСсылка.ПередачаТоваровМеждуОрганизациями";
	ТипПриемника = "ДокументСсылка.ПоступлениеТоваровУслуг";
	Выполнить(Алгоритмы.ЗаписатьУдалениеОбъектаВФайл);
КонецЕсли;
Отказ = Истина;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ЗарплатаКВыплатеОрганизаций</Код>
				<Наименование>ЗарплатаКВыплатеОрганизаций</Наименование>
				<Порядок>850</Порядок>
				<КодПравилаКонвертации>ЗарплатаКВыплатеОрганизаций                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ЗарплатаКВыплатеОрганизаций</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПересортицаТоваров</Код>
				<Наименование>ПересортицаТоваров</Наименование>
				<Порядок>900</Порядок>
				<КодПравилаКонвертации>ПТ_ПересортицаТоваровОприходование                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПересортицаТоваров</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>// Объект распадается на два
ВыгрузитьПоПравилу(Объект,, ,, "ПТ_ПересортицаТоваровСписание");</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>СчетФактураВыданный</Код>
				<Наименование>СчетФактураВыданный</Наименование>
				<Порядок>950</Порядок>
				<КодПравилаКонвертации>СчетФактураВыданный                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.СчетФактураВыданный</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СчетФактураПолученный</Код>
				<Наименование>СчетФактураПолученный</Наименование>
				<Порядок>1000</Порядок>
				<КодПравилаКонвертации>СчетФактураПолученный                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.СчетФактураПолученный</ОбъектВыборки>
				<ПередОбработкойПравила>Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыОплатЧекаККМ</Код>
				<Наименование>Виды оплаты</Наименование>
				<Порядок>1050</Порядок>
				<КодПравилаКонвертации>ВидыОплатЭквайринга                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыОплатЧекаККМ</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Группа Имя="ВыгрузкаДанных">
			<Алгоритм Имя="ВыгрузкаАвтора" ИспользуетсяПриЗагрузке="false">
				<Текст>Если НЕ Параметры.ИспользоватьОтветственногоКакАвтора Тогда
	Отказ = Истина;
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ВыгрузкаКонтактнойИнформации" ИспользуетсяПриЗагрузке="false">
				<Текст>// Создание пустого набора записей
Отбор = Новый ТаблицаЗначений;
Отбор.Колонки.Добавить("Имя");
Отбор.Колонки.Добавить("Значение");
Отбор.Колонки.Добавить("Использование");

СтрокаОтбора = Отбор.Добавить();
СтрокаОтбора.Имя			= "Объект";
СтрокаОтбора.Значение		= Объект.Ссылка;
СтрокаОтбора.Использование	= Истина;

Строки = Новый ТаблицаЗначений;
Строки.Колонки.Добавить("Ссылка");
Строки.Колонки.Добавить("Объект");
Строки.Колонки.Добавить("Вид");
Строки.Колонки.Добавить("Тип");
Строки.Колонки.Добавить("Поле1");
Строки.Колонки.Добавить("Поле2");
Строки.Колонки.Добавить("Поле3");
Строки.Колонки.Добавить("Поле4");
Строки.Колонки.Добавить("Поле5");
Строки.Колонки.Добавить("Поле6");
Строки.Колонки.Добавить("Поле7");
Строки.Колонки.Добавить("Поле8");
Строки.Колонки.Добавить("Поле9");
Строки.Колонки.Добавить("ТипДома");
Строки.Колонки.Добавить("ТипКвартиры");
Строки.Колонки.Добавить("ТипКорпуса");
Строки.Колонки.Добавить("Представление");
Строки.Колонки.Добавить("Комментарий");
Строки.Колонки.Добавить("ЭтоПроизвольнаяСтрока");

// Типы дома, корпуса и квартиры, которые поддерживаются в БП
ТипыДомов = Новый Массив;
ТипыДомов.Добавить("дом");
ТипыДомов.Добавить("владение");

ТипыКорпусов = Новый Массив;
ТипыКорпусов.Добавить("корпус");
ТипыКорпусов.Добавить("строение");

ТипыКвартир = Новый Массив;
ТипыКвартир.Добавить("кв.");
ТипыКвартир.Добавить("оф.");
ТипыКвартир.Добавить("офис");
ТипыКвартир.Добавить("квартира");

МассивВидов = Новый Массив;

// Заполнение набора
Для Каждого СтрокаКИ Из Объект.КонтактнаяИнформация Цикл
	
	Если Не МассивВидов.Найти(СтрокаКИ.Вид) = Неопределено Тогда
		Продолжить;
	Иначе
		МассивВидов.Добавить(СтрокаКИ.Вид);
	КонецЕсли;
	
	
	// Получаем структуру значений полей
	ПоследнийЭлементИмя	= Неопределено;
	СтарыйФорматХранения = Истина;
	
	Если ТипЗнч(СтрокаКИ.ЗначенияПолей) = Тип("Строка") И Лев(СокрЛ(СтрокаКИ.ЗначенияПолей),1) = "&lt;" Тогда
		СтарыйФорматХранения = Ложь;
		ЗначенияПолей = РаботаСАдресами.ПредыдущийФорматКонтактнойИнформацииXML(СтрокаКИ.ЗначенияПолей, Истина);
	Иначе
		ЗначенияПолей = СтрокаКИ.ЗначенияПолей;
	КонецЕсли;
	
	СтруктураПолейКИ = Новый Структура;
	Для Сч = 1 По СтрЧислоСтрок(ЗначенияПолей) Цикл
		Стр = СтрПолучитьСтроку(ЗначенияПолей, Сч);
		Если Лев(Стр, 1) = Символы.Таб Тогда
			Если ПоследнийЭлементИмя &lt;&gt; Неопределено Тогда
				СтруктураПолейКИ[ПоследнийЭлементИмя] = СтруктураПолейКИ[ПоследнийЭлементИмя] + Символы.ПС + Сред(Стр, 2);
			КонецЕсли;
		Иначе
			Поз = Найти(Стр, "=");
			Если Поз &lt;&gt; 0 Тогда
				ПоследнийЭлементИмя = Лев(Стр, Поз-1);
				СтруктураПолейКИ.Вставить(ПоследнийЭлементИмя, Сред(Стр, Поз+1));
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
	
	СтрокаНабора = Строки.Добавить();
	СтрокаНабора.Объект                = Объект.Ссылка;
	СтрокаНабора.Вид                   = СтрокаКИ.Вид;
	СтрокаНабора.Тип                   = СтрокаКИ.Тип;
	СтрокаНабора.Представление         = СтрокаКИ.Представление;
	СтрокаНабора.ЭтоПроизвольнаяСтрока = НЕ ЗначениеЗаполнено(ЗначенияПолей);
	
	Если СтрокаКИ.Тип = Перечисления.ТипыКонтактнойИнформации.Факс
		ИЛИ СтрокаКИ.Тип = Перечисления.ТипыКонтактнойИнформации.Телефон Тогда
		СтруктураПолейКИ.Свойство("КодСтраны",		СтрокаНабора.Поле1);
		СтруктураПолейКИ.Свойство("КодГорода",		СтрокаНабора.Поле2);
		СтруктураПолейКИ.Свойство("НомерТелефона",	СтрокаНабора.Поле3);
		СтруктураПолейКИ.Свойство("Добавочный",		СтрокаНабора.Поле4);
	ИначеЕсли СтрокаКИ.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
		СтруктураПолейКИ.Свойство("Индекс",		СтрокаНабора.Поле1);
		СтруктураПолейКИ.Свойство("Регион",		СтрокаНабора.Поле2);
		СтруктураПолейКИ.Свойство("Район",		СтрокаНабора.Поле3);
		СтруктураПолейКИ.Свойство("Город",		СтрокаНабора.Поле4);
		СтруктураПолейКИ.Свойство("НаселенныйПункт", СтрокаНабора.Поле5);
		СтруктураПолейКИ.Свойство("Улица",		СтрокаНабора.Поле6);
		СтруктураПолейКИ.Свойство("Дом",		СтрокаНабора.Поле7);
		СтруктураПолейКИ.Свойство("Корпус",		СтрокаНабора.Поле8);
		СтруктураПолейКИ.Свойство("Квартира",	СтрокаНабора.Поле9);
		
		СтруктураПолейКИ.Свойство("ТипДома",	СтрокаНабора.ТипДома);
		СтруктураПолейКИ.Свойство("ТипКорпуса",	СтрокаНабора.ТипКорпуса);
		СтруктураПолейКИ.Свойство("ТипКвартиры",СтрокаНабора.ТипКвартиры);
		
		// Проверяем значения типа дома, корпуса и квартиры
		СтрокаНабора.ТипДома	 = ?(ТипыДомов.Найти(НРег(СтрокаНабора.ТипДома)) = Неопределено, Неопределено, СтрокаНабора.ТипДома);
		СтрокаНабора.ТипКорпуса  = ?(ТипыКорпусов.Найти(НРег(СтрокаНабора.ТипКорпуса)) = Неопределено, Неопределено, СтрокаНабора.ТипКорпуса);
		СтрокаНабора.ТипКвартиры = ?(ТипыКвартир.Найти(НРег(СтрокаНабора.ТипКвартиры)) = Неопределено, Неопределено, СтрокаНабора.ТипКвартиры);
		
		// Получаем представление, какое оно должно быть
		КодСтраны = "";
		НаименованиеСтраны = СтрокаКИ.Страна;
		СтранаКазахстан = Справочники.СтраныМира.Россия;
		
		СтруктураПолейКИ.Свойство("КодСтраны", КодСтраны);
		Страна = ?(ЗначениеЗаполнено(КодСтраны), Справочники.СтраныМира.НайтиПоКоду(КодСтраны), Неопределено);
		Страна = ?(ЗначениеЗаполнено(Страна), Справочники.СтраныМира.НайтиПоНаименованию(НаименованиеСтраны, Истина), СтранаКазахстан);
		Страна = ?(ЗначениеЗаполнено(Страна), Страна, СтранаКазахстан);
		
		Представление = "";
		Если Страна &lt;&gt; СтранаКазахстан Тогда
			Представление = Представление + ?(ЗначениеЗаполнено(Строка(Страна)), ", " + Строка(Страна), "");
		КонецЕсли;
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле1)), ", " + СокрЛП(СтрокаНабора.Поле1), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле2)), ", " + СокрЛП(СтрокаНабора.Поле2), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле3)), ", " + СокрЛП(СтрокаНабора.Поле3), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле4)), ", " + СокрЛП(СтрокаНабора.Поле4), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле5)), ", " + СокрЛП(СтрокаНабора.Поле5), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле6)), ", " + СокрЛП(СтрокаНабора.Поле6), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле7)), ", " + СтрокаНабора.ТипДома    + " " + СокрЛП(СтрокаНабора.Поле7), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле8)), ", " + СтрокаНабора.ТипКорпуса + " " + СокрЛП(СтрокаНабора.Поле8), "");
		Представление = Представление + ?(ЗначениеЗаполнено(СокрЛП(СтрокаНабора.Поле9)), ", " + СтрокаНабора.ТипКвартиры + " " + СокрЛП(СтрокаНабора.Поле9), "");
		
		Если СтрДлина(Представление) &gt; 2 Тогда
			Представление = Сред(Представление, 3);
		КонецЕсли;
		
		// Проверяем представление на наличие произвольного значения
		Если СтарыйФорматХранения Тогда
			Если Представление &lt;&gt; СтрокаНабора.Представление Тогда
				СтрокаНабора.ЭтоПроизвольнаяСтрока = Истина;
				СтрокаНабора.Поле1 = Строка(Страна);
			КонецЕсли;
		Иначе
			Если НРег(Представление) &lt;&gt; НРег(СтрокаНабора.Представление) Тогда
				СтрокаНабора.ЭтоПроизвольнаяСтрока = Истина;
				СтрокаНабора.Поле1 = Строка(Страна);
			КонецЕсли;
		КонецЕсли;
		
		СтрокаНабора.ТипКвартиры = ?(СтрокаНабора.ТипКвартиры = "кв.", "Квартира", "Офис");
	КонецЕсли;
	
	СтруктураПолейКИ.Свойство("Комментарий", СтрокаНабора.Комментарий);
	
КонецЦикла;

// Выгрузка набора записей
// создаем виртуальный набор записей
НаборЗаписей = Новый Структура("Отбор, Строки");
НаборЗаписей.Отбор  = Отбор;
НаборЗаписей.Строки = Строки;

ВыгрузитьРегистр(НаборЗаписей, , , Истина, "КонтактнаяИнформация");</Текст>
			</Алгоритм>
			<Алгоритм Имя="ВыгрузкаНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ОбъектКоллекции.ПередатьИсходящиеДанные Тогда
	Значение = ОбъектКоллекции.Характеристика;
	ИсходящиеДанные = Новый Структура("Номенклатура", ОбъектКоллекции.Номенклатура);
	Если ТипЗнч(ОбъектКоллекции.Характеристика.Владелец) = Тип("СправочникСсылка.ВидыНоменклатуры") Тогда
		ИмяПКО = "ХарактеристикиНоменклатурыОбщиеДляВида";
	Иначе
		ИмяПКО = "ХарактеристикиНоменклатуры";
	КонецЕсли;	
Иначе
	ИмяПКО = "Номенклатура";
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаписатьУдалениеОбъектаВФайл" ИспользуетсяПриЗагрузке="false">
				<Текст>УникальныйИдентификатор = СсылкаНаУдаляемыйОбъект.УникальныйИдентификатор();
Приемник = СоздатьУзел("УдалениеОбъекта");
УстановитьАтрибут(Приемник, "ТипПриемника", ТипПриемника);
УстановитьАтрибут(Приемник, "ТипИсточника", ТипИсточника);
УстановитьАтрибут(Приемник, "УникальныйИдентификатор", УникальныйИдентификатор);
Приемник.ЗаписатьКонецЭлемента();
ЗаписатьВФайл(Приемник);         
Инкремент(ПолеСчетчикВыгруженныхОбъектов);</Текст>
			</Алгоритм>
			<Алгоритм Имя="СоздатьИВыгрузитьКонтрагентаИзОрганизации" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ЗначениеЗаполнено(ОрганизацияКонтрагента) Тогда
	
	// Проверим, есть ли в базе контрагент, созданный по организации, если нету, то создадим его и выгрузим
	СсылкаНаКонтрагента = Справочники.Контрагенты.ПолучитьСсылку(ОрганизацияКонтрагента.УникальныйИдентификатор());
	Если НЕ ОбщегоНазначения.СсылкаСуществует(СсылкаНаКонтрагента) Тогда
		
		НовыйКонтрагент = Справочники.Контрагенты.СоздатьЭлемент();
		НовыйКонтрагент.ПометкаУдаления					= ОрганизацияКонтрагента.ПометкаУдаления;
		НовыйКонтрагент.ИНН								= ОрганизацияКонтрагента.ИНН;
		НовыйКонтрагент.КодПоОКПО						= ОрганизацияКонтрагента.КодПоОКПО;
		НовыйКонтрагент.НаименованиеПолное				= ОрганизацияКонтрагента.НаименованиеПолное;
		НовыйКонтрагент.ЮрФизЛицо						= ОрганизацияКонтрагента.ЮрФизЛицо;
		НовыйКонтрагент.Наименование					= ОрганизацияКонтрагента.Наименование;
		НовыйКонтрагент.УстановитьСсылкуНового(СсылкаНаКонтрагента);
		НовыйКонтрагент.Записать();
		
		Параметры.СписокОбъектовСозданныхВТекущемСеансеОбмена.Добавить(НовыйКонтрагент.Ссылка);
		
		ВыгрузитьПоПравилу(НовыйКонтрагент,,,, "Контрагенты");
		НовыйКонтрагент = НовыйКонтрагент.Ссылка;
		
	Иначе
		НовыйКонтрагент = СсылкаНаКонтрагента;
	КонецЕсли;
	
КонецЕсли;</Текст>
			</Алгоритм>
		</Группа>
		<Группа Имя="ЗагрузкаДанных">
			<Алгоритм Имя="ВыполнитьПроведениеДокументов" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Документ Из Параметры.ДокументыДляПроведения Цикл
	
	Если Не Документ.ЭтоНовый() Тогда
		
		// Переполучаем объект, т.к. он мог быть изменен
		ДокументОбъект = Документ.Ссылка.ПолучитьОбъект();
		
		УстановитьОбменДаннымиЗагрузка(ДокументОбъект, Ложь);
		
		Попытка
			
			Если ДокументОбъект.ПроверитьЗаполнение() Тогда
			
				ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
				ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
				
				// выполняем попытку проведения документа
				ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
				
			КонецЕсли;
		Исключение
		КонецПопытки;
	Иначе
		Попытка
			ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
			ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
			ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
		Исключение
		КонецПопытки;
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ДобавитьКонтрагентаРозничнаяПродажа" ИспользуетсяПриЗагрузке="true">
				<Текст>Запрос = Новый Запрос;
Запрос.Текст =  "ВЫБРАТЬ
|	Контрагенты.Ссылка
|ИЗ
|	Справочник.Контрагенты КАК Контрагенты
|ГДЕ
|	Контрагенты.РНН = &amp;РНН
|	И Контрагенты.Наименование = &amp;Наименование
|	И Контрагенты.ЮрФизЛицо = &amp;ЮрФизЛицо
|	И Контрагенты.ЭтоГруппа = &amp;ЭтоГруппа";

Запрос.УстановитьПараметр("ЭтоГруппа", Ложь);
Запрос.УстановитьПараметр("РНН", "000000000000");
Запрос.УстановитьПараметр("Наименование", "Розничная выручка");
//Запрос.УстановитьПараметр("ИдентификационныйКодЛичности", "999999999YYY");
Запрос.УстановитьПараметр("ЮрФизЛицо",  Перечисления.ЮрФизЛицо.ФизЛицо);

Результат = Запрос.Выполнить();

Если Результат.Пустой() Тогда
	НовыйКонтрагент                     			= Справочники.Контрагенты.СоздатьЭлемент();
	НовыйКонтрагент.Комментарий     				= "Элемент создан при выгрузке данных их конфигурации ""Розница для Казахстана""";
	НовыйКонтрагент.НаименованиеПолное    			= "Розничная выручка";
	НовыйКонтрагент.РНН              				= "000000000000";
	НовыйКонтрагент.ЮрФизЛицо              			= Перечисления.ЮрФизЛицо.ФизЛицо;
	//НовыйКонтрагент.ИдентификационныйКодЛичности 	= "999999999YYY";
	НовыйКонтрагент.Наименование           			= "Розничная выручка";
	
	НовыйКонтрагент.Записать();
	
	Объект.Контрагент = НовыйКонтрагент.Ссылка;
Иначе
	Выборка = Результат.Выбрать();
	Выборка.Следующий();
	
	Объект.Контрагент = Выборка.Ссылка;
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьВалютуДокумента" ИспользуетсяПриЗагрузке="true">
				<Текст>Объект.ВалютаДокумента  = Параметры.ВалютаРегламентированногоУчета;
Если ЗначениеЗаполнено(Объект.ДоговорКонтрагента) Тогда
	СтруктураКурсаДокумента = ОбщегоНазначенияБК.ПолучитьКурсВалюты(Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов, Объект.Дата);
	Объект.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
	Объект.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьКассуРозничнойПродажи" ИспользуетсяПриЗагрузке="true">
				<Текст>
ВалютаРеглУчета = ОбщегоНазначенияБКВызовСервераПовтИсп.ПолучитьВалютуРегламентированногоУчета();
КассаДляПодстановки = Параметры.КассыВРознице.Найти(Организация, "Организация");

Если КассаДляПодстановки = Неопределено Тогда
	КассаДляПодстановки = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Организация, "ОсновнаяКасса");
	Если КассаДляПодстановки = Неопределено Или Не КассаДляПодстановки.ВалютаДенежныхСредств = ВалютаРеглУчета Тогда
		КассаДляПодстановки = Справочники.Кассы.ПустаяСсылка();
	КонецЕсли;
Иначе
	КассаДляПодстановки = КассаДляПодстановки.Касса;
КонецЕсли;
	

Если КассаДляПодстановки = Справочники.Кассы.ПустаяСсылка() Тогда
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
	|Кассы.Ссылка КАК Ссылка
	|	ИЗ
	|Справочник.Кассы КАК Кассы
	|	ГДЕ
	|Кассы.Владелец = &amp;Владелец
	|И Кассы.ВалютаДенежныхСредств = &amp;ВалютаДенежныхСредств";
	
	Запрос.УстановитьПараметр("Владелец", Организация);
	Запрос.УстановитьПараметр("ВалютаДенежныхСредств", ВалютаРеглУчета);
	
	Результат = Запрос.Выполнить();
	
	Если Не Результат.Пустой() Тогда
		
		Выборка = Результат.Выбрать();
		Выборка.Следующий();
		КассаДляПодстановки = Выборка.Ссылка;
		
	Иначе
		
		КассаДляПодстановки = Справочники.Кассы.СоздатьЭлемент();
		КассаДляПодстановки.Владелец 				= Организация;
		КассаДляПодстановки.ВалютаДенежныхСредств 	= ВалютаРеглУчета;
		КассаДляПодстановки.Наименование			= "Касса розничной продажи (" + Организация + ")";
		КассаДляПодстановки.Записать();
		КассаДляПодстановки = КассаДляПодстановки.Ссылка;
		
		Справочники.Кассы.УстановитьОсновнуюКассу(Организация, КассаДляПодстановки);
		
	КонецЕсли;
	
КонецЕсли;

Объект.Касса = КассаДляПодстановки;</Текст>
				<Параметры>Организация, Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНомерГТД" ИспользуетсяПриЗагрузке="true">
				<Текст>//Для каждого СтрокаТЧ Из Объект.Товары цикл
//	Если ЗначениеЗаполнено(СтрокаТЧ.Номенклатура.НомерГТД) Тогда
//		СтрокаТЧ.НомерГТД = СтрокаТЧ.Номенклатура.НомерГТД;
//	КонецЕсли;
//КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНомерГТД_ИмяТЧ" ИспользуетсяПриЗагрузке="true">
				<Текст>Для каждого СтрокаТЧ Из Объект[ИмяТЧ] цикл
	Если ЗначениеЗаполнено(СтрокаТЧ.Номенклатура.НомерГТД) Тогда
		СтрокаТЧ.НомерГТД = СтрокаТЧ.Номенклатура.НомерГТД;
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСчетаПодарочногоСертификатаРТУ" ИспользуетсяПриЗагрузке="true">
				<Текст>	СтруктураПоиска = Новый Структура("Номенклатура", Справочники.Номенклатура.УслугаПодарочныйСертификат);	 	
	
	НайденныеСертификаты = Объект.Услуги.НайтиСтроки(СтруктураПоиска);
	
	Для Каждого СтрокаСертификата Из НайденныеСертификаты Цикл
		СтрокаСертификата.СчетДоходовБУ = ПланыСчетов.Типовой.КраткосрочныеОбязательстваПоДоговорам;
		СтрокаСертификата.СубконтоДоходовБУ1 = Объект.Контрагент;
		СтрокаСертификата.СубконтоДоходовБУ2 = Объект.ДоговорКонтрагента;
		СтрокаСертификата.СубконтоДоходовБУ3 = Объект.Ссылка;	
	КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСчетУчетаДенежныхСредствКасса" ИспользуетсяПриЗагрузке="true">
				<Текст>Запрос = Новый Запрос;
Запрос.Текст = "
	|ВЫБРАТЬ
	|	СчетаУчетаДенежныхСредств.СчетУчетаБУ
	|ИЗ
	|	РегистрСведений.СчетаУчетаДенежныхСредств КАК СчетаУчетаДенежныхСредств
	|ГДЕ
	|	СчетаУчетаДенежныхСредств.ОбъектУчета = &amp;ОбъектУчета
	|";
Запрос.УстановитьПараметр("ОбъектУчета", Объект.Касса);
Результат = Запрос.Выполнить();

Если Не Результат.Пустой() Тогда
	Результат = Результат.Выбрать();
	Результат.Следующий();
	Объект.СчетКасса = Результат.СчетУчетаБУ;
Иначе
	Объект.СчетКасса = ПланыСчетов.Типовой.ДенежныеСредстваВКассе;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="НазначитьТипДляГруппыНумерованнойАналитикиСчета" ИспользуетсяПриЗагрузке="true">
				<Текст>ВидыСубконтоСчета = Счет.ВидыСубконто;

Для Ном = 1 по КоличествоАналитики Цикл		
	
	ВидыСубконтоСчета = Счет.ВидыСубконто;
	
	Если Ном &lt;= ВидыСубконтоСчета.Количество() тогда		
		ОграничениеТипа = ВидыСубконтоСчета [Ном - 1].ВидСубконто.ТипЗначения;		
		СтрокаТч[ИмяСубконто + Ном]  = ОграничениеТипа.ПривестиЗначение(СтрокаТч[ИмяСубконто + Ном]);							
	Иначе
		СтрокаТч[ИмяСубконто + Ном] = Неопределено;
	КонецЕсли; 	
	
КонецЦикла;</Текст>
				<Параметры>СтрокаТЧ, Счет, ИмяСубконто, КоличествоАналитики</Параметры>
			</Алгоритм>
			<Алгоритм Имя="НачатьЗаполнениеСчетовУчета_ВозвраТоваровПоставщик" ИспользуетсяПриЗагрузке="true">
				<Текст>СтрокаСписка = Неопределено;
КонтейнерОбъект = Неопределено;
КонтейнерСтрокаСписка = Неопределено;

// Код этой функции сформирован автоматически с помощью СчетаУчетаВДокументах.КодФункцииНачатьЗаполнениеСчетовУчета()

	ПараметрыЗаполнения = СчетаУчетаВДокументахКлиентСервер.НовыйПараметрыЗаполнения(
		"ВозвратТоваровПоставщику",
		ПричиныИзменения,
		Объект,
		СтрокаСписка,
		КонтейнерОбъект,
		КонтейнерСтрокаСписка);

	// 1. Заполняемые реквизиты
	// Создание нового документа
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НовыйДокумент") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовСКонтрагентом");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовПоВозвратам");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
	КонецЕсли;
	
	// НоваяСтрокаОС
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НоваяСтрокаОС") &lt;&gt; Неопределено Тогда
		ПараметрыЗаполнения.Заполнять = Истина;
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидПоступления");
	КонецЕсли;
	
	// НоваяСтрокаТовары
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НоваяСтрокаТовары") &lt;&gt; Неопределено Тогда
		ПараметрыЗаполнения.Заполнять = Истина;
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидПоступления");
	КонецЕсли;
	
	// НоваяСтрокаУслуги
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НоваяСтрокаУслуги") &lt;&gt; Неопределено Тогда
		ПараметрыЗаполнения.Заполнять = Истина;
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.НДСВидПоступления");
	КонецЕсли;
	
	// ВидОперации
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ВидОперации") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовСКонтрагентом");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовПоВозвратам");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидПоступления");
	КонецЕсли;

	// ДоговорКонтрагента
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ДоговорКонтрагента") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовСКонтрагентом");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовПоВозвратам");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
	КонецЕсли;

	// Организация
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Организация") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовСКонтрагентом");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовПоВозвратам");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидПоступления");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.НДСВидПоступления");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидПоступления");
	КонецЕсли;

	// Контрагент
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Контрагент") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовСКонтрагентом");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетУчетаРасчетовПоВозвратам");
	КонецЕсли;

	// Дата
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Дата") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СчетОтнесенияСебестоимостиНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидПоступления");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.НДСВидПоступления");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидОборота");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.НДСВидПоступления");
	КонецЕсли;

	// СчетОтнесенияСебестоимостиБУ
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СчетОтнесенияСебестоимостиБУ") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиБУ3");
	КонецЕсли;

	// СчетОтнесенияСебестоимостиНУ
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СчетОтнесенияСебестоимостиНУ") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
	КонецЕсли;

	// СубконтоОтнесенияСебестоимостиБУ1
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ1") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ1");
	КонецЕсли;

	// СубконтоОтнесенияСебестоимостиБУ2
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ2") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ2");
	КонецЕсли;

	// СубконтоОтнесенияСебестоимостиБУ3
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ3") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "СубконтоОтнесенияСебестоимостиНУ3");
	КонецЕсли;

	// Товары.Номенклатура
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Товары.Номенклатура") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
	КонецЕсли;

	// УчитыватьНДС
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("УчитыватьНДС") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНДС");
	КонецЕсли;

	// НДСВключенВСтоимость
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НДСВключенВСтоимость") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Товары.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНДС");
	КонецЕсли;

	// Услуги.Номенклатура
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.Номенклатура") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ3");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетУчетаНДС");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СчетЗатратНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ3");
	КонецЕсли;

	// Услуги.СчетЗатратБУ
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СчетЗатратБУ") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратБУ3");
	КонецЕсли;

	// Услуги.СчетЗатратНУ
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СчетЗатратНУ") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ1");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ2");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ3");
	КонецЕсли;

	// Услуги.СубконтоЗатратБУ1
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ1") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ1");
	КонецЕсли;

	// Услуги.СубконтоЗатратБУ2
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ2") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ2");
	КонецЕсли;

	// Услуги.СубконтоЗатратБУ3
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ3") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "Услуги.СубконтоЗатратНУ3");
	КонецЕсли;

	// ОС.ОсновноеСредство
	Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ОС.ОсновноеСредство") &lt;&gt; Неопределено Тогда
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаБУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНУ");
		СчетаУчетаВДокументахКлиентСервер.НачатьЗаполнениеРеквизита(ПараметрыЗаполнения, "ОС.СчетУчетаНДС");
	КонецЕсли;

	// 2. (если требуется) Передадим на сервер данные, необходимые для заполнения
	Если ПараметрыЗаполнения.Свойство("Контейнер") Тогда
		// ВидОперации
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ВидОперации") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовСКонтрагентом");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Контрагент");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовПоВозвратам");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидПоступления");
		КонецЕсли;

		// ДоговорКонтрагента
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ДоговорКонтрагента") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовСКонтрагентом");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Контрагент");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовПоВозвратам");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
		КонецЕсли;

		// Организация
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Организация") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовСКонтрагентом");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Контрагент");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовПоВозвратам");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "ОсновноеСредство");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
		КонецЕсли;

		// Контрагент
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Контрагент") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Контрагент");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовСКонтрагентом");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетУчетаРасчетовПоВозвратам");
		КонецЕсли;

		// Дата
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Дата") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "ОсновноеСредство");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "НДСВидОборота");
		КонецЕсли;

		// СчетОтнесенияСебестоимостиБУ
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СчетОтнесенияСебестоимостиБУ") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
		КонецЕсли;

		// СчетОтнесенияСебестоимостиНУ
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СчетОтнесенияСебестоимостиНУ") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
		КонецЕсли;

		// СубконтоОтнесенияСебестоимостиБУ1
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ1") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// СубконтоОтнесенияСебестоимостиБУ2
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ2") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// СубконтоОтнесенияСебестоимостиБУ3
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("СубконтоОтнесенияСебестоимостиБУ3") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СубконтоОтнесенияСебестоимостиНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "СчетОтнесенияСебестоимостиНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ДоговорКонтрагента");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// Товары.Номенклатура
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Товары.Номенклатура") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
		КонецЕсли;

		// УчитыватьНДС
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("УчитыватьНДС") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "ОсновноеСредство");
		КонецЕсли;

		// НДСВключенВСтоимость
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("НДСВключенВСтоимость") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "ВидОперации");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "ОсновноеСредство");
		КонецЕсли;

		// Услуги.Номенклатура
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.Номенклатура") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ3");
		КонецЕсли;

		// Услуги.СчетЗатратБУ
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СчетЗатратБУ") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
		КонецЕсли;

		// Услуги.СчетЗатратНУ
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СчетЗатратНУ") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
		КонецЕсли;

		// Услуги.СубконтоЗатратБУ1
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ1") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ1");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// Услуги.СубконтоЗатратБУ2
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ2") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ2");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// Услуги.СубконтоЗатратБУ3
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("Услуги.СубконтоЗатратБУ3") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратБУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СубконтоЗатратНУ3");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетЗатратНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "Номенклатура");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
		КонецЕсли;

		// ОС.ОсновноеСредство
		Если ПараметрыЗаполнения.ПричиныИзменения.Найти("ОС.ОсновноеСредство") &lt;&gt; Неопределено Тогда
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "ОсновноеСредство");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаБУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Организация");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "Дата");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНУ");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Строка", "СчетУчетаНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "УчитыватьНДС");
			СчетаУчетаВДокументахКлиентСервер.ДополнитьДанныеЗаполнения(ПараметрыЗаполнения, "Объект", "НДСВключенВСтоимость");
		КонецЕсли;

	КонецЕсли; // Нужно передавать на сервер данные заполнения</Текст>
				<Параметры>ПричиныИзменения, Объект, СтрокаСписка, КонтейнерОбъект, КонтейнерСтрокаСписка</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьЗаписьДокументаПослеЗагрузки" ИспользуетсяПриЗагрузке="true">
				<Текст>ПроведенОбъект = Объект.Проведен;
ПроведенСсылка = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Объект.Ссылка, "Проведен");
ПроведенСсылка = ?(ПроведенСсылка = Неопределено, Ложь, ПроведенСсылка);

// Если установлена опция не проводить документы загружаем все документы как непроведенные
Объект.Проведен = ПроведенОбъект И (УзелОбменаЗагрузкаДанных.РазрешитьПроведениеДокументовПриЗагрузке ИЛИ ПроведенСсылка);

Если Объект.ЭтоНовый() Тогда
	Объект.Комментарий = "#Загружен новый документ";
Иначе
	Если ПроведенОбъект = ПроведенСсылка Тогда
		Объект.Комментарий = "#Изменен документ";
	ИначеЕсли ПроведенСсылка Тогда
		Объект.Комментарий = "#Отменено проведение документа";
	Иначе
		Объект.Комментарий = "#Проведен документ";
	КонецЕсли;
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОпределитьСтавкуНДС" ИспользуетсяПриЗагрузке="true">
				<Текст>//Если ЗначениеЗаполнено(УчетнаяПолитика) И УчетнаяПолитика.Количество() &gt; 0 Тогда
//	Если УчетнаяПолитика.СистемаНалогообложения = Перечисления.СистемыНалогообложения.Упрощенная Тогда
//		СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//	Иначе
//		Если УчетнаяПолитика.СложныйУчетНДС Тогда
//			СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//		КонецЕсли;
//		СтавкаНДС = Перечисления.СтавкиНДС.НДС18;
//	КонецЕсли;
//КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьДоговорПоКонтрагенту" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ЗначениеЗаполнено(ПараметрКонтрагент)
		   И (Не ЗначениеЗаполнено(Объект.ДоговорКонтрагента)
		   ИЛИ ПараметрКонтрагент &lt;&gt; Объект.ДоговорКонтрагента.Владелец
		   ИЛИ ПараметрОрганизация &lt;&gt; Объект.ДоговорКонтрагента.Организация) Тогда

			СписокВидовДоговора = Новый СписокЗначений;
			СписокВидовДоговора.Добавить(ПараметрВидДоговора);

			СтруктураПараметров = Новый Структура("ВалютаВзаиморасчетов");
			СтруктураПараметров.ВалютаВзаиморасчетов     = Новый Структура("ЗначениеОтбора, ВидСравненияОтбора", Параметры.ВалютаРегламентированногоУчета, ВидСравнения.Равно);

			ДоговорКонтрагента  = Объект.ДоговорКонтрагента;
			ВладелецДоговора    = ПараметрКонтрагент;
			ОрганизацияДоговора = ПараметрОрганизация;
			СписокВидовДоговора = СписокВидовДоговора;
			СтруктураПараметров = СтруктураПараметров;
			
			НовыйДоговор = Справочники.ДоговорыКонтрагентов.ПустаяСсылка();

			Запрос = Новый Запрос;
			ТекстЗапроса = 
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 2
			|	ДоговорыКонтрагентов.Ссылка,
			|	ВЫБОР
			|		КОГДА СправочникВладелец.Ссылка ЕСТЬ НЕ NULL 
			|			ТОГДА 1
			|		ИНАЧЕ 2
			|	КОНЕЦ КАК Приоритет
			|ИЗ
			|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
			|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК СправочникВладелец
			|		ПО ДоговорыКонтрагентов.Владелец = СправочникВладелец.Ссылка
			|			И ДоговорыКонтрагентов.Ссылка = СправочникВладелец.ОсновнойДоговорКонтрагента
			|ГДЕ
			|	&amp;ТекстФильтра
			|
			|УПОРЯДОЧИТЬ ПО
			|	Приоритет";

			Запрос.УстановитьПараметр("ВладелецДоговора", ВладелецДоговора);
			Запрос.УстановитьПараметр("ОрганизацияДоговора", ОрганизацияДоговора);
			Запрос.УстановитьПараметр("СписокВидовДоговора", СписокВидовДоговора);

			ТекстФильтра = "
			|	ДоговорыКонтрагентов.Владелец = &amp;ВладелецДоговора
			|	И ДоговорыКонтрагентов.Организация = &amp;ОрганизацияДоговора
			|	И ДоговорыКонтрагентов.ПометкаУдаления = ЛОЖЬ"
			+?(СписокВидовДоговора&lt;&gt;неопределено,"
			|	И ДоговорыКонтрагентов.ВидДоговора В (&amp;СписокВидовДоговора)","");

			Если ТипЗнч(СтруктураПараметров) = Тип("Структура") Тогда
				Для каждого Параметр Из СтруктураПараметров Цикл
					ИмяРеквизита = Параметр.Ключ;
					СтруктураОтбора = Параметр.Значение;
					ВидСравненияЗапроса = "=";
					ТекстФильтра = ТекстФильтра + "
					|	И ДоговорыКонтрагентов." + ИмяРеквизита + " " + ВидСравненияЗапроса + " (&amp;" + ИмяРеквизита + ")";
					Запрос.УстановитьПараметр(ИмяРеквизита, СтруктураОтбора.ЗначениеОтбора);
				КонецЦикла;
			КонецЕсли;

			ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТекстФильтра", ТекстФильтра);
			
			Запрос.Текст = ТекстЗапроса;
			Результат = Запрос.Выполнить();

			Если Результат.Пустой() Тогда

				НовыйДоговор                          = Справочники.ДоговорыКонтрагентов.СоздатьЭлемент();
				НовыйДоговор.ВалютаВзаиморасчетов     = Параметры.ВалютаРегламентированногоУчета;
				НовыйДоговор.ВедениеВзаиморасчетов    = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом;
				НовыйДоговор.ВидДоговора              = ПараметрВидДоговора;
				НовыйДоговор.Владелец                 = ПараметрКонтрагент;
				НовыйДоговор.Наименование             = "Договор создан из ""1С:Розница 8""";
				НовыйДоговор.Организация              = ПараметрОрганизация;

				НовыйДоговор.Записать();

				Объект.ДоговорКонтрагента = НовыйДоговор.Ссылка;

			Иначе
				Выборка = Результат.Выбрать();
				Выборка.Следующий();
				
				НайденОсновнойДоговор = Выборка.Приоритет = 1;
				НайденОдинДоговор     = Выборка.Количество() = 1;

				Если НайденОсновнойДоговор ИЛИ НайденОдинДоговор Тогда
					НовыйДоговор = Выборка.Ссылка;
				КонецЕсли;

				Если (ДоговорКонтрагента.Владелец&lt;&gt;ВладелецДоговора ИЛИ ДоговорКонтрагента.Организация&lt;&gt;ОрганизацияДоговора) ИЛИ (не ЗначениеЗаполнено(ДоговорКонтрагента)) Тогда	
					Объект.ДоговорКонтрагента = НовыйДоговор;
				КонецЕсли;

			КонецЕсли;

			Если Не ПараметрДоговорВТабличнойЧасти Тогда

				СтруктураКурсаДокумента = ОбщегоНазначенияБК.ПолучитьКурсВалюты(Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов, ПараметрДата);

				Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("ВалютаДокумента", МетаданныеДокумента) Тогда
					Объект.ВалютаДокумента = Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов;
				КонецЕсли;

				// В некоторых документах курс и кратность документа отсутствуют.
				Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КурсДокумента", МетаданныеДокумента) Тогда
					Объект.КурсДокумента           = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КратностьДокумента", МетаданныеДокумента) Тогда
					Объект.КратностьДокумента      = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

				Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КурсВзаиморасчетов", МетаданныеДокумента) Тогда
					Объект.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КратностьВзаиморасчетов", МетаданныеДокумента) Тогда
					Объект.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

			Иначе

				СтруктураКурсаДокумента = ОбщегоНазначенияБК.ПолучитьКурсВалюты(Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов, ПараметрДата);

				Если ОбщегоНазначения.ЕстьРеквизитТабЧастиДокумента("КурсВзаиморасчетов", МетаданныеДокумента, ПараметрИмяТабличнойЧасти) Тогда
					Объект.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначения.ЕстьРеквизитТабЧастиДокумента("КратностьВзаиморасчетов", МетаданныеДокумента, ПараметрИмяТабличнойЧасти) Тогда
					Объект.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

			КонецЕсли;

		КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьДоговорПоКонтрагентуТЧ" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ЗначениеЗаполнено(ПараметрКонтрагент)
	И (Не ЗначениеЗаполнено(СтрокаТЧ.ДоговорКонтрагента)
	ИЛИ ПараметрКонтрагент &lt;&gt; СтрокаТЧ.ДоговорКонтрагента.Владелец
	ИЛИ ПараметрОрганизация &lt;&gt; СтрокаТЧ.ДоговорКонтрагента.Организация) Тогда
	
	СписокВидовДоговора = Новый СписокЗначений;
	СписокВидовДоговора.Добавить(ПараметрВидДоговора);
	
	СтруктураПараметров = Новый Структура("ВалютаВзаиморасчетов");
	СтруктураПараметров.ВалютаВзаиморасчетов     = Новый Структура("ЗначениеОтбора, ВидСравненияОтбора", Параметры.ВалютаРегламентированногоУчета, ВидСравнения.Равно);
	
	ДоговорКонтрагента  = СтрокаТЧ.ДоговорКонтрагента;
	ВладелецДоговора    = ПараметрКонтрагент;
	ОрганизацияДоговора = ПараметрОрганизация;
	СписокВидовДоговора = СписокВидовДоговора;
	СтруктураПараметров = СтруктураПараметров;
	
	НовыйДоговор = Справочники.ДоговорыКонтрагентов.ПустаяСсылка();
	
	Запрос = Новый Запрос;
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 2
	|	ДоговорыКонтрагентов.Ссылка,
	|	ВЫБОР
	|		КОГДА СправочникВладелец.Ссылка ЕСТЬ НЕ NULL 
	|			ТОГДА 1
	|		ИНАЧЕ 2
	|	КОНЕЦ КАК Приоритет
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК СправочникВладелец
	|		ПО ДоговорыКонтрагентов.Владелец = СправочникВладелец.Ссылка
	|			И ДоговорыКонтрагентов.Ссылка = СправочникВладелец.ОсновнойДоговорКонтрагента
	|ГДЕ
	|	&amp;ТекстФильтра
	|
	|УПОРЯДОЧИТЬ ПО
	|	Приоритет";
	
	Запрос.УстановитьПараметр("ВладелецДоговора", ВладелецДоговора);
	Запрос.УстановитьПараметр("ОрганизацияДоговора", ОрганизацияДоговора);
	Запрос.УстановитьПараметр("СписокВидовДоговора", СписокВидовДоговора);
	
	ТекстФильтра = "
	|	ДоговорыКонтрагентов.Владелец = &amp;ВладелецДоговора
	|	И ДоговорыКонтрагентов.Организация = &amp;ОрганизацияДоговора
	|	И ДоговорыКонтрагентов.ПометкаУдаления = ЛОЖЬ"
	+?(СписокВидовДоговора&lt;&gt;неопределено,"
	|	И ДоговорыКонтрагентов.ВидДоговора В (&amp;СписокВидовДоговора)","");
	
	Если ТипЗнч(СтруктураПараметров) = Тип("Структура") Тогда
		Для каждого Параметр Из СтруктураПараметров Цикл
			ИмяРеквизита = Параметр.Ключ;
			СтруктураОтбора = Параметр.Значение;
			ВидСравненияЗапроса = "=";
			ТекстФильтра = ТекстФильтра + "
			|	И ДоговорыКонтрагентов." + ИмяРеквизита + " " + ВидСравненияЗапроса + " (&amp;" + ИмяРеквизита + ")";
			Запрос.УстановитьПараметр(ИмяРеквизита, СтруктураОтбора.ЗначениеОтбора);
		КонецЦикла;
	КонецЕсли;
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТекстФильтра", ТекстФильтра);
	
	Запрос.Текст = ТекстЗапроса;
	Результат = Запрос.Выполнить();
	
	Если Результат.Пустой() Тогда
		
		НовыйДоговор                          = Справочники.ДоговорыКонтрагентов.СоздатьЭлемент();
		НовыйДоговор.ВалютаВзаиморасчетов     = Параметры.ВалютаРегламентированногоУчета;
		НовыйДоговор.ВедениеВзаиморасчетов    = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом;
		НовыйДоговор.ВидДоговора              = ПараметрВидДоговора;
		НовыйДоговор.Владелец                 = ПараметрКонтрагент;
		НовыйДоговор.Наименование             = "Договор создан из ""1С:Розница 8""";
		НовыйДоговор.Организация              = ПараметрОрганизация;
		
		НовыйДоговор.Записать();
		
		СтрокаТЧ.ДоговорКонтрагента = НовыйДоговор.Ссылка;
		
	Иначе
		Выборка = Результат.Выбрать();
		Выборка.Следующий();
		
		НайденОсновнойДоговор = Выборка.Приоритет = 1;
		НайденОдинДоговор     = Выборка.Количество() = 1;
		
		Если НайденОсновнойДоговор ИЛИ НайденОдинДоговор Тогда
			НовыйДоговор = Выборка.Ссылка;
		КонецЕсли;
		
		Если (ДоговорКонтрагента.Владелец &lt;&gt; ВладелецДоговора ИЛИ ДоговорКонтрагента.Организация &lt;&gt; ОрганизацияДоговора) ИЛИ (Не ЗначениеЗаполнено(ДоговорКонтрагента)) Тогда	
			СтрокаТЧ.ДоговорКонтрагента = НовыйДоговор;
		КонецЕсли;
		
	КонецЕсли;
	
	
	СтруктураКурсаДокумента = ОбщегоНазначенияБК.ПолучитьКурсВалюты(СтрокаТЧ.ДоговорКонтрагента.ВалютаВзаиморасчетов, ПараметрДата);
	
	
	Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КурсВзаиморасчетов", МетаданныеДокумента) Тогда
		СтрокаТЧ.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
	КонецЕсли;
	
	Если ОбщегоНазначенияБК.ЕстьРеквизитДокумента("КратностьВзаиморасчетов", МетаданныеДокумента) Тогда
		СтрокаТЧ.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
	КонецЕсли;
	
	
	
КонецЕсли;</Текст>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы>
		<Группа Имя="ВыгрузкаДокументов">
			<Запрос Имя="ВозвратТоваровОтПокупателя" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   ИНАЧЕ
    	ЛОЖЬ
КОНЕЦ КАК ПередатьИсходящиеДанные,
Товары.Номенклатура КАК Номенклатура,
Товары.Упаковка КАК Упаковка,
Товары.Характеристика КАК Характеристика,
Товары.Количество КАК Количество,
ВЫБОР	КОГДА Товары.Количество = 0.00
		ТОГДА 0.00
		ИНАЧЕ Товары.Сумма / Товары.Количество
КОНЕЦ КАК Цена,
Товары.Сумма КАК Сумма,
Товары.СтавкаНДС КАК СтавкаНДС,
Товары.СуммаНДС КАК СуммаНДС,
ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
   НЕОПРЕДЕЛЕНО
ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ВозвратТоваровОтПокупателя.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)

;	

ВЫБРАТЬ РАЗЛИЧНЫЕ	
	Товары.ДокументПродажи	КАК ДокументПродажи
ИЗ
	Документ.ВозвратТоваровОтПокупателя.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)    
    И Товары.ДокументПродажи &lt;&gt; ЗНАЧЕНИЕ(Документ.ОтчетОРозничныхПродажах.ПустаяСсылка)
    И Товары.ДокументПродажи &lt;&gt; ЗНАЧЕНИЕ(Документ.РеализацияТоваров.ПустаяСсылка)</Текст>
			</Запрос>
			<Запрос Имя="ВозвратТоваровПоставщику" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   ИНАЧЕ
    	ЛОЖЬ
КОНЕЦ КАК ПередатьИсходящиеДанные,
   Товары.Номенклатура КАК Номенклатура,
   Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ВозвратТоваровПоставщику.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ОприходованиеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	 ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ОприходованиеТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ОтчетОРозничныхПродажах" ИспользуетсяПриЗагрузке="false">
				<Текст> ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	1 КАК Коэффициент,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ОтчетОРозничныхПродажах.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
;

 ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	1 КАК Коэффициент,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ОтчетОРозничныхПродажах.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
;

ВЫБРАТЬ
	ТЧОплатаПлатежнымиКартами.Сумма КАК СуммаОплаты,
	ОРП.Эквайрер КАК Контрагент,
	ТЧОплатаПлатежнымиКартами.ЭквайринговыйТерминал КАК ВидОплаты
ИЗ
	Документ.ОтчетОРозничныхПродажах.ОплатаПлатежнымиКартами КАК ТЧОплатаПлатежнымиКартами
	ЛЕВОЕ СОЕДИНЕНИЕ Документ.ОтчетОРозничныхПродажах КАК ОРП
	ПО ОРП.Ссылка = ТЧОплатаПлатежнымиКартами.Ссылка
ГДЕ
	ТЧОплатаПлатежнымиКартами.Ссылка = &amp;Ссылка
	
//ОБЪЕДИНИТЬ ВСЕ

//ВЫБРАТЬ	
//	ТЧОплатаБанковскимиКредитами.Сумма КАК СуммаОплаты,
//	ТЧОплатаБанковскимиКредитами.БанкКредитор КАК Контрагент,
//	ТЧОплатаБанковскимиКредитами.ВидОплаты КАК ВидОплаты
//ИЗ
//	Документ.ОтчетОРозничныхПродажах.ОплатаБанковскимиКредитами КАК ТЧОплатаБанковскимиКредитами
//ГДЕ
//	ТЧОплатаБанковскимиКредитами.Ссылка = &amp;Ссылка</Текст>
			</Запрос>
			<Запрос Имя="ОтчетОРозничныхПродажах_Сертификаты" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	ВЫБОР
		КОГДА &amp;ПередаватьЦеныХарактеристик
			ТОГДА ВЫБОР
					КОГДА Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
						ТОГДА ЛОЖЬ
					ИНАЧЕ ИСТИНА
				КОНЕЦ
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	1 КАК Коэффициент,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	Товары.Номенклатура КАК Номенклатура,
	Товары.Характеристика КАК Характеристика,
	Товары.Количество КАК Количество,
	ВЫБОР
		КОГДА Товары.Количество = 0
			ТОГДА 0
		ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР
		КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка)
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ СпрНоменклатура.СтранаПроисхождения
	КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ОтчетОРозничныхПродажах.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.ПодарочныйСертификат)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВЫБОР
		КОГДА &amp;ПередаватьЦеныХарактеристик
			ТОГДА ВЫБОР
					КОГДА Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
						ТОГДА ЛОЖЬ
					ИНАЧЕ ИСТИНА
				КОНЕЦ
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ,
	1,
	СпрНоменклатура.ЕдиницаИзмерения,
	Товары.Номенклатура,
	Товары.Характеристика,
	Товары.Количество,
	ВЫБОР
		КОГДА Товары.Количество = 0
			ТОГДА 0
		ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ,
	Товары.Сумма,
	Товары.СтавкаНДС,
	Товары.СуммаНДС,
	ВЫБОР
		КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка)
			ТОГДА НЕОПРЕДЕЛЕНО
		ИНАЧЕ СпрНоменклатура.СтранаПроисхождения
	КОНЕЦ
ИЗ
	Документ.РеализацияТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.ПодарочныйСертификат)</Текст>
			</Запрос>
			<Запрос Имя="ПередачаТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ПередачаТоваровМеждуОрганизациями.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
;</Текст>
			</Запрос>
			<Запрос Имя="ПеремещениеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст> ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	Товары.Количество КАК Количество,
	1 КАК Коэффициент,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена
ИЗ
	Документ.ПеремещениеТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ПереоценкаТоваровПоПрименениюЦен" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	Товары.Номенклатура КАК Номенклатура,
	Товары.Характеристика КАК Характеристика,
	ВЫБОР
		КОГДА Товары.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
			ТОГДА Товары.Цена
		ИНАЧЕ Товары.Цена / СпрУпаковки.Коэффициент
	КОНЕЦ КАК Цена,
	ВЫБОР
		КОГДА ПрошлыеЦены.Цена ЕСТЬ NULL ТОГДА 0
        КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) ТОГДА ПрошлыеЦены.Цена
		ИНАЧЕ ПрошлыеЦены.Цена / СпрУпаковки.Коэффициент
	КОНЕЦ КАК ПрошлаяЦена,
	&amp;ДатаДокумента КАК Дата
ПОМЕСТИТЬ Товары
ИЗ
	РегистрСведений.ДействующиеЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.УпаковкиНоменклатуры КАК СпрУпаковки
		ПО (СпрУпаковки.Ссылка = Товары.Упаковка)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры.СрезПоследних(&amp;ГраницаДокумента, ) КАК ПрошлыеЦены
		ПО Товары.Номенклатура = ПрошлыеЦены.Номенклатура
			И Товары.Характеристика = ПрошлыеЦены.Характеристика
ГДЕ
	(СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			ИЛИ СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Товары.ПередатьИсходящиеДанные КАК ПередатьИсходящиеДанные,
	Остатки.Номенклатура,
	Остатки.Характеристика,
	СУММА(Остатки.КоличествоОстаток) КАК Количество,
	СправочникСклады.Магазин КАК Склад,
	Остатки.Организация КАК Организация,
	Товары.Цена КАК ЦенаВРознице,
	Товары.ПрошлаяЦена КАК ЦенаВРозницеСтарая,
	СУММА(Остатки.КоличествоОстаток * (Товары.Цена - Товары.ПрошлаяЦена)) КАК СуммаПереоценки,
	МАКСИМУМ(Товары.Дата) КАК Дата
ИЗ
	РегистрНакопления.ТоварыОрганизаций.Остатки(
			&amp;ДатаДокумента,
			(Номенклатура, Характеристика) В
				(ВЫБРАТЬ
					Т.Номенклатура,
					Т.Характеристика
				ИЗ
					Товары КАК Т)) КАК Остатки
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Склады КАК СправочникСклады
		ПО Остатки.Склад = СправочникСклады.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Магазины КАК СправочникМагазины
		ПО (СправочникСклады.Магазин = СправочникМагазины.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ Товары КАК Товары
		ПО (Товары.Номенклатура = Остатки.Номенклатура)
			И (Товары.Характеристика = Остатки.Характеристика)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Организации КАК СправочникОрганизации
		ПО СправочникОрганизации.Ссылка = Остатки.Организация
			
ГДЕ     
	СправочникМагазины.ИспользоватьПрименениеЦен
	И Товары.Цена &lt;&gt; Товары.ПрошлаяЦена
	И Товары.ПрошлаяЦена &gt; 0
	И СправочникОрганизации.СпособОценкиТоваровВРознице = ЗНАЧЕНИЕ(Перечисление.СпособыОценкиТоваровВРознице.ПоПродажнойСтоимости)

СГРУППИРОВАТЬ ПО
	Остатки.Номенклатура,
	Остатки.Характеристика,
	Товары.Цена,
	Товары.ПрошлаяЦена,
	Остатки.Организация,
	СправочникСклады.Магазин,
	Товары.ПередатьИсходящиеДанные

ИМЕЮЩИЕ
	СУММА(Остатки.КоличествоОстаток) &lt;&gt; 0
ИТОГИ ПО
	Организация,
	Склад
	
;</Текст>
			</Запрос>
			<Запрос Имя="ПереоценкаТоваровПоПрименениюЦенБезХарактеристик" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	ПодЗапрос.Номенклатура,
	ПодЗапрос.Дата КАК Дата,
	МАКСИМУМ(ПодЗапрос.Цена) КАК Цена
ПОМЕСТИТЬ Товары
ИЗ
	(ВЫБРАТЬ
		Товары.Номенклатура КАК Номенклатура,
		ВЫБОР
			КОГДА Товары.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА Товары.Цена
			ИНАЧЕ Товары.Цена / СпрУпаковки.Коэффициент
		КОНЕЦ КАК Цена,
		Товары.Период КАК Дата
	ИЗ
		РегистрСведений.ДействующиеЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК Товары
			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.УпаковкиНоменклатуры КАК СпрУпаковки
			ПО (СпрУпаковки.Ссылка = Товары.Упаковка)) КАК ПодЗапрос

СГРУППИРОВАТЬ ПО
	ПодЗапрос.Номенклатура,
	ПодЗапрос.Дата
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТекущиеЦены.Номенклатура,
	ВЫБОР
		КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
			ТОГДА ПрошлыеЦены.Цена
		ИНАЧЕ ПрошлыеЦены.Цена / СпрУпаковки.Коэффициент
	КОНЕЦ КАК ПрошлаяЦена,
	ТекущиеЦены.Цена,
	ТекущиеЦены.Дата КАК Дата
ПОМЕСТИТЬ РозничныеЦены
ИЗ
	Товары КАК ТекущиеЦены
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры.СрезПоследних(
				&amp;ГраницаДокумента,
				Номенклатура В
					(ВЫБРАТЬ
						Т.Номенклатура
					ИЗ
						Товары КАК Т)) КАК ПрошлыеЦены
		ПО ТекущиеЦены.Номенклатура = ПрошлыеЦены.Номенклатура
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.УпаковкиНоменклатуры КАК СпрУпаковки
		ПО (СпрУпаковки.Ссылка = ПрошлыеЦены.Упаковка)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = ТекущиеЦены.Номенклатура)
ГДЕ
	(СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			ИЛИ СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЛОЖЬ КАК ПередатьИсходящиеДанные,
	Остатки.Номенклатура,
	ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) КАК Характеристика,
	СУММА(Остатки.КоличествоОстаток) КАК Количество,
	СправочникСклады.Магазин КАК Склад,
	Остатки.Организация КАК Организация,
	РозничныеЦены.Цена КАК ЦенаВРознице,
	РозничныеЦены.ПрошлаяЦена КАК ЦенаВРозницеСтарая,
	СУММА(Остатки.КоличествоОстаток * (РозничныеЦены.Цена - РозничныеЦены.ПрошлаяЦена)) КАК СуммаПереоценки,
	МАКСИМУМ(РозничныеЦены.Дата) КАК Дата
ИЗ
	РегистрНакопления.ТоварыОрганизаций.Остатки(
			&amp;ДатаДокумента,
			Номенклатура В
				(ВЫБРАТЬ
					Т.Номенклатура
				ИЗ
					РозничныеЦены КАК Т)) КАК Остатки
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Склады КАК СправочникСклады
		ПО Остатки.Склад = СправочникСклады.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Магазины КАК СправочникМагазины
		ПО (СправочникСклады.Магазин = СправочникМагазины.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ РозничныеЦены КАК РозничныеЦены
		ПО (РозничныеЦены.Номенклатура = Остатки.Номенклатура)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Организации КАК СправочникОрганизации
		ПО СправочникОрганизации.Ссылка = Остатки.Организация
ГДЕ
	СправочникМагазины.ИспользоватьПрименениеЦен
	И РозничныеЦены.Цена &lt;&gt; РозничныеЦены.ПрошлаяЦена
	И ЕСТЬNULL(РозничныеЦены.ПрошлаяЦена,0) &gt; 0 
    И СправочникОрганизации.СпособОценкиТоваровВРознице = ЗНАЧЕНИЕ(Перечисление.СпособыОценкиТоваровВРознице.ПоПродажнойСтоимости)
    
СГРУППИРОВАТЬ ПО
	Остатки.Номенклатура,
	Остатки.Характеристика,
	РозничныеЦены.Цена,
	РозничныеЦены.ПрошлаяЦена,
	Остатки.Организация,
	СправочникСклады.Магазин

ИМЕЮЩИЕ
	СУММА(Остатки.КоличествоОстаток) &lt;&gt; 0
ИТОГИ ПО
	Организация,
	Склад
;</Текст>
			</Запрос>
			<Запрос Имя="ПереоценкаТоваровПоУстановкеЦен" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования
ПОМЕСТИТЬ ТаблицаМагазиновЦеныНоменклатуры
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ЦеновыеГруппы.ВидЦен КАК ВидЦен,
	ЦеновыеГруппы.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ЦеновыеГруппыПравила
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ЦеновыеГруппы.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования

ИНДЕКСИРОВАТЬ ПО
	ВидЦен,
	ЦеноваяГруппа
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВидЦеныПравила.ВидЦен КАК ВидЦен,
	ВидЦеныПравила.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ВидЦеныПравила
ИЗ
	Справочник.ПравилаЦенообразования КАК ВидЦеныПравила
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ВидЦеныПравила.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ИтоговыйЗапрос.Магазин КАК Склад,
	ИтоговыйЗапрос.Номенклатура КАК Номенклатура,
	ИтоговыйЗапрос.Характеристика КАК Характеристика,
	МАКСИМУМ(ИтоговыйЗапрос.Цена / ВЫБОР
			КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
		КОНЕЦ) КАК ЦенаВРознице,
	СправочникНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	МАКСИМУМ(ЕСТЬNULL(ПрошлыеЦены.Цена, 0) / ВЫБОР
			КОГДА ПрошлыеЦены.Упаковка ЕСТЬ NULL 
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ПрошлыеЦены.Упаковка.Коэффициент
		КОНЕЦ) КАК ЦенаВРозницеСтарая,
	ВЫБОР
		КОГДА ИтоговыйЗапрос.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
			ТОГДА ЛОЖЬ
		ИНАЧЕ ИСТИНА
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	СУММА(Остатки.КоличествоОстаток * (ИтоговыйЗапрос.Цена / ВЫБОР
			КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
		КОНЕЦ - ЕСТЬNULL(ПрошлыеЦены.Цена, 0) / ВЫБОР
			КОГДА ПрошлыеЦены.Упаковка ЕСТЬ NULL 
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ПрошлыеЦены.Упаковка.Коэффициент
		КОНЕЦ)) КАК СуммаПереоценки,
	Остатки.Организация КАК Организация,
	СУММА(Остатки.КоличествоОстаток) КАК Количество
ИЗ
	(ВЫБРАТЬ
		ПодЗапрос.Магазин КАК Магазин,
		ПодЗапрос.Номенклатура КАК Номенклатура,
		ПодЗапрос.Характеристика КАК Характеристика,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.УпаковкаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.УпаковкаПоВидуЦен)
		КОНЕЦ КАК Упаковка,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ЦенаПоВидуЦен)
		КОНЕЦ КАК Цена,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ВидЦеныПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ВидЦены)
		КОНЕЦ КАК ВидЦены
	ИЗ
		(ВЫБРАТЬ
			ЦеныНоменклатурыПоВидуЦен.Номенклатура КАК Номенклатура,
			ЦеныНоменклатурыПоВидуЦен.Характеристика КАК Характеристика,
			ЦеныНоменклатурыПоВидуЦен.Упаковка КАК УпаковкаПоВидуЦен,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) КАК УпаковкаПоЦеновымГруппам,
			ЦеныНоменклатурыПоВидуЦен.Цена КАК ЦенаПоВидуЦен,
			0 КАК ЦенаПоЦеновымГруппам,
			ТаблицаМагазинов.Магазин КАК Магазин,
			ЦеныНоменклатурыПоВидуЦен.ВидЦены КАК ВидЦены,
			ЗНАЧЕНИЕ(Справочник.ВидыЦен.ПустаяСсылка) КАК ВидЦеныПоЦеновымГруппам
		ИЗ
			РегистрСведений.ЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоВидуЦен
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидЦеныПравила КАК ВидЦеныПравила
				ПО (ВидЦеныПравила.ВидЦен = ЦеныНоменклатурыПоВидуЦен.ВидЦены)
				ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
				ПО (ТаблицаМагазинов.ПравилоЦенообразования = ВидЦеныПравила.ПравилоЦенообразования)
		
		ОБЪЕДИНИТЬ ВСЕ
		
		ВЫБРАТЬ
			СправочникНоменклатура.Ссылка,
			ЦеныНоменклатурыПоЦеновымГруппам.Характеристика,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.Упаковка,
			0,
			ЕСТЬNULL(ЦеныНоменклатурыПоЦеновымГруппам.Цена, 0),
			ТаблицаМагазинов.Магазин,
			ЗНАЧЕНИЕ(Справочник.ВидыЦен.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены
		ИЗ
			ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
				ПО ЦеновыеГруппыПравила.ЦеноваяГруппа = СправочникНоменклатура.ЦеноваяГруппа
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(
						,
						ВидЦены В
								(ВЫБРАТЬ РАЗЛИЧНЫЕ
									ЦеновыеГруппыПравила.ВидЦен
								ИЗ
									ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила)
							И Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоЦеновымГруппам
				ПО (ЦеныНоменклатурыПоЦеновымГруппам.Номенклатура = СправочникНоменклатура.Ссылка)
					И (ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены = ЦеновыеГруппыПравила.ВидЦен)
				ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
				ПО (ТаблицаМагазинов.ПравилоЦенообразования = ЦеновыеГруппыПравила.ПравилоЦенообразования)) КАК ПодЗапрос
	
	СГРУППИРОВАТЬ ПО
		ПодЗапрос.Номенклатура,
		ПодЗапрос.Характеристика,
		ПодЗапрос.Магазин) КАК ИтоговыйЗапрос
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
		ПО (СправочникНоменклатура.Ссылка = ИтоговыйЗапрос.Номенклатура)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(&amp;ГраницаДокумента, ) КАК ПрошлыеЦены
		ПО (ПрошлыеЦены.Номенклатура = ИтоговыйЗапрос.Номенклатура)
			И (ПрошлыеЦены.Характеристика = ИтоговыйЗапрос.Характеристика)
			И (ПрошлыеЦены.ВидЦены = ИтоговыйЗапрос.ВидЦены)
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ТоварыОрганизаций.Номенклатура КАК Номенклатура,
			ТоварыОрганизаций.Характеристика КАК Характеристика,
			ТоварыОрганизаций.Организация КАК Организация,
			СУММА(ТоварыОрганизаций.КоличествоОстаток) КАК КоличествоОстаток,
			Склады.Магазин КАК Магазин
		ИЗ
			РегистрНакопления.ТоварыОрганизаций.Остатки(&amp;ДатаДокумента, Организация.СпособОценкиТоваровВРознице = ЗНАЧЕНИЕ(Перечисление.СпособыОценкиТоваровВРознице.ПоПродажнойСтоимости)) КАК ТоварыОрганизаций
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Склады КАК Склады
				ПО (Склады.Ссылка = ТоварыОрганизаций.Склад)
		
		СГРУППИРОВАТЬ ПО
			ТоварыОрганизаций.Номенклатура,
			ТоварыОрганизаций.Характеристика,
			ТоварыОрганизаций.Организация,
			Склады.Магазин) КАК Остатки
		ПО (Остатки.Магазин = ИтоговыйЗапрос.Магазин)
			И (Остатки.Номенклатура = ИтоговыйЗапрос.Номенклатура)
			И (Остатки.Характеристика = ИтоговыйЗапрос.Характеристика)
ГДЕ
	(СправочникНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			ИЛИ СправочникНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
	И ЕСТЬNULL(ПрошлыеЦены.Цена, 0)	&gt; 0	
    И ИтоговыйЗапрос.Цена &lt;&gt; ЕСТЬNULL(ПрошлыеЦены.Цена, 0)
СГРУППИРОВАТЬ ПО
	ИтоговыйЗапрос.Магазин,
	ИтоговыйЗапрос.Номенклатура,
	ИтоговыйЗапрос.Характеристика,
	СправочникНоменклатура.ЕдиницаИзмерения,
	Остатки.Организация

ИМЕЮЩИЕ
	СУММА(Остатки.КоличествоОстаток) &gt; 0
ИТОГИ ПО
	Организация,
	Склад
;</Текст>
			</Запрос>
			<Запрос Имя="ПереоценкаТоваровПоУстановкеЦенБезХарактеристик" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования
ПОМЕСТИТЬ ТаблицаМагазиновЦеныНоменклатуры
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ЦеновыеГруппы.ВидЦен КАК ВидЦен,
	ЦеновыеГруппы.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ЦеновыеГруппыПравила
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ЦеновыеГруппы.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования

ИНДЕКСИРОВАТЬ ПО
	ВидЦен,
	ЦеноваяГруппа
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВидЦеныПравила.ВидЦен КАК ВидЦен,
	ВидЦеныПравила.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ВидЦеныПравила
ИЗ
	Справочник.ПравилаЦенообразования КАК ВидЦеныПравила
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ВидЦеныПравила.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ИтоговыйЗапрос.Магазин КАК Склад,
	ИтоговыйЗапрос.Номенклатура КАК Номенклатура,
	ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) КАК Характеристика,
	МАКСИМУМ(ИтоговыйЗапрос.Цена / ВЫБОР
			КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
		КОНЕЦ) КАК ЦенаВРознице,
	СправочникНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	МАКСИМУМ(ЕСТЬNULL(ПрошлыеЦены.Цена, 0) / ВЫБОР
			КОГДА ПрошлыеЦены.Упаковка ЕСТЬ NULL 
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ПрошлыеЦены.Упаковка.Коэффициент
		КОНЕЦ) КАК ЦенаВРозницеСтарая,
	ЛОЖЬ КАК ПередатьИсходящиеДанные,
	СУММА(Остатки.КоличествоОстаток * (ИтоговыйЗапрос.Цена / ВЫБОР
			КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
		КОНЕЦ - ЕСТЬNULL(ПрошлыеЦены.Цена, 0) / ВЫБОР
			КОГДА ПрошлыеЦены.Упаковка ЕСТЬ NULL 
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ПрошлыеЦены.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ПрошлыеЦены.Упаковка.Коэффициент
		КОНЕЦ)) КАК СуммаПереоценки,
	Остатки.Организация КАК Организация,
	СУММА(Остатки.КоличествоОстаток) КАК Количество
ИЗ
	(ВЫБРАТЬ
		ПодЗапрос.Магазин КАК Магазин,
		ПодЗапрос.Номенклатура КАК Номенклатура,
		ПодЗапрос.Характеристика КАК Характеристика,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.УпаковкаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.УпаковкаПоВидуЦен)
		КОНЕЦ КАК Упаковка,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ЦенаПоВидуЦен)
		КОНЕЦ КАК Цена,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ВидЦеныПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ВидЦены)
		КОНЕЦ КАК ВидЦены
	ИЗ
		(ВЫБРАТЬ
			ЦеныНоменклатурыПоВидуЦен.Номенклатура КАК Номенклатура,
			ЦеныНоменклатурыПоВидуЦен.Характеристика КАК Характеристика,
			ЦеныНоменклатурыПоВидуЦен.Упаковка КАК УпаковкаПоВидуЦен,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) КАК УпаковкаПоЦеновымГруппам,
			ЦеныНоменклатурыПоВидуЦен.Цена КАК ЦенаПоВидуЦен,
			0 КАК ЦенаПоЦеновымГруппам,
			ТаблицаМагазинов.Магазин КАК Магазин,
			ЦеныНоменклатурыПоВидуЦен.ВидЦены КАК ВидЦены,
			ЗНАЧЕНИЕ(Справочник.ВидыЦен.ПустаяСсылка) КАК ВидЦеныПоЦеновымГруппам
		ИЗ
			РегистрСведений.ЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоВидуЦен
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидЦеныПравила КАК ВидЦеныПравила
				ПО (ВидЦеныПравила.ВидЦен = ЦеныНоменклатурыПоВидуЦен.ВидЦены)
				ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
				ПО (ТаблицаМагазинов.ПравилоЦенообразования = ВидЦеныПравила.ПравилоЦенообразования)
		
		ОБЪЕДИНИТЬ ВСЕ
		
		ВЫБРАТЬ
			СправочникНоменклатура.Ссылка,
			ЦеныНоменклатурыПоЦеновымГруппам.Характеристика,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.Упаковка,
			0,
			ЕСТЬNULL(ЦеныНоменклатурыПоЦеновымГруппам.Цена, 0),
			ТаблицаМагазинов.Магазин,
			ЗНАЧЕНИЕ(Справочник.ВидыЦен.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены
		ИЗ
			ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
				ПО ЦеновыеГруппыПравила.ЦеноваяГруппа = СправочникНоменклатура.ЦеноваяГруппа
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(
						,
						ВидЦены В
								(ВЫБРАТЬ РАЗЛИЧНЫЕ
									ЦеновыеГруппыПравила.ВидЦен
								ИЗ
									ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила)
							И Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоЦеновымГруппам
				ПО (ЦеныНоменклатурыПоЦеновымГруппам.Номенклатура = СправочникНоменклатура.Ссылка)
					И (ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены = ЦеновыеГруппыПравила.ВидЦен)
				ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
				ПО (ТаблицаМагазинов.ПравилоЦенообразования = ЦеновыеГруппыПравила.ПравилоЦенообразования)) КАК ПодЗапрос
	
	СГРУППИРОВАТЬ ПО
		ПодЗапрос.Номенклатура,
		ПодЗапрос.Характеристика,
		ПодЗапрос.Магазин) КАК ИтоговыйЗапрос
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
		ПО (СправочникНоменклатура.Ссылка = ИтоговыйЗапрос.Номенклатура)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(&amp;ГраницаДокумента, ) КАК ПрошлыеЦены
		ПО (ПрошлыеЦены.Номенклатура = ИтоговыйЗапрос.Номенклатура)
			И (ПрошлыеЦены.Характеристика = ИтоговыйЗапрос.Характеристика)
			И (ПрошлыеЦены.ВидЦены = ИтоговыйЗапрос.ВидЦены)
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ТоварыОрганизаций.Номенклатура КАК Номенклатура,
			ТоварыОрганизаций.Организация КАК Организация,
			СУММА(ТоварыОрганизаций.КоличествоОстаток) КАК КоличествоОстаток,
			Склады.Магазин КАК Магазин
		ИЗ
			РегистрНакопления.ТоварыОрганизаций.Остатки(&amp;ДатаДокумента, Организация.СпособОценкиТоваровВРознице = ЗНАЧЕНИЕ(Перечисление.СпособыОценкиТоваровВРознице.ПоПродажнойСтоимости)) КАК ТоварыОрганизаций
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Склады КАК Склады
				ПО (Склады.Ссылка = ТоварыОрганизаций.Склад)
		
		СГРУППИРОВАТЬ ПО
			ТоварыОрганизаций.Номенклатура,
			ТоварыОрганизаций.Организация,
			Склады.Магазин) КАК Остатки
		ПО (Остатки.Магазин = ИтоговыйЗапрос.Магазин)
			И (Остатки.Номенклатура = ИтоговыйЗапрос.Номенклатура)
ГДЕ
	(СправочникНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			ИЛИ СправочникНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
    И ЕСТЬNULL(ПрошлыеЦены.Цена, 0)	&gt; 0	
    И ИтоговыйЗапрос.Цена &lt;&gt; ЕСТЬNULL(ПрошлыеЦены.Цена, 0)
    
СГРУППИРОВАТЬ ПО
	ИтоговыйЗапрос.Магазин,
	ИтоговыйЗапрос.Номенклатура,
	СправочникНоменклатура.ЕдиницаИзмерения,
	Остатки.Организация

ИМЕЮЩИЕ
	СУММА(Остатки.КоличествоОстаток) &gt; 0
ИТОГИ ПО
	Организация,
	Склад
;</Текст>
			</Запрос>
			<Запрос Имя="ПересортицаОприходованиеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.ХарактеристикаОприходование = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	 ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.НоменклатураОприходование КАК Номенклатура,
   	Товары.ХарактеристикаОприходование КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	Товары.ЦенаОприходование КАК Цена,
	Товары.ЦенаОприходование * Товары.Количество КАК Сумма,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ПересортицаТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ПересортицаСписаниеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	Товары.Цена КАК Цена,
	Товары.Цена * Товары.Количество КАК Сумма,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ПересортицаТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ПересчетТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст> ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	 ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные, 
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	Товары.КоличествоФакт КАК КоличествоФакт,
	Товары.СуммаФакт КАК СуммаФакт,
	Товары.Сумма КАК Сумма,
	Товары.Количество КАК Количество,	
	Товары.Цена КАК Цена
ИЗ
	Документ.ПересчетТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="ПоступлениеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.ПоступлениеТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Услуги.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	Услуги.Номенклатура,
	Услуги.Характеристика,
	Услуги.Количество,
	Услуги.Цена,
	Услуги.Сумма,
	Услуги.СтавкаНДС,
	Услуги.СуммаНДС,
   	Услуги.Номенклатура.НаименованиеПолное КАК Содержание
ИЗ
	Документ.ПоступлениеТоваров.Товары КАК Услуги
ГДЕ
	Услуги.Ссылка = &amp;Ссылка
	И Услуги.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)</Текст>
			</Запрос>
			<Запрос Имя="ПрименениеЦенНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	ВЫБОР 
		КОГДА Товары.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) 
	ТОГДА
	Товары.Цена
	ИНАЧЕ
	Товары.Цена/СпрУпаковки.Коэффициент
	КОНЕЦ КАК Цена	
ИЗ
	Документ.ПрименениеЦенНоменклатуры.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.УпаковкиНоменклатуры КАК СпрУпаковки
		ПО (СпрУпаковки.Ссылка = Товары.Упаковка)		
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)		
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И (СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
	ИЛИ СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))</Текст>
			</Запрос>
			<Запрос Имя="ПрименениеЦенНоменклатурыБезХарактеристик" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	ПодЗапрос.Номенклатура,
	ЛОЖЬ КАК ПередатьИсходящиеДанные,
	ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) КАК Характеристика,
	МАКСИМУМ(ПодЗапрос.Цена) КАК Цена
ИЗ
	(ВЫБРАТЬ
		Товары.Номенклатура КАК Номенклатура,
		ВЫБОР
			КОГДА Товары.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА Товары.Цена
			ИНАЧЕ Товары.Цена / СпрУпаковки.Коэффициент
		КОНЕЦ КАК Цена
	ИЗ
		РегистрСведений.ДействующиеЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК Товары
			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.УпаковкиНоменклатуры КАК СпрУпаковки
			ПО (СпрУпаковки.Ссылка = Товары.Упаковка)
			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
			ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
	ГДЕ
		(СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
				ИЛИ СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))) КАК ПодЗапрос

СГРУППИРОВАТЬ ПО
	ПодЗапрос.Номенклатура</Текст>
			</Запрос>
			<Запрос Имя="РеализацияТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
  	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	Товары.СтавкаНДС КАК СтавкаНДС,
	Товары.СуммаНДС КАК СуммаНДС,
	Товары.Номенклатура.СтранаПроисхождения КАК СтранаПроисхождения
ИЗ
	Документ.РеализацияТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Услуги.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
	Услуги.Номенклатура,
	Услуги.Характеристика,
	Услуги.Количество,
	Услуги.Цена,
	Услуги.Сумма,
	Услуги.СтавкаНДС,
	Услуги.СуммаНДС,
   Услуги.Номенклатура.НаименованиеПолное КАК Содержание
ИЗ
	Документ.РеализацияТоваров.Товары КАК Услуги
ГДЕ
	Услуги.Ссылка = &amp;Ссылка
	И Услуги.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)</Текст>
			</Запрос>
			<Запрос Имя="СборкаТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Упаковка КАК Упаковка,
   	Товары.Характеристика КАК Характеристика,
	Товары.Количество КАК Количество,
	Товары.ДоляСтоимости КАК ДоляСтоимости,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.СборкаТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="СписаниеТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
   	ВЫБОР КОГДА &amp;ПередаватьЦеныХарактеристик 
   	ТОГДА
		(ВЫБОР КОГДА 
		 Товары.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) 
		 ТОГДА 
		 	ЛОЖЬ
		 ИНАЧЕ
		 	ИСТИНА
		 КОНЕЦ) 
   	ИНАЧЕ
    	ЛОЖЬ
	КОНЕЦ КАК ПередатьИсходящиеДанные,
   	Товары.Номенклатура КАК Номенклатура,
   	Товары.Характеристика КАК Характеристика,
	СпрНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	1 КАК Коэффициент,
	Товары.Количество КАК Количество,
	ВЫБОР	КОГДА Товары.Количество = 0.00
			ТОГДА 0.00
			ИНАЧЕ Товары.Сумма / Товары.Количество
	КОНЕЦ КАК Цена,
	Товары.Сумма КАК Сумма,
	ВЫБОР КОГДА СпрНоменклатура.СтранаПроисхождения = ЗНАЧЕНИЕ(Справочник.СтраныМира.ПустаяСсылка) ТОГДА
    НЕОПРЕДЕЛЕНО
   	ИНАЧЕ СпрНоменклатура.СтранаПроисхождения КОНЕЦ КАК СтранаПроисхождения
ИЗ
	Документ.СписаниеТоваров.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)</Текст>
			</Запрос>
			<Запрос Имя="УстановкаЦенНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования
ПОМЕСТИТЬ ТаблицаМагазиновЦеныНоменклатуры
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ЦеновыеГруппы.ВидЦен КАК ВидЦен,
	ЦеновыеГруппы.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ЦеновыеГруппыПравила
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ЦеновыеГруппы.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования

ИНДЕКСИРОВАТЬ ПО
	ВидЦен,
	ЦеноваяГруппа
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВидЦеныПравила.ВидЦен КАК ВидЦен,
	ВидЦеныПравила.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ВидЦеныПравила
ИЗ
	Справочник.ПравилаЦенообразования КАК ВидЦеныПравила
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ВидЦеныПравила.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ИтоговыйЗапрос.ПравилоЦенообразования КАК ПравилоЦенообразования,
	ИтоговыйЗапрос.Номенклатура КАК Номенклатура,
	ИтоговыйЗапрос.Характеристика КАК Характеристика,
	ИтоговыйЗапрос.Цена / ВЫБОР
		КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
			ТОГДА 1
		КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
			ТОГДА 1
		ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
	КОНЕЦ КАК Цена,
	СправочникНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	ВЫБОР
		КОГДА ИтоговыйЗапрос.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
			ТОГДА ЛОЖЬ
		ИНАЧЕ ИСТИНА
	КОНЕЦ КАК ПередатьИсходящиеДанные
ИЗ
	(ВЫБРАТЬ
		ПодЗапрос.ПравилоЦенообразования КАК ПравилоЦенообразования,
		ПодЗапрос.Номенклатура КАК Номенклатура,
		ПодЗапрос.Характеристика КАК Характеристика,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.УпаковкаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.УпаковкаПоВидуЦен)
		КОНЕЦ КАК Упаковка,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ЦенаПоВидуЦен)
		КОНЕЦ КАК Цена
	ИЗ
		(ВЫБРАТЬ
			ЦеныНоменклатурыПоВидуЦен.Номенклатура КАК Номенклатура,
			ЦеныНоменклатурыПоВидуЦен.Характеристика КАК Характеристика,
			ЦеныНоменклатурыПоВидуЦен.Упаковка КАК УпаковкаПоВидуЦен,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) КАК УпаковкаПоЦеновымГруппам,
			ЦеныНоменклатурыПоВидуЦен.Цена КАК ЦенаПоВидуЦен,
			0 КАК ЦенаПоЦеновымГруппам,
			ВидЦеныПравила.ПравилоЦенообразования КАК ПравилоЦенообразования
		ИЗ
			РегистрСведений.ЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоВидуЦен
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидЦеныПравила КАК ВидЦеныПравила
				ПО (ВидЦеныПравила.ВидЦен = ЦеныНоменклатурыПоВидуЦен.ВидЦены)
		
		ОБЪЕДИНИТЬ ВСЕ
		
		ВЫБРАТЬ
			СправочникНоменклатура.Ссылка,
			ЦеныНоменклатурыПоЦеновымГруппам.Характеристика,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.Упаковка,
			0,
			ЕСТЬNULL(ЦеныНоменклатурыПоЦеновымГруппам.Цена, 0),
			ЦеновыеГруппыПравила.ПравилоЦенообразования
		ИЗ
			ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
				ПО ЦеновыеГруппыПравила.ЦеноваяГруппа = СправочникНоменклатура.ЦеноваяГруппа
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(
						,
						ВидЦены В
								(ВЫБРАТЬ РАЗЛИЧНЫЕ
									ЦеновыеГруппыПравила.ВидЦен
								ИЗ
									ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила)
							И Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоЦеновымГруппам
				ПО (ЦеныНоменклатурыПоЦеновымГруппам.Номенклатура = СправочникНоменклатура.Ссылка)
					И (ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены = ЦеновыеГруппыПравила.ВидЦен)) КАК ПодЗапрос
	
	СГРУППИРОВАТЬ ПО
		ПодЗапрос.Номенклатура,
		ПодЗапрос.Характеристика,
		ПодЗапрос.ПравилоЦенообразования) КАК ИтоговыйЗапрос
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
		ПО (СправочникНоменклатура.Ссылка = ИтоговыйЗапрос.Номенклатура)
ИТОГИ ПО
	ПравилоЦенообразования
;</Текст>
			</Запрос>
			<Запрос Имя="УстановкаЦенНоменклатурыБезХарактеристик" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования
ПОМЕСТИТЬ ТаблицаМагазиновЦеныНоменклатуры
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ЦеновыеГруппы.ВидЦен КАК ВидЦен,
	ЦеновыеГруппы.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ЦеновыеГруппыПравила
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ЦеновыеГруппы.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования

ИНДЕКСИРОВАТЬ ПО
	ВидЦен,
	ЦеноваяГруппа
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВидЦеныПравила.ВидЦен КАК ВидЦен,
	ВидЦеныПравила.Ссылка КАК ПравилоЦенообразования
ПОМЕСТИТЬ ВидЦеныПравила
ИЗ
	Справочник.ПравилаЦенообразования КАК ВидЦеныПравила
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаМагазиновЦеныНоменклатуры КАК ТаблицаМагазинов
		ПО ВидЦеныПравила.Ссылка = ТаблицаМагазинов.ПравилоЦенообразования
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ИтоговыйЗапрос.ПравилоЦенообразования КАК ПравилоЦенообразования,
	ИтоговыйЗапрос.Номенклатура КАК Номенклатура,
	ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка) КАК Характеристика,
	МАКСИМУМ(ИтоговыйЗапрос.Цена / ВЫБОР
			КОГДА ИтоговыйЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка)
				ТОГДА 1
			КОГДА ИтоговыйЗапрос.Упаковка.Коэффициент = 0
				ТОГДА 1
			ИНАЧЕ ИтоговыйЗапрос.Упаковка.Коэффициент
		КОНЕЦ) КАК Цена,
	СправочникНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	ЛОЖЬ КАК ПередатьИсходящиеДанные
ИЗ
	(ВЫБРАТЬ
		ПодЗапрос.ПравилоЦенообразования КАК ПравилоЦенообразования,
		ПодЗапрос.Номенклатура КАК Номенклатура,
		ПодЗапрос.Характеристика КАК Характеристика,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.УпаковкаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.УпаковкаПоВидуЦен)
		КОНЕЦ КАК Упаковка,
		ВЫБОР
			КОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам) &gt; 0
				ТОГДА МАКСИМУМ(ПодЗапрос.ЦенаПоЦеновымГруппам)
			ИНАЧЕ МАКСИМУМ(ПодЗапрос.ЦенаПоВидуЦен)
		КОНЕЦ КАК Цена
	ИЗ
		(ВЫБРАТЬ
			ЦеныНоменклатурыПоВидуЦен.Номенклатура КАК Номенклатура,
			ЦеныНоменклатурыПоВидуЦен.Характеристика КАК Характеристика,
			ЦеныНоменклатурыПоВидуЦен.Упаковка КАК УпаковкаПоВидуЦен,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) КАК УпаковкаПоЦеновымГруппам,
			ЦеныНоменклатурыПоВидуЦен.Цена КАК ЦенаПоВидуЦен,
			0 КАК ЦенаПоЦеновымГруппам,
			ВидЦеныПравила.ПравилоЦенообразования КАК ПравилоЦенообразования
		ИЗ
			РегистрСведений.ЦеныНоменклатуры.СрезПоследних(, Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоВидуЦен
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидЦеныПравила КАК ВидЦеныПравила
				ПО (ВидЦеныПравила.ВидЦен = ЦеныНоменклатурыПоВидуЦен.ВидЦены)
		
		ОБЪЕДИНИТЬ ВСЕ
		
		ВЫБРАТЬ
			СправочникНоменклатура.Ссылка,
			ЦеныНоменклатурыПоЦеновымГруппам.Характеристика,
			ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка),
			ЦеныНоменклатурыПоЦеновымГруппам.Упаковка,
			0,
			ЕСТЬNULL(ЦеныНоменклатурыПоЦеновымГруппам.Цена, 0),
			ЦеновыеГруппыПравила.ПравилоЦенообразования
		ИЗ
			ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила
				ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
				ПО ЦеновыеГруппыПравила.ЦеноваяГруппа = СправочникНоменклатура.ЦеноваяГруппа
				ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(
						,
						ВидЦены В
								(ВЫБРАТЬ РАЗЛИЧНЫЕ
									ЦеновыеГруппыПравила.ВидЦен
								ИЗ
									ЦеновыеГруппыПравила КАК ЦеновыеГруппыПравила)
							И Регистратор = &amp;Ссылка) КАК ЦеныНоменклатурыПоЦеновымГруппам
				ПО (ЦеныНоменклатурыПоЦеновымГруппам.Номенклатура = СправочникНоменклатура.Ссылка)
					И (ЦеныНоменклатурыПоЦеновымГруппам.ВидЦены = ЦеновыеГруппыПравила.ВидЦен)) КАК ПодЗапрос
	
	СГРУППИРОВАТЬ ПО
		ПодЗапрос.Номенклатура,
		ПодЗапрос.Характеристика,
		ПодЗапрос.ПравилоЦенообразования) КАК ИтоговыйЗапрос
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
		ПО (СправочникНоменклатура.Ссылка = ИтоговыйЗапрос.Номенклатура)

СГРУППИРОВАТЬ ПО
	ИтоговыйЗапрос.ПравилоЦенообразования,
	ИтоговыйЗапрос.Номенклатура,
	СправочникНоменклатура.ЕдиницаИзмерения
ИТОГИ ПО
	ПравилоЦенообразования
	
;</Текст>
			</Запрос>
		</Группа>
		<Запрос Имя="ПараметрыВыгрузкиДанных" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	УзелОбмена.ИспользоватьОтборПоОрганизациям,
	УзелОбмена.ПередаватьРозничныеЦены,
	УзелОбмена.ПередаватьЦеныХарактеристик,
	УзелОбмена.ДатаНачалаВыгрузкиДокументов,
	УзелОбмена.СпособПередачиСписания,
	УзелОбмена.ВыгружатьОтчетОРозничныхПродажахКакРеализацию,
	УзелОбмена.ИспользоватьОтветственногоКакАвтора
	
ИЗ
	ПланОбмена.ОбменРозницаБухгалтерияПредприятия30 КАК УзелОбмена
ГДЕ
	УзелОбмена.Ссылка = &amp;Ссылка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	ОрганизацииУзла.Организация КАК Организация
ИЗ
	ПланОбмена.ОбменРозницаБухгалтерияПредприятия30.Организации КАК ОрганизацииУзла
ГДЕ
	ОрганизацииУзла.Ссылка = &amp;Ссылка
;</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>